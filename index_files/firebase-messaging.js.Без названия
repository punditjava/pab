var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,a,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[a]=b.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,a,b,f){if(a){b=$jscomp.global;c=c.split(".");for(f=0;f<c.length-1;f++){var n=c[f];n in b||(b[n]={});b=b[n]}c=c[c.length-1];f=b[c];a=a(f);a!=f&&null!=a&&$jscomp.defineProperty(b,c,{configurable:!0,writable:!0,value:a})}};$jscomp.polyfill("Object.setPrototypeOf",function(c){return c?c:"object"!=typeof"".__proto__?null:function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}},"es6","es5");
$jscomp.owns=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)};$jscomp.polyfill("Object.assign",function(c){return c?c:function(a,b){for(var c=1;c<arguments.length;c++){var n=arguments[c];if(n)for(var l in n)$jscomp.owns(n,l)&&(a[l]=n[l])}return a}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(c){var a=0;return $jscomp.iteratorPrototype(function(){return a<c.length?{done:!1,value:c[a++]}:{done:!0}})};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();var a=c[Symbol.iterator];return a?a.call(c):$jscomp.arrayIterator(c)};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function a(){this.batch_=null}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;a.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};a.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var b=$jscomp.global.setTimeout;a.prototype.asyncExecuteFunction=function(a){b(a,0)};a.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var m=a[b];delete a[b];try{m()}catch(A){this.asyncThrow_(A)}}}this.batch_=null};a.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var f=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(m){b.reject(m)}};f.prototype.createResolveAndReject_=function(){function a(a){return function(c){m||(m=!0,a.call(b,c))}}var b=this,m=
!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};f.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof f)this.settleSameAsPromise_(a);else{var b;a:switch(typeof a){case "object":b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};f.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(m){this.reject_(m);return}"function"==
typeof b?this.settleSameAsThenable_(b,a):this.fulfill_(a)};f.prototype.reject_=function(a){this.settle_(2,a)};f.prototype.fulfill_=function(a){this.settle_(1,a)};f.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};f.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=this.onSettledCallbacks_,b=0;b<a.length;++b)a[b].call(),
a[b]=null;this.onSettledCallbacks_=null}};var n=new a;f.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};f.prototype.settleSameAsThenable_=function(a,b){var m=this.createResolveAndReject_();try{a.call(b,m.resolve,m.reject)}catch(A){m.reject(A)}};f.prototype.then=function(a,b){function m(a,b){return"function"==typeof a?function(b){try{c(a(b))}catch(J){u(J)}}:b}var c,u,w=new f(function(a,b){c=a;u=b});this.callWhenSettled_(m(a,c),
m(b,u));return w};f.prototype["catch"]=function(a){return this.then(void 0,a)};f.prototype.callWhenSettled_=function(a,b){function m(){switch(c.state_){case 1:a(c.result_);break;case 2:b(c.result_);break;default:throw Error("Unexpected state: "+c.state_);}}var c=this;null==this.onSettledCallbacks_?n.asyncExecute(m):this.onSettledCallbacks_.push(function(){n.asyncExecute(m)})};f.resolve=function(a){return a instanceof f?a:new f(function(b,m){b(a)})};f.reject=function(a){return new f(function(b,m){m(a)})};
f.race=function(a){return new f(function(b,m){for(var c=$jscomp.makeIterator(a),u=c.next();!u.done;u=c.next())f.resolve(u.value).callWhenSettled_(b,m)})};f.all=function(a){var b=$jscomp.makeIterator(a),c=b.next();return c.done?f.resolve([]):new f(function(a,m){function u(b){return function(c){A[b]=c;w--;0==w&&a(A)}}var A=[],w=0;do A.push(void 0),w++,f.resolve(c.value).callWhenSettled_(u(A.length-1),m),c=b.next();while(!c.done)})};$jscomp.EXPOSE_ASYNC_EXECUTOR&&(f.$jscomp$new$AsyncExecutor=function(){return new a});
return f},"es6-impl","es3");$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(c,a){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var b=0,f={next:function(){if(b<c.length){var n=b++;return{value:a(n,c[n]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};
$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");$jscomp.checkStringArgs=function(c,a,b){if(null==c)throw new TypeError("The 'this' value for String.prototype."+b+" must not be null or undefined");if(a instanceof RegExp)throw new TypeError("First argument to String.prototype."+b+" must not be a regular expression");return c+""};
$jscomp.polyfill("String.prototype.includes",function(c){return c?c:function(a,b){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,b||0)}},"es6-impl","es3");
$jscomp.polyfill("WeakMap",function(c){function a(a){$jscomp.owns(a,f)||$jscomp.defineProperty(a,f,{value:{}})}function b(b){var c=Object[b];c&&(Object[b]=function(b){a(b);return c(b)})}if(function(){if(!c||!Object.seal)return!1;try{var a=Object.seal({}),b=Object.seal({}),f=new c([[a,2],[b,3]]);if(2!=f.get(a)||3!=f.get(b))return!1;f["delete"](a);f.set(b,4);return!f.has(a)&&4==f.get(b)}catch(u){return!1}}())return c;var f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");
b("seal");var n=0,l=function(a){this.id_=(n+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};l.prototype.set=function(b,c){a(b);if(!$jscomp.owns(b,f))throw Error("WeakMap key fail: "+b);b[f][this.id_]=c;return this};l.prototype.get=function(a){return $jscomp.owns(a,f)?a[f][this.id_]:void 0};l.prototype.has=function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)};l.prototype["delete"]=
function(a){return $jscomp.owns(a,f)&&$jscomp.owns(a[f],this.id_)?delete a[f][this.id_]:!1};return l},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(c){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),b=new c($jscomp.makeIterator([[a,"s"]]));if("s"!=b.get(a)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var f=b.entries(),l=f.next();if(l.done||l.value[0]!=a||"s"!=l.value[1])return!1;l=f.next();return l.done||4!=l.value[0].x||"t"!=l.value[1]||!f.next().done?!1:!0}catch(O){return!1}}())return c;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var a=new WeakMap,b=function(a){this.data_={};this.head_=l();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};b.prototype.set=function(a,b){var c=f(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};b.prototype["delete"]=
function(a){a=f(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=l();this.size=0};b.prototype.has=function(a){return!!f(this,a).entry};b.prototype.get=function(a){return(a=f(this,a).entry)&&a.value};b.prototype.entries=function(){return n(this,function(a){return[a.key,
a.value]})};b.prototype.keys=function(){return n(this,function(a){return a.key})};b.prototype.values=function(){return n(this,function(a){return a.value})};b.prototype.forEach=function(a,b){for(var c=this.entries(),f;!(f=c.next()).done;)f=f.value,a.call(b,f[1],f[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var f=function(b,c){var f;f=c&&typeof c;"object"==f||"function"==f?a.has(c)?f=a.get(c):(f=""+ ++w,a.set(c,f)):f="p_"+c;var m=b.data_[f];if(m&&$jscomp.owns(b.data_,f))for(var l=0;l<
m.length;l++){var n=m[l];if(c!==c&&n.key!==n.key||c===n.key)return{id:f,list:m,index:l,entry:n}}return{id:f,list:m,index:-1,entry:void 0}},n=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},l=function(){var a={};return a.previous=a.next=a.head=a},w=0;return b},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(c){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!c||!c.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),f=new c($jscomp.makeIterator([a]));if(!f.has(a)||1!=f.size||f.add(a)!=f||1!=f.size||f.add({x:4})!=f||2!=f.size)return!1;var n=f.entries(),l=n.next();if(l.done||l.value[0]!=a||l.value[1]!=a)return!1;l=n.next();return l.done||l.value[0]==a||4!=l.value[0].x||l.value[1]!=l.value[0]?!1:n.next().done}catch(w){return!1}}())return c;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};a.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=
function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(a,c){var b=this;this.map_.forEach(function(f){return a.call(c,f,f,b)})};return a},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(a,b){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";for(var n=c.length,l=a.length,w=Math.max(0,Math.min(b|0,c.length)),m=0;m<l&&w<n;)if(c[w++]!=a[m++])return!1;return m>=l}},"es6-impl","es3");
!function(c,a){"object"==typeof exports&&"undefined"!=typeof module?a(require("@firebase/app")):"function"==typeof define&&define.amd?define(["@firebase/app"],a):a((c||self).firebase)}(this,function(c){try{(function(){function a(a,e,k,b){return new (k=k||Promise)(function(d,g){function h(a){try{c(b.next(a))}catch(K){g(K)}}function q(a){try{c(b["throw"](a))}catch(K){g(K)}}function c(a){a.done?d(a.value):(new k(function(d){d(a.value)})).then(h,q)}c((b=b.apply(a,e||[])).next())})}function b(a,e){function d(d){return function(k){return function(d){if(b)throw new TypeError("Generator is already executing.");
for(;t;)try{if(b=1,h&&(g=2&d[0]?h["return"]:d[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,d[1])).done)return g;switch(h=0,g&&(d=[2&d[0],g.value]),d[0]){case 0:case 1:g=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++;h=d[1];d=[0];continue;case 7:d=t.ops.pop();t.trys.pop();continue;default:if(!(g=0<(g=t.trys).length&&g[g.length-1])&&(6===d[0]||2===d[0])){t=0;continue}if(3===d[0]&&(!g||d[1]>g[0]&&d[1]<g[3]))t.label=d[1];else if(6===d[0]&&t.label<g[1])t.label=
g[1],g=d;else if(g&&t.label<g[2])t.label=g[2],t.ops.push(d);else{g[2]&&t.ops.pop();t.trys.pop();continue}}d=e.call(a,t)}catch(Ra){d=[6,Ra],h=0}finally{b=g=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([d,k])}}var b,h,g,c,t={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return c={next:d(0),"throw":d(1),"return":d(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}function f(d){var a="function"==typeof Symbol&&d[Symbol.iterator],
b=0;return a?a.call(d):{next:function(){return d&&b>=d.length&&(d=void 0),{value:d&&d[b++],done:!d}}}}function n(d,a){var b="function"==typeof Symbol&&d[Symbol.iterator];if(!b)return d;var e,h,g=b.call(d),c=[];try{for(;(void 0===a||0<a--)&&!(e=g.next()).done;)c.push(e.value)}catch(t){h={error:t}}finally{try{e&&!e.done&&(b=g["return"])&&b.call(g)}finally{if(h)throw h.error;}}return c}function l(){for(var d=[],a=0;a<arguments.length;a++)d=d.concat(n(arguments[a]));return d}function w(){this.constructor=
aa}function m(d,a){var b=ba.call(this,a)||this;return b.code=d,b.name="FirebaseError",Object.setPrototypeOf(b,m.prototype),Error.captureStackTrace&&Error.captureStackTrace(b,ca.prototype.create),b}function A(d,a,b){this.service=d;this.serviceName=a;this.errors=b}function u(d,a,b){this.name=d;this.instanceFactory=a;this.type=b;this.multipleInstances=!1;this.serviceProps={};this.instantiationMode="LAZY"}function ta(d){return new Promise(function(a,b){d.onsuccess=function(){a(d.result)};d.onerror=function(){b(d.error)}})}
function O(d,a,b){var e,h=new Promise(function(h,k){ta(e=d[a].apply(d,b)).then(h,k)});return h.request=e,h}function I(d,a,b){b.forEach(function(b){Object.defineProperty(d.prototype,b,{get:function(){return this[a][b]},set:function(d){this[a][b]=d}})})}function Z(a,b,k,c){c.forEach(function(d){d in k.prototype&&(a.prototype[d]=function(){return O(this[b],d,arguments)})})}function J(a,b,k,c){c.forEach(function(d){d in k.prototype&&(a.prototype[d]=function(){return this[b][d].apply(this[b],arguments)})})}
function ua(a,b,k,c){c.forEach(function(d){d in k.prototype&&(a.prototype[d]=function(){return function(a,d,b){var e=O(a,d,b);return e.then(function(a){if(a)return new Q(a,e.request)})}(this[b],d,arguments)})})}function F(a){this._index=a}function Q(a,b){this._cursor=a;this._request=b}function C(a){this._store=a}function R(a){this._tx=a;this.complete=new Promise(function(d,b){a.oncomplete=function(){d()};a.onerror=function(){b(a.error)};a.onabort=function(){b(a.error)}})}function V(a,b,c){this._db=
a;this.oldVersion=b;this.transaction=new R(c)}function W(a){this._db=a}function da(a,b,c){a=O(indexedDB,"open",[a,b]);var d=a.request;return d&&(d.onupgradeneeded=function(a){c&&c(new V(d.result,a.oldVersion,d.transaction))}),a.then(function(a){return new W(a)})}function ea(a){return O(indexedDB,"deleteDatabase",[a])}function va(a){return a instanceof wa&&a.code.includes("request-failed")}function fa(a){return"https://firebaseinstallations.googleapis.com/v1/projects/"+a.projectId+"/installations"}
function xa(a){return{token:a.token,requestStatus:2,expiresIn:Number(a.expiresIn.replace("s","000")),creationTime:Date.now()}}function ga(d,c){return a(this,void 0,void 0,function(){var a,e;return b(this,function(b){switch(b.label){case 0:return[4,c.json()];case 1:return a=b.sent(),e=a.error,[2,D.create("request-failed",{requestName:d,serverCode:e.code,serverMessage:e.message,serverStatus:e.status})]}})})}function ya(a){return new Headers({"Content-Type":"application/json",Accept:"application/json",
"x-goog-api-key":a.apiKey})}function za(a,b){var d=b.refreshToken,c=ya(a);return c.append("Authorization","FIS_v2 "+d),c}function ha(d){return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return[4,d()];case 1:return 500<=(a=b.sent()).status&&600>a.status?[2,d()]:[2,a]}})})}function Aa(a){return new Promise(function(d){setTimeout(d,a)})}function Sa(){try{var a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a);a[0]=112+a[0]%16;var b=btoa(String.fromCharCode.apply(String,
l(a))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22);return Ta.test(b)?b:""}catch(k){return""}}function L(a){return a.appName+"!"+a.appId}function Ba(a,b){var d=L(a);Ca(d,b);var c=Da();c&&c.postMessage({key:d,fid:b});Ea()}function Ca(a,b){var d,c,e=M.get(a);if(e)try{for(var g=f(e),v=g.next();!v.done;v=g.next())(0,v.value)(b)}catch(t){d={error:t}}finally{try{v&&!v.done&&(c=g["return"])&&c.call(g)}finally{if(d)throw d.error;}}}function Da(){return!N&&"BroadcastChannel"in self&&((N=new BroadcastChannel("[Firebase] FID Change")).onmessage=
function(a){Ca(a.data.key,a.data.fid)}),N}function Ea(){0===M.size&&N&&(N.close(),N=null)}function ia(){return Fa=Fa||da("firebase-installations-database",1,function(a){switch(a.oldVersion){case 0:a.createObjectStore("firebase-installations-store")}})}function X(d,c){return a(this,void 0,void 0,function(){var a,e,h,g,v;return b(this,function(b){switch(b.label){case 0:return a=L(d),[4,ia()];case 1:return e=b.sent(),h=e.transaction("firebase-installations-store","readwrite"),[4,(g=h.objectStore("firebase-installations-store")).get(a)];
case 2:return v=b.sent(),[4,g.put(c,a)];case 3:return b.sent(),[4,h.complete];case 4:return b.sent(),v&&v.fid===c.fid||Ba(d,c.fid),[2,c]}})})}function ja(d){return a(this,void 0,void 0,function(){var a,c,q;return b(this,function(b){switch(b.label){case 0:return a=L(d),[4,ia()];case 1:return c=b.sent(),[4,(q=c.transaction("firebase-installations-store","readwrite")).objectStore("firebase-installations-store")["delete"](a)];case 2:return b.sent(),[4,q.complete];case 3:return b.sent(),[2]}})})}function S(d,
c){return a(this,void 0,void 0,function(){var a,e,h,g,v,f;return b(this,function(b){switch(b.label){case 0:return a=L(d),[4,ia()];case 1:return e=b.sent(),h=e.transaction("firebase-installations-store","readwrite"),[4,(g=h.objectStore("firebase-installations-store")).get(a)];case 2:return v=b.sent(),void 0!==(f=c(v))?[3,4]:[4,g["delete"](a)];case 3:return b.sent(),[3,6];case 4:return[4,g.put(f,a)];case 5:b.sent(),b.label=6;case 6:return[4,h.complete];case 7:return b.sent(),!f||v&&v.fid===f.fid||Ba(d,
f.fid),[2,f]}})})}function ka(d){return a(this,void 0,void 0,function(){var c,k,q;return b(this,function(e){switch(e.label){case 0:return[4,S(d,function(g){g=Ga(g||{fid:Sa(),registrationStatus:0});g=function(d,c){if(0!==c.registrationStatus)return 1===c.registrationStatus?{installationEntry:c,registrationPromise:function(d){return a(this,void 0,void 0,function(){var a,c,g,e;return b(this,function(b){switch(b.label){case 0:return[4,Ha(d)];case 1:a=b.sent(),b.label=2;case 2:return 1!==a.registrationStatus?
[3,5]:[4,Aa(100)];case 3:return b.sent(),[4,Ha(d)];case 4:return a=b.sent(),[3,2];case 5:return 0!==a.registrationStatus?[3,7]:[4,ka(d)];case 6:return c=b.sent(),g=c.installationEntry,(e=c.registrationPromise)?[2,e]:[2,g];case 7:return[2,a]}})})}(d)}:{installationEntry:c};if(!navigator.onLine){var g=Promise.reject(D.create("app-offline"));return{installationEntry:c,registrationPromise:g}}var g={fid:c.fid,registrationStatus:1,registrationTime:Date.now()},e=function(d,c){return a(this,void 0,void 0,
function(){var g,e;return b(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,7]),[4,function(d,c){var g=c.fid;return a(this,void 0,void 0,function(){var a,c,e,h,k,q;return b(this,function(b){switch(b.label){case 0:return a=fa(d),c=ya(d),e={fid:g,authVersion:"FIS_v2",appId:d.appId,sdkVersion:"w:0.4.4"},h={method:"POST",headers:c,body:JSON.stringify(e)},[4,ha(function(){return fetch(a,h)})];case 1:return(k=b.sent()).ok?[4,k.json()]:[3,3];case 2:return q=b.sent(),[2,{fid:q.fid||g,registrationStatus:2,
refreshToken:q.refreshToken,authToken:xa(q.authToken)}];case 3:return[4,ga("Create Installation",k)];case 4:throw b.sent();}})})}(d,c)];case 1:return g=h.sent(),[2,X(d,g)];case 2:return va(e=h.sent())&&409===e.serverCode?[4,ja(d)]:[3,4];case 3:return h.sent(),[3,6];case 4:return[4,X(d,{fid:c.fid,registrationStatus:0})];case 5:h.sent(),h.label=6;case 6:throw e;case 7:return[2]}})})}(d,g);return{installationEntry:g,registrationPromise:e}}(d,g);return c=g.registrationPromise,g.installationEntry})];case 1:return""!==
(k=e.sent()).fid?[3,3]:(q={},[4,c]);case 2:return[2,(q.installationEntry=e.sent(),q)];case 3:return[2,{installationEntry:k,registrationPromise:c}]}})})}function Ha(a){return S(a,function(a){if(!a)throw D.create("installation-not-found");return Ga(a)})}function Ga(a){return 1===a.registrationStatus&&a.registrationTime+1E4<Date.now()?{fid:a.fid,registrationStatus:0}:a}function Wa(d,c){var e=d.appConfig,q=d.platformLoggerProvider;return a(this,void 0,void 0,function(){var a,d,k,f,U,P,K;return b(this,
function(b){switch(b.label){case 0:return a=function(a,b){var d=b.fid;return fa(a)+"/"+d+"/authTokens:generate"}(e,c),d=za(e,c),(k=q.getImmediate({optional:!0}))&&d.append("x-firebase-client",k.getPlatformInfoString()),f={installation:{sdkVersion:"w:0.4.4"}},U={method:"POST",headers:d,body:JSON.stringify(f)},[4,ha(function(){return fetch(a,U)})];case 1:return(P=b.sent()).ok?[4,P.json()]:[3,3];case 2:return K=b.sent(),[2,xa(K)];case 3:return[4,ga("Generate Auth Token",P)];case 4:throw b.sent();}})})}
function la(d,c){return void 0===c&&(c=!1),a(this,void 0,void 0,function(){var e,q,h;return b(this,function(g){switch(g.label){case 0:return[4,S(d.appConfig,function(g){if(void 0===g||2!==g.registrationStatus)throw D.create("not-registered");var h=g.authToken;if(!c&&function(a){var b;if(b=2===a.requestStatus)b=Date.now(),b=!(b<a.creationTime||a.creationTime+a.expiresIn<b+36E5);return b}(h))return g;if(1===h.requestStatus)return e=function(d,c){return a(this,void 0,void 0,function(){var a,g;return b(this,
function(b){switch(b.label){case 0:return[4,Ia(d.appConfig)];case 1:a=b.sent(),b.label=2;case 2:return 1!==a.authToken.requestStatus?[3,5]:[4,Aa(100)];case 3:return b.sent(),[4,Ia(d.appConfig)];case 4:return a=b.sent(),[3,2];case 5:return 0===(g=a.authToken).requestStatus?[2,la(d,c)]:[2,g]}})})}(d,c),g;if(!navigator.onLine)throw D.create("app-offline");g=function(a){var b={requestStatus:1,requestTime:Date.now()};return x(x({},a),{authToken:b})}(g);return e=function(d,c){return a(this,void 0,void 0,
function(){var a,g,e;return b(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,8]),[4,Wa(d,c)];case 1:return a=b.sent(),e=x(x({},c),{authToken:a}),[4,X(d.appConfig,e)];case 2:return b.sent(),[2,a];case 3:return!va(g=b.sent())||401!==g.serverCode&&404!==g.serverCode?[3,5]:[4,ja(d.appConfig)];case 4:return b.sent(),[3,7];case 5:return e=x(x({},c),{authToken:{requestStatus:0}}),[4,X(d.appConfig,e)];case 6:b.sent(),b.label=7;case 7:throw g;case 8:return[2]}})})}(d,g),g})];case 1:return q=
g.sent(),e?[4,e]:[3,3];case 2:return h=g.sent(),[3,4];case 3:h=q.authToken,g.label=4;case 4:return[2,h]}})})}function Ia(a){return S(a,function(a){if(void 0===a||2!==a.registrationStatus)throw D.create("not-registered");var b=a.authToken;return 1===b.requestStatus&&b.requestTime+1E4<Date.now()?x(x({},a),{authToken:{requestStatus:0}}):a})}function Xa(d,c){return void 0===c&&(c=!1),a(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,function(d){return a(this,void 0,
void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return[4,ka(d)];case 1:return(a=b.sent().registrationPromise)?[4,a]:[3,3];case 2:b.sent(),b.label=3;case 3:return[2]}})})}(d.appConfig)];case 1:return e.sent(),[4,la(d,c)];case 2:return[2,e.sent().token]}})})}function Ya(d,c){return a(this,void 0,void 0,function(){var a,e,h,g;return b(this,function(b){switch(b.label){case 0:return a=function(a,b){var d=b.fid;return fa(a)+"/"+d}(d,c),e=za(d,c),h={method:"DELETE",headers:e},[4,
ha(function(){return fetch(a,h)})];case 1:return(g=b.sent()).ok?[3,3]:[4,ga("Delete Installation",g)];case 2:throw b.sent();case 3:return[2]}})})}function Za(a,b){var d=a.appConfig;return function(a,b){Da();var d=L(a),c=M.get(d);c||(c=new Set,M.set(d,c));c.add(b)}(d,b),function(){var a=L(d),c=M.get(a);c&&(c["delete"](b),0===c.size&&M["delete"](a),Ea());!0}}function ma(a){return D.create("missing-app-config-values",{valueName:a})}function na(a){return p.create("missing-app-config-values",{valueName:a})}
function E(a){a=new Uint8Array(a);return btoa(String.fromCharCode.apply(String,l(a))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $a(d){return a(this,void 0,void 0,function(){var c,k,f=this;return b(this,function(e){switch(e.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(c=e.sent(),!c.map(function(a){return a.name}).includes("fcm_token_details_db"))return[2,null];e.label=2;case 2:return k=null,[4,da("fcm_token_details_db",5,function(c){return a(f,
void 0,void 0,function(){var a,g,e,h;return b(this,function(b){switch(b.label){case 0:return 2>c.oldVersion?[2]:c.objectStoreNames.contains("fcm_token_object_Store")?[4,(a=c.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(d)]:[2];case 1:return g=b.sent(),[4,a.clear()];case 2:if(b.sent(),!g)return[2];if(2===c.oldVersion){if(!(e=g).auth||!e.p256dh||!e.endpoint)return[2];k={token:e.fcmToken,createTime:null!==(h=e.createTime)&&void 0!==h?h:Date.now(),subscriptionOptions:{auth:e.auth,
p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:E(e.vapidKey)}}}else 3===c.oldVersion?k={token:(e=g).fcmToken,createTime:e.createTime,subscriptionOptions:{auth:E(e.auth),p256dh:E(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:E(e.vapidKey)}}:4===c.oldVersion&&(k={token:(e=g).fcmToken,createTime:e.createTime,subscriptionOptions:{auth:E(e.auth),p256dh:E(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:E(e.vapidKey)}});return[2]}})})})];
case 3:return e.sent().close(),[4,ea("fcm_token_details_db")];case 4:return e.sent(),[4,ea("fcm_vapid_details_db")];case 5:return e.sent(),[4,ea("undefined")];case 6:return e.sent(),[2,function(a){if(!a||!a.subscriptionOptions)return!1;var b=a.subscriptionOptions;return"number"==typeof a.createTime&&0<a.createTime&&"string"==typeof a.token&&0<a.token.length&&"string"==typeof b.auth&&0<b.auth.length&&"string"==typeof b.p256dh&&0<b.p256dh.length&&"string"==typeof b.endpoint&&0<b.endpoint.length&&"string"==
typeof b.swScope&&0<b.swScope.length&&"string"==typeof b.vapidKey&&0<b.vapidKey.length}(k)?k:null]}})})}function oa(){return Ja=Ja||da("firebase-messaging-database",1,function(a){switch(a.oldVersion){case 0:a.createObjectStore("firebase-messaging-store")}})}function Y(d){return a(this,void 0,void 0,function(){var a,c,f;return b(this,function(b){switch(b.label){case 0:return a=d.appConfig.appId,[4,oa()];case 1:return[4,b.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(a)];
case 2:return(c=b.sent())?[2,c]:[3,3];case 3:return[4,$a(d.appConfig.senderId)];case 4:return(f=b.sent())?[4,pa(d,f)]:[3,6];case 5:return b.sent(),[2,f];case 6:return[2]}})})}function pa(d,c){return a(this,void 0,void 0,function(){var a,e,h;return b(this,function(b){switch(b.label){case 0:return a=d.appConfig.appId,[4,oa()];case 1:return e=b.sent(),[4,(h=e.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(c,a)];case 2:return b.sent(),[4,h.complete];case 3:return b.sent(),
[2,c]}})})}function Ka(d,c){return a(this,void 0,void 0,function(){var a,e,h,g,f;return b(this,function(b){switch(b.label){case 0:return[4,qa(d)];case 1:a=b.sent(),e={method:"DELETE",headers:a},b.label=2;case 2:return b.trys.push([2,5,,6]),[4,fetch(ra(d.appConfig)+"/"+c,e)];case 3:return[4,b.sent().json()];case 4:if((h=b.sent()).error)throw g=h.error.message,p.create("token-unsubscribe-failed",{errorInfo:g});return[3,6];case 5:throw f=b.sent(),p.create("token-unsubscribe-failed",{errorInfo:f});case 6:return[2]}})})}
function ra(a){return"https://fcmregistrations.googleapis.com/v1/projects/"+a.projectId+"/registrations"}function qa(d){var c=d.appConfig,f=d.installations;return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return[4,f.getToken()];case 1:return a=b.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":c.apiKey,"x-goog-firebase-installations-auth":"FIS "+a})]}})})}function La(a){var b=a.vapidKey;a={web:{endpoint:a.endpoint,
auth:a.auth,p256dh:a.p256dh}};return"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"!==b&&(a.web.applicationPubKey=b),a}function sa(d,c,f){return a(this,void 0,void 0,function(){var e,h,g,k;return b(this,function(q){switch(q.label){case 0:if("granted"!==Notification.permission)throw p.create("permission-blocked");return[4,function(d,c){return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return[4,d.pushManager.getSubscription()];
case 1:return(a=b.sent())?[2,a]:[2,d.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:c})]}})})}(c,f)];case 1:return e=q.sent(),[4,Y(d)];case 2:return h=q.sent(),g={vapidKey:f,swScope:c.scope,endpoint:e.endpoint,auth:E(e.getKey("auth")),p256dh:E(e.getKey("p256dh"))},h?[3,3]:[2,Ma(d,g)];case 3:if(function(a,b){var d=b.endpoint===a.endpoint,c=b.auth===a.auth,e=b.p256dh===a.p256dh;return b.vapidKey===a.vapidKey&&d&&c&&e}(h.subscriptionOptions,g))return[3,8];q.label=4;case 4:return q.trys.push([4,
6,,7]),[4,Ka(d,h.token)];case 5:return q.sent(),[3,7];case 6:return k=q.sent(),console.warn(k),[3,7];case 7:return[2,Ma(d,g)];case 8:return Date.now()>=h.createTime+6048E5?[2,function(d,c,e){return a(this,void 0,void 0,function(){var g,h,f;return b(this,function(k){switch(k.label){case 0:return k.trys.push([0,3,,5]),[4,function(d,c){return a(this,void 0,void 0,function(){var a,e,g,h,f,k;return b(this,function(b){switch(b.label){case 0:return[4,qa(d)];case 1:a=b.sent(),e=La(c.subscriptionOptions),
g={method:"PATCH",headers:a,body:JSON.stringify(e)},b.label=2;case 2:return b.trys.push([2,5,,6]),[4,fetch(ra(d.appConfig)+"/"+c.token,g)];case 3:return[4,b.sent().json()];case 4:return h=b.sent(),[3,6];case 5:throw f=b.sent(),p.create("token-update-failed",{errorInfo:f});case 6:if(h.error)throw k=h.error.message,p.create("token-update-failed",{errorInfo:k});if(!h.token)throw p.create("token-update-no-token");return[2,h.token]}})})}(c,d)];case 1:return g=k.sent(),h=x({token:g,createTime:Date.now()},
d),[4,pa(c,h)];case 2:return k.sent(),[2,g];case 3:return f=k.sent(),[4,T(c,e)];case 4:throw k.sent(),f;case 5:return[2]}})})}({token:h.token,createTime:Date.now(),subscriptionOptions:g},d,c)]:[2,h.token];case 9:return[2]}})})}function T(d,c){return a(this,void 0,void 0,function(){var e,f;return b(this,function(h){switch(h.label){case 0:return[4,Y(d)];case 1:return(e=h.sent())?[4,Ka(d,e.token)]:[3,4];case 2:return h.sent(),[4,function(d){return a(this,void 0,void 0,function(){var a,c,e;return b(this,
function(b){switch(b.label){case 0:return a=d.appConfig.appId,[4,oa()];case 1:return c=b.sent(),[4,(e=c.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store")["delete"](a)];case 2:return b.sent(),[4,e.complete];case 3:return b.sent(),[2]}})})}(d)];case 3:h.sent(),h.label=4;case 4:return[4,c.pushManager.getSubscription()];case 5:return(f=h.sent())?[2,f.unsubscribe()]:[2,!0]}})})}function Ma(d,c){return a(this,void 0,void 0,function(){var e,f;return b(this,function(h){switch(h.label){case 0:return[4,
function(d,c){return a(this,void 0,void 0,function(){var a,e,g,h,f,k;return b(this,function(b){switch(b.label){case 0:return[4,qa(d)];case 1:a=b.sent(),e=La(c),g={method:"POST",headers:a,body:JSON.stringify(e)},b.label=2;case 2:return b.trys.push([2,5,,6]),[4,fetch(ra(d.appConfig),g)];case 3:return[4,b.sent().json()];case 4:return h=b.sent(),[3,6];case 5:throw f=b.sent(),p.create("token-subscribe-failed",{errorInfo:f});case 6:if(h.error)throw k=h.error.message,p.create("token-subscribe-failed",{errorInfo:k});
if(!h.token)throw p.create("token-subscribe-no-token");return[2,h.token]}})})}(d,c)];case 1:return e=h.sent(),f={token:e,createTime:Date.now(),subscriptionOptions:c},[4,pa(d,f)];case 2:return h.sent(),[2,f.token]}})})}function Na(a){return"object"==typeof a&&!!a&&"google.c.a.c_id"in a}function y(a){var b=this;this.firebaseDependencies=a;this.onMessageCallback=this.vapidKey=null;navigator.serviceWorker.addEventListener("message",function(a){return b.messageEventListener(a)})}function z(a){var b=this;
this.firebaseDependencies=a;this.bgMessageHandler=this.vapidKey=null;self.addEventListener("push",function(a){a.waitUntil(b.onPush(a))});self.addEventListener("pushsubscriptionchange",function(a){a.waitUntil(b.onSubChange(a))});self.addEventListener("notificationclick",function(a){a.waitUntil(b.onNotificationClick(a))})}function Oa(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Pa(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&
"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}c=c&&c.hasOwnProperty("default")?c["default"]:c;
var Qa=function(a,b){return(Qa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},x=function(){return(x=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var f in b=arguments[c])Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f]);return a}).apply(this,arguments)},aa,G,ba,wa=(ba=Error,Qa(aa=m,G=ba),void(aa.prototype=null===G?Object.create(G):(w.prototype=G.prototype,new w)),
m),ca=(A.prototype.create=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var b=b[0]||{},c=this.service+"/"+a,d=this.errors[a],d=d?function(a,b){return a.replace(ab,function(a,c){var d=b[c];return null!=d?d.toString():"<"+c+"?>"})}(d,b):"Error",c=new wa(c,this.serviceName+": "+d+" ("+c+")."),d=0,f=Object.keys(b);d<f.length;d++){var g=f[d];"_"!==g.slice(-1)&&(g in c&&console.warn('Overwriting FirebaseError base field "'+g+'" can cause unexpected behavior.'),c[g]=b[g])}return c},
A),ab=/\{\$([^}]+)}/g;G=(u.prototype.setInstantiationMode=function(a){return this.instantiationMode=a,this},u.prototype.setMultipleInstances=function(a){return this.multipleInstances=a,this},u.prototype.setServiceProps=function(a){return this.serviceProps=a,this},u);I(F,"_index",["name","keyPath","multiEntry","unique"]);Z(F,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);ua(F,"_index",IDBIndex,["openCursor","openKeyCursor"]);I(Q,"_cursor",["direction","key","primaryKey","value"]);
Z(Q,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(Q.prototype[a]=function(){var b=this,c=arguments;return Promise.resolve().then(function(){return b._cursor[a].apply(b._cursor,c),ta(b._request).then(function(a){if(a)return new Q(a,b._request)})})})});C.prototype.createIndex=function(){return new F(this._store.createIndex.apply(this._store,arguments))};C.prototype.index=function(){return new F(this._store.index.apply(this._store,
arguments))};I(C,"_store",["name","keyPath","indexNames","autoIncrement"]);Z(C,"_store",IDBObjectStore,"put add delete clear get getAll getKey getAllKeys count".split(" "));ua(C,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);J(C,"_store",IDBObjectStore,["deleteIndex"]);R.prototype.objectStore=function(){return new C(this._tx.objectStore.apply(this._tx,arguments))};I(R,"_tx",["objectStoreNames","mode"]);J(R,"_tx",IDBTransaction,["abort"]);V.prototype.createObjectStore=function(){return new C(this._db.createObjectStore.apply(this._db,
arguments))};I(V,"_db",["name","version","objectStoreNames"]);J(V,"_db",IDBDatabase,["deleteObjectStore","close"]);W.prototype.transaction=function(){return new R(this._db.transaction.apply(this._db,arguments))};I(W,"_db",["name","version","objectStoreNames"]);J(W,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(a){[C,F].forEach(function(b){a in b.prototype&&(b.prototype[a.replace("open","iterate")]=function(){var b=Array.prototype.slice.call(arguments),c=b[b.length-1],
d=this._store||this._index,e=d[a].apply(d,b.slice(0,-1));e.onsuccess=function(){c(e.result)}})})});[F,C].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,b){var c=this,d=[];return new Promise(function(e){c.iterateCursor(a,function(a){a?(d.push(a.value),void 0===b||d.length!=b?a["continue"]():e(d)):e(d)})})})});var B,bb=((B={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',B["not-registered"]="Firebase Installation is not registered.",B["installation-not-found"]=
"Firebase Installation not found.",B["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',B["app-offline"]="Could not process request. Application offline.",B["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",B),D=new ca("installations","Installations",bb),Ta=/^[cdef][\w-]{21}$/,M=new Map,N=null,r,Fa=null;(B=c).INTERNAL.registerComponent(new G("installations",function(c){var d=c.getProvider("app").getImmediate(),
k={appConfig:function(a){var b,c;if(!a||!a.options)throw ma("App Configuration");if(!a.name)throw ma("App Name");try{for(var d=f(["projectId","apiKey","appId"]),e=d.next();!e.done;e=d.next()){var k=e.value;if(!a.options[k])throw ma(k);}}catch(P){b={error:P}}finally{try{e&&!e.done&&(c=d["return"])&&c.call(d)}finally{if(b)throw b.error;}}return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}(d),platformLoggerProvider:c.getProvider("platform-logger")};return{app:d,
getId:function(){return function(c){return a(this,void 0,void 0,function(){var a,d,e;return b(this,function(b){switch(b.label){case 0:return[4,ka(c.appConfig)];case 1:return a=b.sent(),d=a.installationEntry,(e=a.registrationPromise)?e["catch"](console.error):la(c)["catch"](console.error),[2,d.fid]}})})}(k)},getToken:function(a){return Xa(k,a)},"delete":function(){return function(c){return a(this,void 0,void 0,function(){var a,d;return b(this,function(b){switch(b.label){case 0:return[4,S(a=c.appConfig,
function(a){if(!a||0!==a.registrationStatus)return a})];case 1:if(!(d=b.sent()))return[3,6];if(1!==d.registrationStatus)return[3,2];throw D.create("delete-pending-registration");case 2:if(2!==d.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw D.create("app-offline");case 3:return[4,Ya(a,d)];case 4:return b.sent(),[4,ja(a)];case 5:b.sent(),b.label=6;case 6:return[2]}})})}(k)},onIdChange:function(a){return Za(k,a)}}},"PUBLIC"));B.registerVersion("@firebase/installations","0.4.4");
B=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["permission-default"]="The notification permission was not granted and dismissed instead.",r["permission-blocked"]="The notification permission was not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",
r["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]=
"FCM returned no token when updating the user to push.",r["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",r["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",r["invalid-vapid-key"]="The public VAPID key must be a string.",r["use-vapid-key-after-get-token"]=
"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r);var p=new ca("messaging","Messaging",B),Ja=null,H;(r=H=H||{}).PUSH_RECEIVED="push-received";r.NOTIFICATION_CLICKED="notification-clicked";var cb=(Object.defineProperty(y.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),y.prototype.getToken=function(){return a(this,void 0,void 0,function(){var a;return b(this,
function(b){switch(b.label){case 0:return this.vapidKey||(this.vapidKey="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4"),[4,this.getServiceWorkerRegistration()];case 1:return a=b.sent(),"default"!==Notification.permission?[3,3]:[4,Notification.requestPermission()];case 2:b.sent(),b.label=3;case 3:if("granted"!==Notification.permission)throw p.create("permission-blocked");return[2,sa(this.firebaseDependencies,a,this.vapidKey)]}})})},y.prototype.deleteToken=
function(){return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return a=b.sent(),[2,T(this.firebaseDependencies,a)]}})})},y.prototype.requestPermission=function(){return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(a=b.sent()))return[2];throw"denied"===a?p.create("permission-blocked"):
p.create("permission-default");}})})},y.prototype.usePublicVapidKey=function(a){if(null!==this.vapidKey)throw p.create("use-vapid-key-after-get-token");if("string"!=typeof a||0===a.length)throw p.create("invalid-vapid-key");this.vapidKey=a},y.prototype.useServiceWorker=function(a){if(!(a instanceof ServiceWorkerRegistration))throw p.create("invalid-sw-registration");if(this.swRegistration)throw p.create("use-sw-after-get-token");this.swRegistration=a},y.prototype.onMessage=function(a){var b=this;
return this.onMessageCallback="function"==typeof a?a:a.next,function(){b.onMessageCallback=null}},y.prototype.setBackgroundMessageHandler=function(){throw p.create("only-available-in-sw");},y.prototype.onTokenRefresh=function(){return function(){}},y.prototype.getServiceWorkerRegistration=function(){return a(this,void 0,void 0,function(){var a,c;return b(this,function(b){switch(b.label){case 0:if(this.swRegistration)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),a=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",
{scope:"/firebase-cloud-messaging-push-scope"})];case 2:return a.swRegistration=b.sent(),this.swRegistration.update()["catch"](function(){}),[3,4];case 3:throw c=b.sent(),p.create("failed-service-worker-registration",{browserErrorMessage:c.message});case 4:return[2,this.swRegistration]}})})},y.prototype.messageEventListener=function(c){var d;return a(this,void 0,void 0,function(){var a,e,f,g;return b(this,function(b){switch(b.label){case 0:return(null===(d=c.data)||void 0===d?0:d.firebaseMessaging)?
(a=c.data.firebaseMessaging,e=a.type,f=a.payload,this.onMessageCallback&&e===H.PUSH_RECEIVED&&this.onMessageCallback(f),Na(g=f.data)&&"1"===g["google.c.a.e"]?[4,this.logEvent(e,g)]:[3,2]):[2];case 1:b.sent(),b.label=2;case 2:return[2]}})})},y.prototype.logEvent=function(c,e){return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:a:switch(c){case H.NOTIFICATION_CLICKED:b="notification_open";break a;case H.PUSH_RECEIVED:b="notification_foreground";break a;default:throw Error();
}return a=b,[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return b.sent().logEvent(a,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1E3)}),[2]}})})},y),db=(Object.defineProperty(z.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!0,configurable:!0}),z.prototype.setBackgroundMessageHandler=function(a){if(!a||"function"!=typeof a)throw p.create("invalid-bg-handler");
this.bgMessageHandler=a},z.prototype.getToken=function(){var c,e;return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return this.vapidKey?[3,2]:[4,Y(this.firebaseDependencies)];case 1:a=b.sent(),this.vapidKey=null!==(e=null===(c=null==a?void 0:a.subscriptionOptions)||void 0===c?void 0:c.vapidKey)&&void 0!==e?e:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",b.label=2;case 2:return[2,sa(this.firebaseDependencies,self.registration,
this.vapidKey)]}})})},z.prototype.deleteToken=function(){return T(this.firebaseDependencies,self.registration)},z.prototype.requestPermission=function(){throw p.create("only-available-in-window");},z.prototype.usePublicVapidKey=function(a){if(null!==this.vapidKey)throw p.create("use-vapid-key-after-get-token");if("string"!=typeof a||0===a.length)throw p.create("invalid-vapid-key");this.vapidKey=a},z.prototype.useServiceWorker=function(){throw p.create("only-available-in-window");},z.prototype.onMessage=
function(){throw p.create("only-available-in-window");},z.prototype.onTokenRefresh=function(){throw p.create("only-available-in-window");},z.prototype.onPush=function(c){return a(this,void 0,void 0,function(){var a,d,l;return b(this,function(b){switch(b.label){case 0:return(a=function(a){a=a.data;if(!a)return null;try{return a.json()}catch(v){return null}}(c))?[4,Oa()]:[2];case 1:return function(a){return a.some(function(a){return"visible"===a.visibilityState&&!a.url.startsWith("chrome-extension://")})}(d=
b.sent())?[2,function(a,b){var c,d,e={firebaseMessaging:{type:H.PUSH_RECEIVED,payload:b}};try{for(var g=f(a),h=g.next();!h.done;h=g.next())h.value.postMessage(e)}catch(Ua){c={error:Ua}}finally{try{h&&!h.done&&(d=g["return"])&&d.call(g)}finally{if(c)throw c.error;}}}(d,a)]:(l=function(a){var b;if(a&&"object"==typeof a.notification){var c=x({},a.notification);return c.data=x(x({},a.notification.data),((b={}).FCM_MSG=a,b)),c}}(a))?[4,function(a){var b,c=null!==(b=a.title)&&void 0!==b?b:"";b=a.actions;
var d=Notification.maxActions;return b&&d&&b.length>d&&console.warn("This browser only supports "+d+" actions. The remaining actions will not be displayed."),self.registration.showNotification(c,a)}(l)]:[3,3];case 2:return b.sent(),[3,5];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(a)]:[3,5];case 4:b.sent(),b.label=5;case 5:return[2]}})})},z.prototype.onSubChange=function(c){var d,f;return a(this,void 0,void 0,function(){var a;return b(this,function(b){switch(b.label){case 0:return c.newSubscription?
[3,2]:[4,T(this.firebaseDependencies,self.registration)];case 1:return b.sent(),[2];case 2:return[4,Y(this.firebaseDependencies)];case 3:return a=b.sent(),[4,T(this.firebaseDependencies,self.registration)];case 4:return b.sent(),[4,sa(this.firebaseDependencies,self.registration,null!==(f=null===(d=null==a?void 0:a.subscriptionOptions)||void 0===d?void 0:d.vapidKey)&&void 0!==f?f:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4")];case 5:return b.sent(),[2]}})})},
z.prototype.onNotificationClick=function(c){var d,k;return a(this,void 0,void 0,function(){var e,h,g,l;return b(this,function(m){switch(m.label){case 0:return(e=null===(k=null===(d=c.notification)||void 0===d?void 0:d.data)||void 0===k?void 0:k.FCM_MSG)?c.action?[2]:(c.stopImmediatePropagation(),c.notification.close(),(h=function(a){var b,c,d;return(null!==(c=null===(b=a.fcmOptions)||void 0===b?void 0:b.link)&&void 0!==c?c:null===(d=a.notification)||void 0===d?void 0:d.click_action)||(Na(a.data)?
self.location.origin:null)}(e))?[4,function(c){return a(this,void 0,void 0,function(){var a,d,e,g,h,k,l;return b(this,function(b){switch(b.label){case 0:return a=(new URL(c,self.location.href)).href,[4,Oa()];case 1:d=b.sent();try{for(e=f(d),g=e.next();!g.done;g=e.next())if(h=g.value,(new URL(h.url,self.location.href)).href===a)return[2,h]}catch(Va){k={error:Va}}finally{try{g&&!g.done&&(l=e["return"])&&l.call(e)}finally{if(k)throw k.error;}}return[2,null]}})})}(h)]:[2]):[2];case 1:return(g=m.sent())?
[3,4]:[4,self.clients.openWindow(h)];case 2:return g=m.sent(),[4,function(a){return new Promise(function(b){setTimeout(b,a)})}(3E3)];case 3:return m.sent(),[3,6];case 4:return[4,g.focus()];case 5:g=m.sent(),m.label=6;case 6:return g?(l={firebaseMessaging:{type:H.NOTIFICATION_CLICKED,payload:e}},[2,g.postMessage(l)]):[2]}})})},z);r={isSupported:Pa};c.INTERNAL.registerComponent((new G("messaging",function(a){var b=a.getProvider("app").getImmediate(),c,d;if(!b||!b.options)throw na("App Configuration Object");
if(!b.name)throw na("App Name");var h=b.options;try{for(var g=f(["projectId","apiKey","appId","messagingSenderId"]),l=g.next();!l.done;l=g.next()){var m=l.value;if(!h[m])throw na(m);}}catch(U){c={error:U}}finally{try{l&&!l.done&&(d=g["return"])&&d.call(g)}finally{if(c)throw c.error;}}a={app:b,appConfig:{appName:b.name,projectId:h.projectId,apiKey:h.apiKey,appId:h.appId,senderId:h.messagingSenderId},installations:a.getProvider("installations").getImmediate(),analyticsProvider:a.getProvider("analytics-internal")};
if(!Pa())throw p.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new db(a):new cb(a)},"PUBLIC")).setServiceProps(r))}).apply(this,arguments)}catch(a){throw console.error(a),Error("Cannot instantiate firebase-messaging.js - be sure to load firebase-app.js first.");}});
