var $jscomp={scope:{},findInternal:function(a,e,c){a instanceof String&&(a=String(a));for(var b=a.length,d=0;d<b;d++){var f=a[d];if(e.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,c,b){if(e){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var d=a[b];d in c||(c[d]={});c=c[d]}a=a[a.length-1];b=c[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
(function(a){function e(a){modalLayer.close({formClear:"all"});"OK"==a.status&&GLOBAL.events.trigger("login",a)}function c(b,c){switch(c[0]){case "next":switch(c[1]){case "social-account-set":a("#modalRegisterSocial").find('input[name="login"]').val(b.email),modalLayer.open("registration_social")}break;case "secret":switch(c[1]){case "secret":modalLayer.open({customTitle:GLOBAL.locale.id.register.title,customContent:GLOBAL.locale.id.errors.confirm})}break;case "user":switch(c[1]){case "banned":modalLayer.open({customTitle:GLOBAL.locale.id.register.title,
customContent:GLOBAL.locale.id.errors.block});break;case "deleted":modalLayer.open({customTitle:GLOBAL.locale.id.register.title,customContent:GLOBAL.locale.id.errors.del});a("#modalAuthError").attr("user_id",b.user.deleted);break;case "emailIsNotActive":modalLayer.open({customTitle:GLOBAL.locale.id.register.title,customContent:GLOBAL.locale.id.errors.confirmation.replace("$1",b.email)})}}}a.fn.riaAuthSocial=function(b){b=a.extend({windowName:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f",
windowParams:"menubar=no,location=yes,resizable=no,scrollbars=no,status=yes",windowWidth:"500",windowHeight:"300",mode:"passport"},b||{});if(b.provider){var d=a(this),f=GLOBAL.auth[b.provider],k=(screen.width-b.windowWidth)/2,l=(screen.height-b.windowHeight)/2;a(d).off("click").on("click",function(a){function d(a){a=JSON.parse(a.data);"function"===typeof window.document[a.func]&&(window.document[a.func](a.data,a.error),g&&g.close(),h&&clearInterval(h))}a.preventDefault();window.document.socialAuthSuccess=
e;window.document.socialAuthError=c;var g=window.open(f,b.windowName,"top="+l+",left="+k+",width="+b.windowWidth+",height="+b.windowHeight+b.windowParams),h;window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d);h=setInterval(function(){g.postMessage("socialAuth","*")},2E3)})}else console.error("riaAuthSocial :: set options.provider")}})(jQuery);
