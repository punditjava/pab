var $jscomp={scope:{},findInternal:function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var f=b[e];if(a.call(c,f,e,b))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};
$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,a,c,d){if(a){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];e in c||(c[e]={});c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})}};
$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
$(function(){window.startArticleJS=function(a,c){a.each(function(){var b=$(this);1!==$("body").data("dinamics-off")?b.addingDynamicData():console.log("DINAMICS DATA OFF ");initArticleJS(a,c)})};window.initArticleJS=function(a,c){a.each(function(){var a=$(this),b=a.find(".article__sharebar");if(0<b.length){var f=40,g=$("body").hasClass("m-lenta-alert")?46:0;"first"!=c&&riaShare.initItems(b);b.hasClass("m-article-sticky")&&!ria.supportsCSS("position","sticky")&&b.riaShareSliding({frame:".article__sharebar-line",
header:"#headerSticked",headerIndent:f+g})}b=a.find(".matchcenterlive__article-sharebar");0<b.length&&!ria.supportsCSS("position","sticky")&&b.riaShareSliding({frame:".matchcenterlive__article-sharebar-line",header:"#headerSticked",headerIndent:f+g});a.find(".article__contents-title").click(function(){$(this).parents(".article__contents:first").toggleClass("m-close")});a.find(".banner__hidden-button").click(function(){$(this).parents(".article__block:first").empty()});a.find(".article__incision.m-extendable").each(function(){var a=
$(this),c=$(".article__incision-text",a),b=$("div",c);if(b.height()<=c.height())return a.removeClass("m-extendable"),!1;$(".article__incision-button-open",a).on("click",function(d){d.preventDefault();a.addClass("m-extended");c.css("max-height",parseInt(b.outerHeight()))});$(".article__incision-button-close",a).on("click",function(b){b.preventDefault();a.removeClass("m-extended");c.css("max-height","")});$(window).resize(function(){a.hasClass("m-extended")&&c.css("max-height",parseInt(b.height()))})});
a.find(".article__photo.m-carousel .article__photo-item-set").each(function(){var a=$(this),b=a.parents(".article__photo.m-carousel:first"),d=$(".article__photo-outer-desc",b),e=$(".article__photo-item-desc",d);e.css("position","initial");a.on("changed.the-in-carousel",function(a,c){if(d.is(":visible")){var b=c.plugin._current.active;e.hide().find(".article__photo-item-over").stop().css("opacity",0);$(".article__photo-item-desc[data-item="+b+"]",d).show().find(".article__photo-item-over").animate({opacity:1},
250)}});var f={0:{itemWidth:"90%",between:2}};"online"!=c&&(f["925"]={sticked:!0,items:1,between:0});a.theinCarousel({navText:[ria.getIcon("icon-left_single"),ria.getIcon("icon-right_single")],motionType:"transform",loop:!0,responsive:f});var g=function(a){a=$("."+a,b);if(a.is(":visible")){var c=0;$(".article__photo-item-desc",a).each(function(){var a=$(this).outerHeight(!0);a>c&&(c=a)});a.height(c)}};$(window).resize(function(){g("article__photo-outer-desc");g("article__photo-inner-desc")});$(window).resize()});
"first"!=c&&($("body").trigger("nextarticle"),a=document.createEvent("Event"),a.initEvent("nextarticle",!0,!0),document.body.dispatchEvent(a),$(this).find(".video-js").length&&!window.videojs?loadJS(GLOBAL.js.videoplayer):$(this).find(".video-js").each(function(){videoInit($(this))}),$(this).find(".audioplayer").audioPlayer(),$(this).find(".js-vote").riaVote(),$(this).find(".victorina").riaVictorina(),window.instgrm&&window.instgrm.Embeds&&window.instgrm.Embeds.process(),window.twttr&&window.twttr.widgets&&
twttr.widgets.load(),window.FB&&window.FB.XFBML&&FB.XFBML.parse(),window.partnersjs||window.partnersjscall||!("undefined"!==typeof partners&&($(this).find(".js-test-partner-1").length||$(this).find(".js-test-partner-2").length)||"undefined"!==typeof partners2&&$(this).find(".js-partner-3").length)||(loadJS(GLOBAL.js.partners),window.partnersjscall=!0))})};var b=function(a,c){var b={loadingCounter:0,loadingCount:3,loadingTimeout:2E3,loadingDate:!1,loadingId:!1};this.defOptions=b;this.userOptions=c;
this.options=$.extend(!0,{},b,c);this.$element=$(a);this.loadingDate=this.options.loadingDate||this.$element.data("date");this.loadingId=this.options.loadingId||this.$element.data("id");this.loadingDate&&this.loadingId?(this.$data=!1,b="",-1!=window.location.pathname.indexOf("editorial_preview")&&(b=(""!=window.location.search?"&":"?")+"preview=1"),this.loadingUrl="/services/dynamics/"+this.$element.data("date")+"/"+this.$element.data("id")+".html"+(""!=window.location.search?window.location.search:
"")+b,this.getData()):(console.log(" addingDynamicData not possible to start"),console.log(" $element = ",this.$element," options = ",this.options),console.log(" loadingDate = ",this.loadingDate," loadingId = ",this.loadingId))};b.prototype.getData=function(){var a=this;$.ajax({url:a.loadingUrl,dataType:"html",type:"GET",success:function(c){a.$data=$(c);a.successData()},error:function(){a.options.loadingCounter<a.options.loadingCount?(setTimeout(a.getData(),a.options.loadingTimeout),a.options.loadingCounter++):
a.errorData()}})};b.prototype.successData=function(){this.pushRecommend();this.pushBestComments();this.pushStatistic();this.pushUserBar();this.pushChatButtonToShare();this.pushVoteCountVal();this.pushABTest()};b.prototype.errorData=function(){console.log("--- ERROR GetData --- "+this.loadingUrl)};b.prototype.pushRecommend=function(){var a=$(".recommend",this.$data),c=$(".recommend__place",this.$element);0<a.length&&0<c.length?(c.empty().append(a),$(".recommend__set",a).theinCarousel({navText:[ria.getIcon("icon-left_single"),
ria.getIcon("icon-right_single")],motionType:"scroll",itemWidth:175,between:15,outside:10,stretch:!1,responsive:{480:{outside:20},925:{outside:20,motionType:"transform"}}}),this.recommendScrollEvent(),"function"==typeof lazyload&&lazyload(),this.recommendAddBanners()):c.slideUp()};b.prototype.recommendAddBanners=function(){if($.fn.getBanners){var a=1==this.$element.data("endless")?$("body"):this.$element;a.data("getBanners")&&a.data("getBanners").pushBanners()}};b.prototype.recommendScrollEvent=function(){var a=
this;$(window).bind("scroll.recommend_"+a.loadingId,function(){var c=$(".recommend",a.$element),b=c.offset().top+c.height()-a.getClientHeigth()+100;if($(window).scrollTop()>b){var e=[];$.each($(".recommend__item",c),function(a,c){e.push($(c).data("article-id"))});window.EVENTSTACK.push(["scroll","article_rcmd_under_article",{article_id:c.data("article-id"),algorithm:c.data("algorithm"),article_block_ids:e}]);$(window).unbind("scroll.recommend_"+a.loadingId)}})};b.prototype.pushBestComments=function(){var a=
$(".best-comments",this.$data),c=$(".article__best-comments",this.$element);0<a.length&&0<c.length&&c.on("click",".best-comments__item-message-text",function(){$(this).removeClass("m-collapsed")}).empty().append(a).slideDown()};b.prototype.pushStatistic=function(){var a=$(".statistic",this.$data),c=$(".article__info-statistic",this.$element);0<a.length&&0<c.length?c.empty().append(a):c.remove()};b.prototype.pushUserBar=function(){var a=$(".article__userbar-table",this.$data),c=$(".article__userbar",
this.$element);0<c.length&&0<a.length?c.empty().append(a):c.empty().slideUp()};b.prototype.pushChatButtonToShare=function(){var a=$(".article__sharebar-chat",this.$data),c=$(".article__sharebar",this.$element);0<a.length&&0<c.length&&c.append(a)};b.prototype.pushVoteCountVal=function(){var a=this;$(".vote__count-val",a.$data).each(function(){var c=$(this).data("total"),b=$(".vote.js-vote[data-vote-id="+$(this).data("vote-id")+"]",a.$element);0<b.length&&0<c&&b.find(".vote__count").removeClass("m-hidden").addClass("js-vote-count").find(".vote__count-val").html(c)})};
b.prototype.getClientHeigth=function(){return Math.max(window.innerHeight||0,(document.getElementsByTagName("html")[0]||{}).clientHeight||0)};b.prototype.pushABTest=function(){var a=function(a,b){window.dataLayer=window.dataLayer||[];dataLayer.push({event:"block_ab_inject",eventCategory:"Inject_ab",eventAction:a,eventLabel:b})},b=new IntersectionObserver(function(b){(b=b[0])&&b.isIntersecting&&!b.target.classList.contains("ab_visible")&&(a("Scroll",b.target.getAttribute("data-ab")),b.target.classList.add("ab_visible"))}),
d=function(){a("Click",$(this).data("ab"))};this.$element.on("click",".article__article-link",d);this.$element.find(".article__article-link:first").each(function(){b.observe(this)});this.$element.on("click",".ab_inject_test_block a",d);this.$element.find(".ab_inject_test_block").each(function(){b.observe(this)})};$.fn.addingDynamicData=function(a){return this.each(function(){var c=$.data(this,"addingDynamicData");c||(c=new b(this,a),$.data(this,"addingDynamicData",c))})}});
