var $jscomp={scope:{},findInternal:function(a,e,c){a instanceof String&&(a=String(a));for(var d=a.length,f=0;f<d;f++){var h=a[f];if(e.call(c,h,f,a))return{i:f,v:h}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[e]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,c,d){if(e){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];e=e(d);e!=d&&null!=e&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
$(function(){function a(b,a){a=a||b;b.toggleClass("m-valid",a[0].checkValidity());b.toggleClass("m-invalid",!a[0].checkValidity())}function e(b){b&&("radio"==b.prop("type")?b.closest("form").find('input[type="radio"][name="'+b.prop("name")+'"]:not([readonly])').each(function(){a($(this).closest("label"),$(this))}):a(b.closest("label"),b))}var c=$(".js-form"),d=$(".js-form-validate"),f=$(".js-form-submit-validate"),h=c.filter("[data-localstorage]"),k=c.find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="file"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])'),
l=d.find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="file"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])');window.formLocalStorageGet=function(b){b=b||$("form");b.filter("[data-localstorage]").each(function(){var b=$(this).data("localstorage"),a=$(this).hasClass("js-form-validate");
$(this).find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])').each(function(){if(!1!==$(this).data("localstorage")){var c=$(this).prop("name")+"_"+b,c=localStorage.getItem(c),g=$(this);""!=c&&null!=c&&("checkbox"==g.prop("type")?"true"==
c&&g.prop("checked",!0):"radio"==g.prop("type")?g.val()==c&&g.prop("checked",!0):g.val(c).closest("label").addClass("m-focused"),1==a&&e(g))}})})};h.find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])').on("input change paste keyup",function(){if(0!=
$(this).data("localstorage")){var b=$(this).closest("form").data("localstorage");if(""!=b){var a=$(this),b=a.prop("name")+"_"+b,a="checkbox"==a.prop("type")?a.prop("checked"):a.val();localStorage.setItem(b,a)}}});k.on("focus",function(){$(this).closest("label").addClass("m-focused")});k.on("blur",function(){$(this).val()||$(this).closest("label").removeClass("m-focused")});f.on("click",'[type="submit"]',function(){var b=$(this).closest("form");a(b);b.hasClass("js-form-validate")&&b.find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="file"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])').each(function(){a($(this).closest("label"),
$(this))})});d.on("input change paste keyup",function(){a($(this))});l.on("input change paste keyup",function(){e($(this))});l.on("blur",function(){$(this).addClass("m-dirty")});c.on("reset",function(){k.removeClass("m-dirty").closest("label").removeClass("m-focused m-valid m-invalid");var b=$(this).data("localstorage");""!=b&&$(this).find('input[type="checkbox"]:not([readonly]), input[type="radio"]:not([readonly]), input[type="text"]:not([readonly]), input[type="email"]:not([readonly]), input[type="password"]:not([readonly]), input[type="date"]:not([readonly]), input[type="url"]:not([readonly]), textarea:not([readonly]), select:not([readonly])').each(function(){localStorage.removeItem($(this).prop("name")+
"_"+b)})});$('[role="button"]').on("keydown",function(b){-1!==$.inArray(b.keyCode,[13,32])&&$(this).trigger("click")});c.find(".form__date-field").each(function(){var b=$(this),a=13,c,e=Math.ceil(moment().diff(moment("2000-09-01"),"months",!0)),d=b.find(".form__datepicker"),f,h=function(a,b,c){pickmeup(a).destroy();pickmeup(a,{flat:!0,date:b,format:"DD.MM.YYYY",calendars:c,min:moment("2000-09-01").toDate(),max:new Date})};d.theinScroll();f=b.find(".form__datepicker-cal")[0];h(f,[new Date,new Date],
a);c=$(f).find(".pmu-instance").height();d.trigger("scroll-down.the-in-scroll",["0",0]);d.trigger("add-scrolling-trigger.the-in-scroll",[{name:"datepicker_prev",position:2*c,sign:"<"}]);d.on("datepicker_prev.the-in-scroll",function(b,g){a<=e?(h(f,pickmeup(f).get_date(),a),d.data("theinScroll").$box.css({"-webkit-overflow-scrolling":"auto"}),d.data("theinScroll").$box.scrollTop(14*c),d.data("theinScroll").$box.css({"-webkit-overflow-scrolling":"touch"}),a==e?++a:a=a+12<e?a+12:e):d.off("datepicker_prev.the-in-scroll")});
$(f).on("pickmeup-change",function(a){b.find(".form__date-field-input").val(moment(a.detail.date).format("DD.MM.YYYY"));d.hide()})});c.on("focus click",".form__date-field-input",function(a){a.preventDefault();a.stopPropagation();var b=$(this).closest(".form__date-field").find(".form__datepicker");b.show();$(document).on("click.form__datepicker",function(a){b.hide();$(document).off("click.form__datepicker")})});c.find(".form__date-field").on("click",".form__btn",function(a){a.preventDefault();a.stopPropagation();
$(this).closest(".form__date-field").find(".form__date-field-input").trigger("focus")});c.on("dragover",".form__file-field-hover",function(a){a.preventDefault();$(this).addClass("m-dragover")}).on("dragleave",".form__file-field-hover",function(a){a.preventDefault();$(this).removeClass("m-dragover")}).on("drop",".form__file-field-hover",function(a){a.preventDefault();$(this).removeClass("m-dragover");var b=$(this).closest(".form__file-field").find('input[type="file"]');b[0].files=a.originalEvent.dataTransfer.files;
b.trigger("change")}).on("click",".form__file-field-remove",function(a){a.preventDefault();$(this).closest(".form__file-field").find('input[type="file"]').val("").trigger("change")}).on("change",'.form__file-field input[type="file"]',function(a){$(this).closest(".form__file-field").find('.form__file-field-name input[type="text"]').val(a.target.files[0]?a.target.files[0].name:"")});c.on("change",'.form__file-field input[type="file"]',function(){var a=$(this).closest(".form__file-field");this.value?
a.addClass("m-valid"):a.removeClass("m-valid")});formLocalStorageGet()});window.formFocusOnInit=function(a){$(".modal__content").filter(":visible").find("input, button, textarea").filter(":not(:hidden)").filter(":not(:disabled)").eq(0).focus()};
