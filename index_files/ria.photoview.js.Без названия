var $jscomp={scope:{},findInternal:function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");"use strict";
var photoViewWidget={init:function(a){this.$page=a&&a.page?a.page:$("#page");this.$el=a&&a.photoview?a.photoview:$("#photoView");this.$page.length&&this.$el.length?(this.prefix=a&&a.prefix?a.prefix:"photoview",this.classPrefix="."+this.prefix+"__",this.settings={updateGroupOpen:!1,itemsLoop:!0,itemsFilter:function(a){return!$(a).parents(".m-clone").length},durationTransition:300,typeTransition:"ease-out",desktopWidth:925},this.states={widgetOpen:!1,storeEnabled:!0,storeFromHistory:!1,itemChange:!1,
controlsVisible:!0,imageTransformation:!1,hammerFunc:!0},this.modPhotoviewOpen="m-photoview-open",this.modeBlur="m-blur",this.modeDisabled="m-disabled",this.modeOpen="m-open",this.modeHidden="m-hidden",this.clientHeight=this.getCh(),this.dataGroup=this.prefix+"-group",this.dataSrc=this.prefix+"-src",this.dataImageId=this.prefix+"-image-id",this.dataShareLink=this.prefix+"-sharelink",this.dataShareTitle=this.prefix+"-sharetitle",this.dataShareId=this.prefix+"-shareid",this.store={name:"pv",group:"g",
photo:"p"},this.group={id:!1,$items:!1,length:!1},this.image={$obj:!1,size:{w:!1,h:!1},translate:{start_x:!1,start_y:!1,x:!1,y:!1},scale:{actual:!1,min:1,max:3,step:5},origin:{x:!1,y:!1}},this.itemActive={$obj:!1,index:!1,src:!1},this.itemPrev={$obj:!1,index:!1,src:!1},this.itemNext={$obj:!1,index:!1,src:!1},this.layerStates={bodyTop:0,bodyLeft:0,htmlTop:0,htmlLeft:0,bodyOverflow:!1},this.exceptionD\u0443namicTap=[this.getBy(this.classPrefix+"desc")],this.disabledHideControls=!1,this.exceptionTap=
[this.getBy(this.classPrefix+"social"),this.classPrefix+"desc a",this.getBy(this.classPrefix+"btn-prev"),this.getBy(this.classPrefix+"btn-next")],this.variableVisibility=[this.getBy(this.classPrefix+"btn-prev i"),this.getBy(this.classPrefix+"btn-next i")],this.vendor_prefixes=" webkit Moz MS ms o".split(" "),this.hammerManager=!1,this.setStyle(this.$page,{position:"relative",width:"100%"}),this.setStyle(this.$el,{position:"absolute",top:0,right:0,left:0,"z-index":1E3,display:"none"}),"undefined"!==
typeof photoViewWidget&&this.getBy(this.classPrefix+"desc-over").theinScroll({theme:"default-light",autoHide:!1}),this.update$Obj(),this.addHandlers()):console.log("It is not possible to initialize photoViewWidget")},update$Obj:function(){this.$buttonPrev=this.getBy(this.classPrefix+"btn-prev");this.$buttonNext=this.getBy(this.classPrefix+"btn-next");this.$buttonClose=this.getBy(this.classPrefix+"btn-close");this.$canHide=this.getBy(this.classPrefix+"can-hide");this.$sub=this.getBy(this.classPrefix+
"sub");this.$itemPrev=this.getBy(this.classPrefix+"prev");this.$itemActive=this.getBy(this.classPrefix+"active");this.$itemNext=this.getBy(this.classPrefix+"next");this.$placeIndexView=this.getBy(this.classPrefix+"index-view");this.$placeSocial=this.getBy(this.classPrefix+"social");this.$desc=this.getBy(this.classPrefix+"desc");this.$descMore=this.getBy(this.classPrefix+"desc-more");this.$descOver=this.getBy(this.classPrefix+"desc-over");this.$descSize=this.getBy(this.classPrefix+"desc-size");this.$descText=
this.getBy(this.classPrefix+"desc-text")},addHandlers:function(){var a=this;"function"===typeof Hammer?a.touchInitHammer():a.states.hammerFunc=!1;a.$buttonPrev.on("click",function(b){b.preventDefault();a.changePrev()});a.$buttonNext.on("click",function(b){b.preventDefault();a.changeNext()});$(a.classPrefix+"img, "+a.classPrefix+"controls a").on("dragstart drag dragstop",function(){return!1});$("body").on("click",a.classPrefix+"open[data-"+a.dataSrc+"]",function(b){b.preventDefault();a.open({clickObj:$(this)})});
a.$buttonClose.on("click",function(b){b.preventDefault();a.close()});$(window).resize(function(){a.clientHeight=a.getCh();a.setPhotoviewHeight();a.posLayerTop();a.visibilityEl();a.updateDataSize()});$(window).scroll(function(){a.posLayerLeft()});a.$descMore.on("click",function(){a.showDescMore()});$.each(a.objArrCreate(a.exceptionD\u0443namicTap),function(b,c){$(c).on("click",function(){a.disabledHideControls=!0})});$(window).resize();a.storeHistory()},addOnWheelY:function(){this.$el[0].addEventListener?
"onwheel"in document?this.$el[0].addEventListener("wheel",$.proxy(this.addOnWheelYHandler,this)):"onmousewheel"in document?this.$el[0].addEventListener("mousewheel",$.proxy(this.addOnWheelYHandler,this)):this.$el[0].addEventListener("MozMousePixelScroll",$.proxy(this.addOnWheelYHandler,this)):this.$el[0].attachEvent("onmousewheel",this.addOnWheelYHandler)},addOnWheelYHandler:function(a){a.preventDefault();var b=a.deltaY||a.detail||a.wheelDelta,c=a.clientX||!1;a=a.clientY||!1;var d=!1,e=this.image.scale.actual/
100*this.image.scale.step;0<b?d=this.image.scale.actual-e<this.image.scale.min?this.image.scale.min:this.image.scale.actual-e:0>b&&(d=this.image.scale.actual+e>this.image.scale.max?this.image.scale.max:this.image.scale.actual+e);if(d)this.imageScaling({x:c,y:a,scale:d,duration:0});else return!1},objArrCreate:function(a){var b=this,c=[];$.each(a,function(a,e){var d=e;"string"===typeof e&&(d=b.getBy(e));"object"===typeof d&&0<d.length&&$.each(d,function(a,b){c.push($(b))})});return c},hitInArr:function(a,
b,c){var d=this;if(a&&b&&"object"===typeof c){if(c instanceof Array){var e=!1;$.each(c,function(c,h){d.hitIn(a,b,h)&&(e=!0)});return e}return d.hitIn(a,b,c)}return!1},hitIn:function(a,b,c){var d=c.offset().left,e=d+c.outerWidth(),f=c.offset().top;c=f+c.outerHeight();return a>=d&&a<=e&&b>=f&&b<=c?!0:!1},touchInitHammer:function(){var a=this;a.hammerManager=new Hammer.Manager(a.$el[0]);a.hammerManager.add(new Hammer.Pan({event:"pan",threshold:0,pointers:0}));a.hammerManager.add(new Hammer.Swipe({event:"swipe"}));
a.hammerManager.get("swipe").recognizeWith("pan");a.hammerManager.add(new Hammer.Pinch({threshold:0})).recognizeWith(a.hammerManager.get("pan"));a.hammerManager.add(new Hammer.Tap({event:"doubletap",taps:2}));a.hammerManager.add(new Hammer.Tap({event:"tap",taps:1}));a.hammerManager.get("doubletap").recognizeWith("tap");a.hammerManager.get("tap").requireFailure("doubletap");a.hammerManager.on("pinchstart pinchmove pinchend",function(b){a.touchPinch(b)});a.hammerManager.on("panstart panmove panend",
function(b){a.touchPan(b)});a.hammerManager.on("swipeleft swiperight swipeup swipedown",function(b){a.touchSwipe(b)});a.hammerManager.on("tap",function(b){a.touchTap(b)});a.hammerManager.on("doubletap",function(b){a.touchDoubleTap(b)})},touchPinch:function(a){},touchPan:function(a){if($(a.target).closest(".m-open .the-in-scroll__content").length){var b=this.$descOver.find(".the-in-scroll__box");"panstart"==a.type&&b.data("scrollTop",b.scrollTop());"panmove"==a.type&&b.scrollTop(b.data("scrollTop")-
a.deltaY)}},touchSwipe:function(a){"swiperight"==a.type?this.changePrev():"swipeleft"==a.type&&this.changeNext()},touchTap:function(a){this.disabledHideControls||this.hitInArr(a.center.x,a.center.y,this.objArrCreate(this.exceptionTap))?this.disabledHideControls&&(this.disabledHideControls=!1):this.controlsToggle()},touchDoubleTap:function(a){},checkElPosition:function(){},requestElTransform:function(a){var b=this,c=0,d=0;a&&"object"==typeof a.transformStyleBefore&&0<$(a.transformStyleBefore).length&&
(c=a.transformDurationBefore||10,console.log(" set transform style before "),b.setStyle(b.image.$obj,a.transformStyleBefore));setTimeout(function(){a&&"object"==typeof a.transformStyle&&0<$(a.transformStyle).length&&(d=a.transformStyle.transition&&a.transformStyle.transition.duration?a.transformStyle.transition.duration:b.settings.durationTransition||100,console.log(" set transform style "),b.setStyle(b.image.$obj,a.transformStyle));setTimeout(function(){a&&"object"==typeof a.transformStyleAfter&&
0<$(a.transformStyleAfter).length&&(console.log(" set transform style after "),b.setStyle(b.image.$obj,a.transformStyleAfter));a&&"function"===typeof a.callBack&&(console.log(" set transform callback "),a.callBack(b))},d)},c)},imageDataReset:function(){this.image.$obj=$(this.classPrefix+"img",this.$itemActive);this.imageDataSizeUpdate();this.image.scale.actual=1;this.image.origin.x=this.image.size.w/2;this.image.origin.y=this.image.size.h/2;this.image.translate.x=this.image.translate.start_x=0;this.image.translate.y=
this.image.translate.start_y=0},imageDataSizeUpdate:function(){"object"==typeof this.image.$obj&&1==this.image.$obj.length&&(this.image.size.w=this.image.$obj.width(),this.image.size.h=this.image.$obj.height())},imageCentering:function(){},imageTranslateOrigin:function(a,b,c){return(a-this.image.origin[b])*(c-1)/c+this.image.translate[b]},imageTranslateZoom:function(a,b,c){return this.image.translate[c]*a/b},imageScaling:function(a){if(!a)return!1;console.log("*** ",a);this.$el.width();this.$el.height();
this.$el.offset();this.$el.offset();this.image.$obj.width();this.image.$obj.height();this.image.$obj.offset();this.image.$obj.offset();var b=this.image.scale.actual,c=this.image.scale.min,d=this.image.scale.max;a=a.scale||(b>c?c:d);this.image.scale.actual=a;c=this.image.translate.x*b/a;b=this.image.translate.y*b/a;this.setStyle(this.image.$obj,{transform:"scale3d("+a+", "+a+", 1) translate3d("+c+"px, "+b+"px, 0)"});this.image.translate.x=c;this.image.translate.y=b;this.image.scale.actual=a;console.log("originX = "+
this.image.origin.x+", originY = "+this.image.origin.y+" translateX = "+this.image.translate.x+" translateY = "+this.image.translate.y+" scale = "+this.image.scale.actual)},open:function(a){var b=this;a.group||(a.group=!1);a.group=a.group||"object"==typeof a.clickObj&&a.clickObj.attr("data-"+b.dataGroup)||!1;!b.settings.updateGroupOpen&&!1!==a.group&&b.group.id==a.group&&b.group.$items&&b.group.length||b.updateItemsGroup(a);if(0>=b.group.length)return console.log("PhotoViewWidget ERROR - no items group length"),
!1;b.itemActive.index=0;if("object"==typeof a.clickObj){var c=a.clickObj.attr("data-"+b.dataImageId);b.itemActive.index=b.group.$items.index(c?b.group.$items.filter("[data-"+b.dataImageId+'="'+c+'"]'):a.clickObj)}else a.photo&&(c=b.group.$items.filter(function(){return $(this)[0].photoViewWidget_photo==a.photo?$(this):!1}),1==c.length&&(b.itemActive.index=b.group.$items.index(c)));b.visibleView()&&b.close();b.getItemsData();b.controlsShow();b.activeDataVisible(!1);b.layerStates={bodyTop:$("body").scrollTop(),
bodyLeft:$("body").scrollLeft(),htmlTop:$("html").scrollTop(),htmlLeft:$("html").scrollLeft(),bodyOverflow:$("body").css("overflow")};b.setStyle(b.$page.addClass(b.modeBlur),{position:"fixed",top:-(b.layerStates.bodyTop+b.layerStates.htmlTop),left:-(b.layerStates.bodyLeft+b.layerStates.htmlLeft)});b.setStyle($("body").addClass(b.modPhotoviewOpen).scrollTop(0),{overflow:"visible"});b.setStyle(b.$el,{display:"block"});b.visibilityEl();b.setPhotoviewHeight();b.setImages();b.states.widgetOpen=!0;b.storeCheck("open");
$("body").on("keydown.photoview",function(a){b.keyDownNavigate(a)})},close:function(){var a=this;a.visibleView()&&(a.setStyle(a.$el.hide(),{position:"absolute"}),a.cleaning(),setTimeout(function(){a.setStyle(a.$page.removeClass(a.modeBlur),{position:"relative",top:0,left:0});a.setStyle($("body").removeClass(a.modPhotoviewOpen),{overflow:a.layerStates.bodyOverflow});$("body").scrollTop(a.layerStates.bodyTop).scrollLeft(a.layerStates.bodyLeft);$("html").scrollTop(a.layerStates.htmlTop).scrollLeft(a.layerStates.htmlLeft)},
a.states.storeFromHistory?5:0),a.storeCheck("close"),a.states.widgetOpen=!1,$("body").off("keydown.photoview"))},cleaning:function(){$(this.classPrefix+"img",this.$el).removeAttr("src").removeAttr("style");this.$sub.removeAttr("style")},updateItemsGroup:function(a){var b=this;b.group.$items=!1;b.group.length=!1;$.isPlainObject(a)&&"object"==typeof a.clickObj?b.group.id=a.clickObj.attr("data-"+b.dataGroup)||!1:b.group.id=a.group;!1===b.group.id&&"object"==typeof a.clickObj?b.group.$items=a.clickObj:
b.group.id&&(console.log("DONE DONE DONE"),b.group.$items=$(b.classPrefix+"open[data-"+b.dataGroup+'="'+b.group.id+'"][data-'+b.dataSrc+"]",$("body")).filter(function(){return"function"==typeof b.settings.itemsFilter?b.settings.itemsFilter(this):1}));$.each(b.group.$items,function(a,d){this.photoViewWidget_photo=$(d).data(b.dataImageId)||$(d).data(b.dataSrc).match(/.*\/([^\.]+?)\.[a-zA-Z]+$/)[1]});b.group.length=b.group.$items.length},getItemsData:function(a){"number"===typeof a&&(this.itemActive.index=
a);this.getOneItemData("itemActive",this.itemActive.index);this.itemPrev.index=0<this.itemActive.index?this.itemActive.index-1:this.settings.itemsLoop&&0==this.itemActive.index&&1<this.group.length?this.group.length-1:!1;this.getOneItemData("itemPrev",this.itemPrev.index);this.itemNext.index=this.itemActive.index+1<this.group.length?this.itemActive.index+1:this.settings.itemsLoop&&this.itemActive.index+1==this.group.length&&1<this.group.length?0:!1;this.getOneItemData("itemNext",this.itemNext.index)},
getOneItemData:function(a,b){!1===b?(this[a].$obj=!1,this[a].src=!1):(this[a].$obj=$(this.group.$items[b]),this[a].src=this[a].$obj.data(this.dataSrc))},setImages:function(a){var b=this,c=["itemActive","itemPrev","itemNext"];"object"===typeof a&&(c=a);$.each(c,function(a,c){if(!1!==b[c].src){var d=$(b.classPrefix+"img",b["$"+c]),e=$('<img src="'+b[c].src+'">');d.removeAttr("src");if(b.group.$items[b[c].index].photoViewWidget_imgLoaded)d.attr("src",b[c].src),"itemActive"==c&&b.setImagesAct();else{var g=
$(b.classPrefix+"loader",b["$"+c]);g.show();e.on("load",function(){b.group.$items[b[c].index].photoViewWidget_imgLoaded=!0;d.attr("src",b[c].src);g.hide();"itemActive"==c&&b.setImagesAct()}).on("error",function(){console.log("PhotoViewWidget images ERROR "+b[c].src)})}}});b.setItemIndexView()},setImagesAct:function(){this.imageDataReset();this.setActiveData();this.updateShare();this.updateDataSize(!0)},setActiveData:function(){var a=this,b=a.itemActive.$obj.find(a.classPrefix+"open-info > *");$.each(b,
function(){$("."+$(this).attr("class"),a.$el).html($(this).html())})},updateShare:function(){var a=$(".share",this.$placeSocial);0<a.length&&a.attr({"data-url":this.itemActive.$obj.data(this.dataShareLink)||location.href,"data-title":this.itemActive.$obj.data(this.dataShareTitle)||$('meta[ property="og:title" ]').attr("content")||$("head title").html(),"data-id":this.itemActive.$obj.data(this.dataShareId)})},updateDataSize:function(a){if(this.visibleView){var b=this.$descText.height(),c=this.$descSize.height();
0<b?(a&&this.showDescMore(!1,!0),this.activeDataVisible(!0),b<=c?(this.showDescMore(!1,!0),this.$descMore.hide()):this.$descMore.show(),this.$descOver.stop().height(this.$desc.hasClass(this.modeOpen)?Math.min(b,parseInt(.4*this.clientHeight)):Math.min(b,c))):this.activeDataVisible(!1)}},activeDataVisible:function(a){this.$desc.toggleClass(this.modeDisabled,!0===a?!1:!0)},showDescMore:function(a,b){var c=this,d=c.$descText.height(),e=c.$descSize.height();!1!==a&&!0!==a&&(a=c.$desc.hasClass(c.modeOpen)?
!1:!0);c.$descOver.stop().animate({height:a?Math.min(d,parseInt(.4*c.clientHeight)):Math.min(d,e)},b?0:250,function(){!0===a&&c.$desc.toggleClass(c.modeOpen,a)});!1===a&&c.$desc.toggleClass(c.modeOpen,a);c.$descOver.scrollTop(0);c.$descOver.hasClass("the-in-scroll")&&c.$descOver.trigger("scroll-to.the-in-scroll")},controlsToggle:function(a){!0===a?this.controlsShow():!1===a?this.controlsHide():!0===this.states.controlsVisible?this.controlsHide():this.controlsShow()},controlsHide:function(){var a=
this;a.$canHide.stop().animate({opacity:0},150,function(){a.$canHide.addClass(a.modeHidden);a.states.controlsVisible=!1})},controlsShow:function(){var a=this;a.$canHide.stop().animate({opacity:1},150,function(){a.$canHide.removeClass(a.modeHidden);a.states.controlsVisible=!0})},transferringFormat:function(a,b,c){var d="";b=b||"=";c=c||"&";return"object"===typeof a?($.each(a,function(a,f){""!=a&&(d+=c+a+(void 0!==f?b+f:""))}),d.replace(c,"")):"string"===typeof a?a.split(c).map(function(a){return a.split(b)}).reduce(function(a,
b){return a[b[0]]=b[1],a},{}):!1},storeUpdateUrl:function(a,b,c,d){this.states.storeEnabled&&!this.states.storeFromHistory&&(d?history.replaceState(a,b,this.storeFormationUrl(c)):history.pushState(a,b,this.storeFormationUrl(c)));this.states.storeFromHistory=!1},storeFormationUrl:function(a){a=this.transferringFormat(a);return location.origin+location.pathname+location.search+(""==a||!1===a?"":"#"+a)},storeUpdObjParams:function(a,b){if(!1===b)delete a[this.store.name];else{var c={};c[this.store.group]=
this.group.id;c[this.store.photo]=this.group.$items[this.itemActive.index].photoViewWidget_photo;a[this.store.name]=this.transferringFormat(c,"%3D","%2F")}return a},storeCheck:function(a){if(!this.states.storeEnabled)return!1;var b=this.transferringFormat(location.hash.replace("#","")),c=b[this.store.name]?this.transferringFormat(b[this.store.name],"%3D","%2F"):!1;"close"===a?this.storeUpdateUrl({},null,this.storeUpdObjParams(b,!1)):"open"===a?this.storeUpdateUrl({},null,this.storeUpdObjParams(b)):
"change"===a?this.storeUpdateUrl({},null,this.storeUpdObjParams(b),!0):!this.states.widgetOpen&&c[this.store.group]?this.open({group:c[this.store.group],photo:c[this.store.photo]||!1}):c[this.store.group]||this.close()},storeHistory:function(){var a=this;a.states.storeEnabled&&window.history&&history.pushState&&history.replaceState?(window.addEventListener("popstate",function(b){a.states.storeFromHistory=!0;a.storeCheck()},!1),a.storeCheck()):a.states.storeEnabled=!1},visibilityEl:function(a){this.visibleView()&&
(a=this.objArrCreate(a||this.variableVisibility),1<this.group.length&&(!this.states.hammerFunc||this.settings.desktopWidth<=this.getPhotoviewWidth())?this.visibilityElAct(a,"show"):this.visibilityElAct(a))},visibilityElAct:function(a,b){"object"===typeof a&&a instanceof Array?$.each(a,function(a,d){"show"===b?d.show():d.hide()}):"show"===b?a.show():a.hide()},changeNext:function(){this.changeItem("itemNext")},changePrev:function(){this.changeItem("itemPrev")},changeItem:function(a){var b=this;if(!1===
b.states.itemChange&&!1!==b[a].index){b.states.itemChange=!0;b.activeDataVisible(!1);var c="";"itemNext"===a&&(c="-");b.setStyle(b.$sub,{transition:{prop:"transform"},transform:"translate3d("+c+1.05*b.getPhotoviewWidth()+"px, 0px, 0px)",overflow:"visible"});b.setStyle(b.$itemActive,{transition:{prop:"transform"},transform:"translate3d("+c+1.05*b.getPhotoviewWidth()+"px, 0px, 0px)"});b.getItemsData(b[a].index);setTimeout(function(){b.setImages();b.setStyle(b.$sub,{transition:{prop:"none"},transform:"translate3d(0px, 0px, 0px)",
overflow:"hidden"});b.setStyle(b.$itemActive,{transition:{prop:"none"},transform:"translate3d(0px, 0px, 0px)"});b.states.itemChange=!1;b.storeCheck("change")},b.settings.durationTransition||100)}},keyDownNavigate:function(a){if(this.visibleView())switch(a.keyCode){case 37:return this.changePrev(),!0;case 39:return this.changeNext(),!0;case 27:return this.close(),!0;default:return!1}},setItemIndexView:function(){if(this.visibleView()){if(1>=this.group.length)return this.$placeIndexView.hide(),!1;$("span",
this.$placeIndexView).html(this.itemActive.index+1+" \u0438\u0437 "+this.group.length);this.$placeIndexView.show();return!0}},setPhotoviewHeight:function(){return this.visibleView()?(this.$el.height(this.clientHeight),!0):!1},getPhotoviewWidth:function(){return this.visibleView()?parseInt(this.$el.outerWidth()):!1},posLayerLeft:function(a){a=a||this.$page;this.visibleView()&&(this.layerStates.bodyLeft=$("body").scrollLeft(),this.layerStates.htmlLeft=$("html").scrollLeft(),a.css("left","-"+(this.layerStates.bodyLeft+
this.layerStates.htmlLeft)+"px"))},posLayerTop:function(a){a=a||this.$page;if(this.visibleView()&&"absolute"==a.css("position")){var b=parseInt(a.css("top")),c=a.outerHeight();c+b<this.clientHeight&&c>this.clientHeight?this.layerStates.bodyTop=c-this.clientHeight:c<this.clientHeight&&(this.layerStates.bodyTop=0);a.css("top","-"+this.layerStates.bodyTop+"px")}},getBy:function(a){return $(a,this.$el)},visibleView:function(){return this.$el.is(":visible")},getCw:function(){return Math.max(window.innerWidth||
0,(document.getElementsByTagName("html")[0]||{}).clientWidth||0)},getCh:function(){return Math.max(window.innerHeight||0,(document.getElementsByTagName("html")[0]||{}).clientHeight||0)},setStyle:function(a,b,c){var d=this;"object"===typeof b?$.each(b,function(b,c){d.setStyle(a,b,c)}):"transition"===b&&"object"===typeof c?this.setStyleTransition(a,c):a.css(d.prefixedStyle(a[0].style,b),c)},setStyleTransition:function(a,b){if("none"===b.prop)a.css(this.prefixedStyle(a[0].style,"transition"),"none");
else{var c=(b.duration||this.settings.durationTransition||100)+"ms",d=b.type||this.settings.typeTransition||"ease-out",e=(b.delay||"0")+"ms";a.css(this.prefixedStyle(a[0].style,"transition"),this.prefixedStyle(a[0].style,b.prop)+" "+c+" "+d+" "+e)}},prefixedStyle:function(a,b){var c,d=b[0].toUpperCase()+b.slice(1),e=0;this.vendor_prefixes||(this.vendor_prefixes=" webkit Moz MS ms o".split(" "));for(;e<this.vendor_prefixes.length;){c=(c=this.vendor_prefixes[e])?c+d:b;if(c in a)return c;e++}return b}};
