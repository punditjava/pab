
/**
 * Mail.ru RBAdman-HTML5
 * Release date: 2022-12-08
 * Version: 2.2.23
 */
AdmanHTML=function(){"use strict";function a(a){V.initMode(a.slot?"slot":"json",{slot:a.slot,version:R.version}),R.slotId=a.slot,R.playerEl=a.playerEl,R.wrapper=a.wrapper,R.videoEl=a.videoEl,R.audioEl=a.audioEl,R.clickEl=a.clickEl,R.quality=parseInt(a.videoQuality||a.params&&a.params.videoQuality||360,10),R.browser=a.browser||{},R.config=a.config||{},R.pauseOnHide=a.pauseOnHide||!1,R.viewabilityValue=a.viewabilityValue||.5,R.viewabilityEl=a.viewabilityEl||R.videoEl,R.disclaimer=!1!==a.disclaimer,R.forcePreloadAdditionalData=!!a.forcePreloadAdditionalData;var b=AdmanHTML.Utils.getPageLocation(),c=AdmanHTML.Utils.getHostname(b||"");R.location={top:b,topEncoded:encodeURIComponent(b||""),hostname:c,hostnameEncoded:encodeURIComponent(c||"")},V.rb(V.code.ADMAN_SUCCESSFULLY_INITIALIZED),R.stats.metrics("initing"),Y=a.midrollPointsP||null,X=!Y&&a.midrollPoints?a.midrollPoints:null,R.config.vpaidJsInterface||(R.config.vpaidJsInterface=T),R.config.vpaidHtmlInterface||(R.config.vpaidHtmlInterface=U);var d="https://ad.mail.ru/vp/"+R.slotId+"?version="+this.getVersion();if(a.params&&a.params.constructor&&a.params.constructor===Object){var e=[];"flash"in a.params||(a.params.flash=AdmanHTML.Utils.checkFlash()?1:0);for(var f in a.params)a.params.hasOwnProperty(f)&&e.push(f+"="+a.params[f]);var g=AdmanHTML.Utils.getUserIdQuery();g&&e.push(g),e.length&&(d+="&"+e.join("&"))}if((R.slotId||a.json||a.adUrl)&&!R.browser.adBlock){var h={},i=this;R.slotId?h.url=d:a.adUrl?(-1!==a.adUrl.indexOf("ad.mail.ru/")&&(a.adUrl+=-1===a.adUrl.indexOf("?")?"?":"&",a.adUrl+="version="+this.getVersion()),h.url=a.adUrl):h.data=a.json,K=new AdmanHTML.AdSlot(R,h,function(){var b=K.getRootSettings()||{},c=b.requestHostname;if(c&&!AdmanHTML.Utils.matchHostname(R.location.hostname,c))return R.stats.logError("HOSTNAME_MISMATCH:"+c+":"+R.location.topEncoded,{impressionID:b.impressionID,padID:b.padID,bannerIDs:b.bannerIDs}),void(R.callbacks.onError&&R.callbacks.onError());R.location.hostname||R.stats.logError("HOSTNAME_EMPTY:"+c+":"+R.location.topEncoded),R.cb("onReady",[{settings:K.settings}]);var d=1e6,e=[],f=[],g=a.params&&a.params.duration?parseInt(a.params.duration,10):d;0===g&&(g=d),X&&X.sort(AdmanHTML.Utils.numSorter),Y&&Y.sort(AdmanHTML.Utils.numSorter);var h=K.getSection("midroll")||[],j=K.getServices("midroll",function(a){return!a.started()&&a.isAfter()})||[];h=h.concat(j),h.forEach(function(a){var b=a.getAd();b.point||b.pointP||(b.pointP=50)}),h.sort(function(a,b){var c=a.getAd(),d=b.getAd();return c.pointP&&d.pointP?c.pointP-d.pointP:(c.point||c.pointP/100*g)-(d.point||d.pointP/100*g)}).forEach(function(a){if(!a.isEmpty||!a.isEmpty()){var b=a.getAd();X&&X.length?(b.point=X.shift(),b.pointP=null,f.push(b.point),a.addImmutableProperty("point",b.point)):Y&&Y.length?(b.pointP=Y.shift(),b.point=null,e.push(b.pointP),a.addImmutableProperty("pointP",b.pointP)):X||Y||(b.point?(a.addImmutableProperty("point",b.point),f.push(b.point)):b.pointP&&(a.addImmutableProperty("pointP",b.pointP),e.push(b.pointP)))}}),$=e.sort(AdmanHTML.Utils.numSorter),Z=f.sort(AdmanHTML.Utils.numSorter);var k=K.getSection("research");k&&k.length>0&&(P=k[0]),R.pauseOnHide&&I(i)})}else{V.logError("Adman init failed");var j=R.callbacks.onError;j&&j(),N=M=L=null}}function b(a,b){b=b||!1;var c;if(N&&(N.log("sectionShown"),N.disposed||(N.dispose(),N.disposed=!0,s(N,L)),a&&N.log("closedByUser")),L&&!ha[L]&&(ha[L]="midroll"!==L,c=a?R.callbacks.onClosed:R.callbacks.onCompleted),da[L]&&M&&(da[L]=da[L].concat(M.splice(0,M.length))),N=M=L=null,f(),"object"==typeof b&&!0===b.force)return void((c=R.callbacks.onError)&&c(b.message));c&&c()}function c(a){var d=K.getSettings(L).maxBannersShow||0,e=ca[L]||0,f=!d||e<d;if(N&&!N.disposed&&(N.complete&&N.log("playbackCompleted"),N.dispose(),N.disposed=!0,s(N,L)),M&&M.length&&f)N=M.shift(),ca[L]=e+(N.isEmpty()?0:1),N.reset(),N.started=!0,N.start();else{var g=K.getNextAfterService(L);"midroll"!==L&&g&&f?g.start(function(){M=K.getSection(L),c()}):K.getSettings(L).loop&&da[L]&&da[L].length?(M=da[L],da[L]=[],c()):b(!1,a)}}function d(a){M||(L=a||"preroll",K.resetServices(L),ha[L]=!1,M=K.getSection(L),"midroll"===a&&(M=h(M)),c(),L&&(da[L]=da[L]||[]),N&&(N.log("sectionStarted"),R.debugMode&&console.log(L,N.getAd(),N.getSettings(),M)),e(L),R.stats.metrics("started"))}function e(a){(O=K.getDebug(a))&&O.start()}function f(){O&&O.dispose(),O=null}function g(a,b){function c(a,b){for(var c=0;c<a.length&&!(Math.abs(a[c])>b);c++);return c>0?[a[c-1]]:[]}function d(a){var b=a.getAd();return!(b.point&&-1===Z.indexOf(b.point)||b.pointP&&-1===$.indexOf(b.pointP))&&(b.point&&b.point<=l||b.pointP&&b.pointP<=m)}function e(){_=$.reduce(function(a,c){var d=Math.ceil(b*c/100);-1===a.indexOf(d)&&a.push(d)},Z).sort(AdmanHTML.Utils.numSorter)}function f(a){return _.reduce(function(b,c){return 0===b&&c>0&&c-a>=0?c-a:b},0)}if(!isNaN(a)&&!isNaN(b)){var g=parseInt(a),h=Math.floor(100*a/b);Q=b,aa=$&&isFinite(h)?c($,h):[],ba=Z?c(Z,g):[],aa[0]&&ba[0]&&(Math.abs(aa[0]*Q/100)>Math.abs(ba[0])?ba=[]:aa=[]);var i=K.getSettings("midroll").midpointAllowableDelta;ea=void 0!=i?i:ea;var j=100*ea/b,k=0!==ea&&ea<5?ea:5,l=g+k,m=h+k/b*100;if(K.getServices("midroll",function(a){return!(!a.isAfter()||a.started()||!d(a))}).forEach(function(a){K.removeService(a);var b=g-a.getAd().point,c=h-a.getAd().pointP;b<ea||c<j||0===ea?a.start():R.debugMode&&console.log("skip midroll fetch")}),aa.length&&aa[0]>0||ba.length&&ba[0]>0){var n=!1,o=K.getSection("midroll");o&&o.forEach(function(a){var b=a.getAd();(b.pointP&&~aa.indexOf(b.pointP)||b.point&&~ba.indexOf(b.point))&&(n=!0)}),n&&R.cb("adMidrollPoint",[a])}return R.forcePreloadAdditionalData?(e(),f(a)):void 0}}function h(a){function b(a,b){var c=a.getAd(),d=b.getAd();return(c.point||c.pointP*Q/100)-(d.point||d.pointP*Q/100)}var c=[];return a&&a.forEach(function(a){var b=a.getAd();(b.pointP&&~aa.indexOf(b.pointP)||b.point&&~ba.indexOf(b.point))&&c.push(a)}),Z.forEach(function(a,b){~ba.indexOf(a)&&(Z[b]=-Z[b])}),$.forEach(function(a,b){~aa.indexOf(a)&&($[b]=-$[b])}),c.sort(b),c}function i(){R.cb("onSkipped"),N&&(N.log("closedByUser"),N.skip(c))}function j(){N&&(N.log("playbackPaused"),N.pause())}function k(){N&&(N.log("playbackResumed"),N.resume())}function l(a){a=a<0?0:a>1?1:a,N&&N.setVolume(a)}function m(){N&&N.log("fullscreenOn")}function n(){N&&N.log("fullscreenOff")}function o(){b()}function p(a,b){R.callbacks[a]=b}function q(a){var b=[],c=K.getSection(a||"preroll");return c&&c.forEach(function(a){a.isEmpty()||b.push(a.getExtendedAdForApp())}),b}function r(a){return K.getAfterServices(a||"preroll")}function s(a,b){a.isEmpty()||a.isStat()||da[b]&&da[b].push(a)}function t(a){return(a.right-a.left)*(a.bottom-a.top)}function u(a,b){return{left:a.left+b.left,right:a.right+b.left,top:a.top+b.top,bottom:a.bottom+b.top}}function v(a){return a&&!isNaN(a)?a:null}function w(a,b){var c=a.document,d="width"===b?"clientWidth":"clientHeight",e="width"===b?"innerWidth":"innerHeight",f=a[e],g=c.body[d],h=c.documentElement[d],i=1/0;return i=v(g)||i,i=v(h)||i,Boolean(f)&&!isNaN(f)&&(i=Math.min(i,f)),i}function x(a){return{width:w(a,"width"),height:w(a,"height")}}function y(a,b){var c=x(b);return{left:Math.max(0,a.left),right:Math.min(c.width,a.right),top:Math.max(0,a.top),bottom:Math.min(c.height,a.bottom)}}function z(a,b){try{for(var c=a.getBoundingClientRect(),d=t(c),e=b,f=e.parent;e!==f;){var g=e.frameElement.getBoundingClientRect();c=u(c,g);var h=Math.max(g.left,c.left),i=Math.min(g.right,c.right),j=Math.max(g.top,c.top),k=Math.min(g.bottom,c.bottom);c.left=h,c.right=i<h?h:i,c.top=j,c.bottom=k<j?j:k,e=e.parent}c=y(c,f);var l=t(c);return{left:c.left,right:c.right,top:c.top,bottom:c.bottom,percent:l/d*100}}catch(a){return{left:0,right:0,top:0,bottom:0,percent:0}}}function A(){return window.hasOwnProperty("IntersectionObserver")}function B(a){try{if(a===a.top)return"ON_PAGE";for(var b=a;b!==b.parent;){if(b.document.domain!==b.parent.document.domain)return"XD_FRAME";b=b.parent}return"S_FRAME"}catch(a){}return"XD_FRAME"}function C(a){return!A(a)&&"XD_FRAME"!==B(a)}function D(a,b,c){H(c,z(a,window).percent>=100*b)}function E(a){return a.mozVisibilityState?"mozvisibilitychange":a.webkitVisibilityState?"webkitvisibilitychange":a.visibilityState?"visibilitychange":""}function F(a){H(a,!0)}function G(a){H(a,!1)}function H(a,b){var c=a.getPlayStatus();a.prevVisibility!==b&&(a.prevVisibility=b,void 0!==c.curStatus&&c.curStatus!==c.prevStatus&&(b?a.resume():a.pause()))}function I(a){var b=a,c=R.viewabilityValue,d=R.viewabilityEl;if(d)if(A()){var e=new IntersectionObserver(function(a){a.forEach(function(a){H(b,a.intersectionRatio>=c)})},{threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});e.observe(d)}else if(C){var f=function(){D(d,c,b)};window.addEventListener("resize",f,!1),window.addEventListener("scroll",f,!1)}var g=(E(document),ga.hasFocus());setInterval(function(){var a=ga.hasFocus();g!==a&&(g=a,g?F(b):G(b))},500)}function J(){return void 0===R.playStatus?{prevStatus:void 0,curStatus:void 0}:R.playStatus}var K,L,M,N,O,P,Q,R={version:"2.2.0",debugMode:!0,callbacks:{},cb:function(a,d){switch(a){case"onCompleted":N&&(N.complete=!0),c();break;case"onError":N&&(N.error=!0),c(d);break;case"onClosed":b(!0);break;default:var e=R.callbacks[a];e&&e.apply(this,d)}}},S="http:"===window.location.protocol?"http:":"https:",T=S+"//ad.mail.ru/static/admanhtml/vpaid-js-interface.swf",U=S+"//ad.mail.ru/static/rbadman-vpaid.html",V=new AdmanHTML.Stats(R),W=new AdmanHTML.Viewability,X=[],Y=[],Z=[],$=[],_=[],aa=[],ba=[],ca={},da={},ea=3,fa=function(){for(var a=window,b=frameElement;b;){try{b=a.parent.frameElement}catch(a){break}a=a.parent}return a}(),ga=fa.document;R.stats=V,R.viewability=W,R.protocol=S,R.stats.metrics();var ha={};return{init:a,start:d,stop:o,pause:j,resume:k,setVolume:l,fullscreenOn:m,fullscreenOff:n,setFullscreen:function(a){a?m():n()},skip:i,destroy:o,getPlayStatus:J,getSlot:function(){return R.slotId},setSlot:function(a){R.slotId=a},getVersion:function(){return R.version},getBannersForSection:q,getServicesForSection:r,hasSection:function(a){return a=a||"preroll",!(!q(a).length&&!r(a).length)},setDebug:function(a){R.debugMode=a},setPosition:g,getUserIdQuery:AdmanHTML.Utils.getUserIdQuery,onReady:p.bind(this,"onReady"),onError:p.bind(this,"onError"),onStarted:p.bind(this,"onStarted"),onPaused:p.bind(this,"onPaused"),onPlayed:p.bind(this,"onPlayed"),onCompleted:p.bind(this,"onCompleted"),onClosed:p.bind(this,"onClosed"),onSkipped:p.bind(this,"onSkipped"),onClicked:p.bind(this,"onClicked"),onTimeRemained:p.bind(this,"onTimeRemained"),onDurationChanged:p.bind(this,"onDurationChanged"),adMidrollPoint:p.bind(this,"adMidrollPoint"),_onVPAIDStarted:p.bind(this,"onVPAIDStarted"),research:{pause:function(){P&&P.pause()},resume:function(){P&&P.resume()},complete:function(){P&&P.setComplete()},setVolume:function(a){P&&P.setVolume(a)},setFullscreen:function(a){P&&P.setFullscreen(a)},setPosition:function(a,b){P&&P.setPosition(a,b)}}}},AdmanHTML.Ad=function(a,b){"use strict";function c(a){a&&a.forEach(function(a){d(a.url,a.type,a)})}function d(a,c,d){var e,f,g,h;if(a){try{a=decodeURIComponent(a)}catch(a){}if("playheadReachedValue"===c)void 0!==d.thresholdValue||void 0!==d.value?(e=parseInt(d.thresholdValue||d.value,10),b.stats.push({name:"thresholdValue",value:e,type:"thresholdValue."+e,url:a})):void 0===d.thresholdPValue&&void 0===d.pvalue||(e=parseInt(d.thresholdPValue||d.pvalue,10),b.stats.push({name:"thresholdPValue",value:e,type:"thresholdPValue."+e,url:a}));else if("playheadViewabilityValue"===c){var i=parseInt(d.viewablePercent,10),j=void 0===d.ovv&&void 0===d.mrc||(!!d.ovv||!!d.mrc),k="";g=void 0!==d.startTimer?parseInt(d.startTimer,10):0,h=void 0!==d.endTimer?parseInt(d.endTimer,10):0,i=isNaN(i)?50:i,void 0!==d.value?(e=parseInt(d.value,10),f="ovvValue"):void 0!==d.pvalue?(e=parseInt(d.pvalue,10),f="ovvPValue"):void 0!==d.duration&&(e=parseInt(d.duration,10),f="mrcValue",j||(k=d.unload?"unload":"complete")),b.stats.push({name:f,value:e,url:a,percent:i,viewable:j,start:g,end:h,onevent:k})}else if("playheadTimerValue"===c){g=void 0!==d.startTimer?parseInt(d.startTimer,10):0,h=void 0!==d.endTimer?parseInt(d.endTimer,10):0;var l=void 0!==d.rate?parseInt(d.rate,10):1;b.stats.push({name:"timerValue",rate:l,url:a,start:g,end:h})}else b.stats.push({name:c,type:c,url:a})}}function e(a){b.click=a,b.ad&&(b.ad.urlToNavigateOnClick=a)}function f(a,c){b.extensions[a]=c}function g(a,c,d){!d&&a in b.immutables||(b.immutables[a]=c)}function h(a){b.settings=b.settings||{},AdmanHTML.Utils.deepExtend(b.settings,a)}function i(c){function d(a){var b=a.type||"";return!(~b.indexOf("video")&&"video/mp4"!==b||~b.indexOf("audio")&&"audio/mp3"!==b&&"audio/mpeg"!==b)}function e(){a.stats.rb(a.stats.code.UNKNOWN_ADV_TYPE),a.stats.logError("UNKNOWN_ADV_TYPE")}if(b.ad=c,b.click&&(b.ad.urlToNavigateOnClick=b.click),AdmanHTML.Utils.mixin(b.ad,b.extensions),AdmanHTML.Utils.mixin(b.ad,b.immutables),b.ad.mediafiles&&b.ad.mediafiles.length){var f;b.ad.mediafiles.forEach(function(b){d(b)&&(!f||Math.abs(parseInt(b.height)-a.quality)<Math.abs(parseInt(f.height)-a.quality))&&(f=b)}),f&&AdmanHTML.Utils.mixin(b.ad,f)}delete b.ad.statistics,delete b.ad.mediafiles;var g,h;switch(b.ad.type){case"swf":case"application/x-shockwave-flash":if(h=b.ad.apiFramework||b.ad.api,a.browser.mobile||h&&"VPAID"!==h)return e(),!1;g=h?new AdmanHTML.VpaidSwfAdRenderer(a,this):new AdmanHTML.SwfAdRenderer(a,this);break;case"javascript":case"application/javascript":if((h=b.ad.apiFramework||b.ad.api)&&"VPAID"!==h)return e(),!1;g=new AdmanHTML.VpaidJsAdRenderer(a,this);break;case"video":case"video/mp4":g=new AdmanHTML.VideoAdRenderer(a,this);break;case"audio":case"audio/mp3":case"audio/mpeg":g=new AdmanHTML.AudioAdRenderer(a,this);break;case"image":case"image/bmp":case"image/gif":case"image/jpeg":case"image/png":g=new AdmanHTML.ImgAdRenderer(a,this);break;case"text":g=new AdmanHTML.TextAdRenderer(a,this);break;case"html":g=new AdmanHTML.HtmlAdRenderer(a,this);break;case"empty":g=new AdmanHTML.EmptyAdRenderer(a,this);break;case"statistics":g=new AdmanHTML.StatisticsAdRenderer(a,this);break;case"debugData":g=new AdmanHTML.DebugAdRenderer(a,this);break;case"research":g=new AdmanHTML.ResearchAdRenderer(a,this);break;case"video/x-flv":default:return e(),!1}return b.renderer=g,!0}function j(){return new AdmanHTML.Ad(a,JSON.parse(JSON.stringify(b)))}function k(){this.started&&(b.ad&&i.call(this,b.ad),this.disposed=!1,this.completed=!1,this.error=!1,this.started=!1),b.statsBackup?b.stats=b.statsBackup.slice():b.statsBackup=b.stats.slice()}function l(b,c,d){var e=b.url;e=e.replace("{requesthostname}",a.location.hostnameEncoded||""),AdmanHTML.Utils.loadImg(e);var f=c.indexOf(b);~f&&d&&c.splice(f,1)}function m(a,b){var c=b.indexOf(a);~c&&b.splice(c,1)}function n(a,c){function d(a){a=25*Math.floor(a/25);var b=t["thresholdPValue."+a];b&&(f=f.concat(b))}var e=a+(void 0===c?"":"."+c),f=t[e]?t[e].slice(0):[];f.push(e);var g=b.stats.slice(0);"thresholdPValue"===a&&d(c);var h="thresholdPValue"===a||"thresholdValue"===a||"closedByUser"===a;b.stats.forEach(function(b){"thresholdPValue"===a&&"thresholdPValue"===b.name&&b.value<c?l(b,g,h):"thresholdValue"===a&&"thresholdValue"===b.name&&b.value<c&&l(b,g,h),~f.indexOf(b.type)&&l(b,g,h)}),b.stats=g}function o(a,c){function d(a,b){b[Math.ceil(a.percent/10)].duration>1e3*a.value?a.viewable?l(a,f,!0):m(a,f):g++}function e(a){a.viewable||a.onevent===c&&l(a,f,!0)}var f=b.stats.slice(0),g=0,h=a&&a.length?d:e;return b.stats.forEach(function(b){"mrcValue"===b.name&&h(b,a)}),b.stats=f,g}function p(c,d){var e,f,g=b.stats.slice(0);b.stats.forEach(function(b){("ovvValue"===b.name&&b.value<=c||"ovvPValue"===b.name&&b.value<=d)&&(e=e||a.viewability.getViewabilityState(),f=e.percent>b.percent&&e.focus,"UNDETERMINED"!==e.state&&(f&&b.viewable||!f&&!b.viewable)&&AdmanHTML.Utils.loadImg(b.url),m(b,g))}),b.stats=g}function q(a,c){b.renderer&&b.renderer[a]&&b.renderer[a](c)}function r(){var a={};return a="audio"===b.ad.type||"audio/mp3"===b.ad.type||"audio/mpeg"===b.ad.type?{allowSeek:!1,allowSkip:!1,allowTrackChange:!1,allowVolumeChange:!1}:b.settings?{allowClose:!b.settings.hasOwnProperty("allowClose")||b.settings.allowClose,allowCloseDelay:b.settings.hasOwnProperty("allowCloseDelay")?b.settings.allowCloseDelay:0}:{allowClose:!0,allowCloseDelay:0},AdmanHTML.Utils.mixin(a,b.ad),a}function s(){var a=r();return a.statistics=b.stats.slice(0),a}b=b||{stats:[],extensions:{},immutables:{}};var t={closedByUser:["close","skipAd"],click:["addClick"],"thresholdPValue.25":["firstQuartile"],"thresholdPValue.50":["secondQuartile","midpoint"],"thresholdPValue.75":["thirdQuartile"],"thresholdPValue.100":["fourthQuartile"],playbackStarted:["start"],playbackCompleted:["complete"],volumeOff:["mute"],volumeOn:["unmute"],playbackPaused:["pause"],playbackResumed:["resume"],fullscreenOn:["fullscreen"],error:["Error"]};return{addStatCollection:c,addStat:d,addClick:e,addExtension:f,addImmutableProperty:g,addSettings:h,getSettings:function(){return b.settings},addAd:i,getAd:function(){return b.ad},getAdForApp:r,getExtendedAdForApp:s,isEmpty:function(){return"empty"===b.ad.type},isStat:function(){return"statistics"===b.ad.type},clone:j,reset:k,log:n,logMRC:o,logOVV:p,start:q.bind(this,"start"),dispose:q.bind(this,"dispose"),pause:q.bind(this,"pause"),resume:q.bind(this,"resume"),setVolume:q.bind(this,"setVolume"),setFullscreen:q.bind(this,"setFullscreen"),setComplete:q.bind(this,"setComplete"),skip:q.bind(this,"skip"),setPosition:function(a,c){b.renderer&&b.renderer.setPosition&&b.renderer.setPosition(a,c)},complete:!1,error:!1}},AdmanHTML.AdSlot=function(a,b,c){"use strict";function d(a){s||(s={});for(var b in a)a.hasOwnProperty(b)&&(s[b]=a[b])}function e(b,c,d,e,g,j){function k(k){a.stats.metrics("inited");var l={};--u,k&&(v++,k="string"==typeof k?k.trim():k,"object"==typeof k||"{"===k.charAt(0)?(l=h(k,b,c,d||0,e,g,j),w++):"<"===k.charAt(0)?(l=i(k,b,c,d||0,e,g,j),w++):(a.stats.rb(a.stats.code.UNKNOWN_DATA_FORMAT),a.stats.logError("UNKNOWN_DATA_FORMAT"))),b.id&&(l.banners||l.services?l.banners&&z.markNonEmptyService(b.id):z.markEmptyService(b.id)),f(j)}if(d&&d>4)return void f(j);var l=z.getService(b.id);l&&l.log("serviceRequested"),++u,b.url?(-1!==b.url.indexOf("ad.mail.ru/")&&-1===b.url.indexOf("version="+a.version)&&(b.url+=-1===b.url.indexOf("?")?"?":"&",b.url+="version="+a.version),AdmanHTML.Utils.xhr(b.url,k)):b.data&&setTimeout(k,0,b.data)}function f(b){if(!u){if(v&&w){var d=z.getNextOnEmptyService();if(d)return void d.start(f.bind(null,b));o();var e=b||c;return e.called||(e.called=!0,e()),void(a.debugMode&&console.log(q))}g()}}function g(){var b=a.callbacks.onError;b&&b()}function h(b,c,f,g,h,i,o){function p(a){return a?a.filter(function(a){return a.type&&("sectionShown"===a.type||"sectionStarted"===a.type||"sectionEmpty"===a.type)}):[]}function r(b,d,h,i){var m=f?f.clone():new AdmanHTML.Ad(a);if(m.addStatCollection(b.statistics),m.addStatCollection(b.serviceStatistics),"additionalData"===b.type){var n;b.id=b.id||AdmanHTML.Utils.createIntUID(),v.services++;var p=!q[h]||0===q[h].length;if(d>0&&p&&(y[h]=!0),b.extensions)for(var r in b.extensions)b.extensions.hasOwnProperty(r)&&j(m,b.extensions[r],r);if(["point","pointP","hasVolume","hasPause","allowClose","allowCloseDelay","allowSeek","allowSkip","allowTrackChange","allowVolumeChange"].forEach(function(a){a in b&&m.addImmutableProperty(a,b[a])}),a.forcePreloadAdditionalData||"true"!==b.doAfter&&!0!==b.doAfter&&!b.doOnEmptyResponseFromId)n=new AdmanHTML.ServiceAd(a),l(h,c.id,n,b),0===d&&p?e(b,m,g+1,h,x.PRE,o):e(b,m,g+1,h,null,o);else{var s="true"===b.doAfter||!0===b.doAfter?x.POST:null,t=function(a,c){e(b,a||m,b.allowRepeat?0:g+1,h,s,function(){c&&c()})};n=new AdmanHTML.ServiceAd(a,null,t),l(h,c.id,n,b,m)}}else k(h,i,m,b),v.banners++;return m}var t,u=b,v={banners:0,services:0};if("string"==typeof b)try{u=JSON.parse(b)}catch(b){return a.stats.rb(a.stats.code.ERROR_CONVERTING_STRING_TO_JSON),void a.stats.logError("ERROR_CONVERTING_STRING_TO_JSON")}if(u.settings&&u.settings.requestHostname&&!s.requestHostname&&(s.requestHostname=u.settings.requestHostname),u&&u.settings&&(s=a.slot&&a.slot.getRootSettings()||s||{},d&&"function"==typeof d)){const w=u.sections&&u.sections.preroll&&u.sections.preroll.length&&u.sections.preroll[0]||null;d({impressionID:u.settings.impressionID||"",padID:u.settings.padID||"",bannerIDs:w&&w.bannerID||""})}for(var z in u.sections)if(u.sections.hasOwnProperty(z)){var A=u.sections[z],B=0;if(u.settings&&(t=u.settings[z])&&(t.controlsStyle=u.settings.controlsStyle||0,n(z,t)),A.forEach(function(b){if("debugData"===b.type){var c=new AdmanHTML.Ad(a);return c.addClick(b.url),void m(z,c,b)}var d=h===z?i:"",e=r(b,B,z,d);t&&(e.addStatCollection(p(t.statistics)),e.addSettings(t)),B++}),0===A.length){var C=new AdmanHTML.Ad(a);t&&C.addStatCollection(p(t.statistics)),k(z,"",C,{type:"empty"})}}return u.type&&r(u,0,h,i),v}function i(b,c,f,g,h,i,l){function m(a,b,c){o(a.getElementsByTagName(b),c)}function n(a,b,c,d){m(a,b,function(a){d(q(a),c?p(a,c):null,a)})}function o(a,b){Array.prototype.forEach.call(a,b.bind(this))}function p(a,b){var c=a.attributes.getNamedItem(b);return c?c.value:null}function q(a){return a&&a.childNodes&&a.childNodes[0]&&a.childNodes[0].wholeText?a.childNodes[0].wholeText.trim():null}var r,t={banners:0,services:0};try{r=AdmanHTML.Utils.parseXml(b)}catch(b){return a.stats.rb(a.stats.code.ERROR_CONVERTING_STRING_TO_XML),void a.stats.logError("ERROR_CONVERTING_STRING_TO_XML")}return m(r,"Ad",function(b){function r(c){var d=f?f.clone():new AdmanHTML.Ad(a);n(b,"Impression","id",function(a){try{d.addStat(a,"playbackStarted")}catch(a){}}),n(b,"Extension","type",function(a,b){j(d,a,b)}),n(b,"Error",null,function(a){d.addStat(a,"error")}),n(c,"Tracking","event",d.addStat);var e=c.getElementsByTagName("VideoClicks")[0];return e&&o(e.childNodes,function(a){"ClickThrough"===a.tagName?d.addClick(q(a)):"ClickTracking"===a.tagName&&d.addStat(q(a),"click")}),d}function u(a){var b={width:p(a,"width"),height:p(a,"height"),id:p(a,"id"),assetWidth:p(a,"assetWidth"),assetHeight:p(a,"assetHeight"),expandedWidth:p(a,"expandedWidth"),expandedHeight:p(a,"expandedHeight"),apiFramework:p(a,"apiFramework"),adSlotID:p(a,"adSlotID"),statistics:[]};return n(a,"StaticResource",null,function(a){b.staticResource=a}),n(a,"HTMLResource",null,function(a){b.htmlResource=a}),n(a,"IFrameResource",null,function(a){b.iframeResource=a}),n(a,"CompanionClickTracking",null,function(a){b.statistics.push({type:"click",url:a})}),n(a,"Tracking","event",function(a,c){b.statistics.push({type:c,url:a})}),n(a,"CompanionClickThrough",null,function(a){b.urlToNavigateOnClick=a}),b}var v=p(b,"id");m(b,"InLine",function(b){var e=[];m(b,"CompanionAds",function(a){var c=p(a,"required")||"none";m(b,"Companion",function(a){var b=u(a);b.required=c,e.push(b)})}),m(b,"Linear",function(b){var f,g=r(b),j=b.parentNode;j&&(f=p(j,"adId")||p(j,"adID")||p(j,"AdId")||p(j,"AdID")||p(j,"id")),f=f||v;var l={bannerID:f,mediafiles:[],duration:AdmanHTML.Utils.convertDuration(q(b.getElementsByTagName("Duration")[0]))};c.urlToNavigateOnClick&&(l.urlToNavigateOnClick=c.urlToNavigateOnClick),m(b,"MediaFile",function(a){l.mediafiles.push({apiFramework:p(a,"apiFramework"),type:p(a,"type"),width:p(a,"width"),height:p(a,"height"),src:q(a)})}),m(b,"AdParameters",function(b){l.params=q(b);try{var c=JSON.parse(l.params);if(c&&c.settings&&(s=a.slot&&a.slot.getRootSettings()||s||{},d&&"function"==typeof d)){const e=c.sections&&c.sections.preroll&&c.sections.preroll.length&&c.sections.preroll[0]||null;c.settings&&c.settings.preroll;d({impressionID:c.settings.impressionID||"",padID:c.settings.padID||"",bannerIDs:e&&e.bannerID||""})}}catch(a){console.log(a)}}),e.length&&(l.companionAds=e),k(h||"preroll",i,g,l),t.banners++}),m(b,"NonLinear",function(a){var b=r(a),c={width:p(a,"width"),height:p(a,"height"),duration:AdmanHTML.Utils.convertDuration(p(a,"minSuggestedDuration")),mediafiles:[]};n(a,"NonLinearClickThrough",null,function(a){b.addStat(a,"click")}),n(a,"StaticResource","creativeType",function(a,b){c.mediafiles.push({type:b,src:a})}),k(h||"overlay",i,b,c),t.banners++})}),m(b,"VASTAdTagURI",function(a){t.services++,e({url:q(a),id:c.id},r(b),g+1,h,i,l)})}),t}function j(a,b,c){"controls"===c?a.addExtension("showControls",Boolean(parseInt(b,10))):"skipTime2"===c?(b=isNaN(b)?AdmanHTML.Utils.convertDuration("00:"+b):parseInt(b,10),a.addExtension("allowCloseDelay",b)):"linkTxt"===c&&(a.addExtension("linkText",b),a.addExtension("adText",b))}function k(a,b,c,d){c.addAd(d)&&(c.sectionType=a,b===x.PRE&&y[a]&&(b=""),a=(b||"")+a,q[a]=q[a]||[],q[a].push(c))}function l(a,b,c,d,e){c.addAd(d),c.addInheritedAd(e),c.addStatCollection(d.statistics),c.addStatCollection(d.serviceStatistics),c.sectionType=a,z.addService(c,b)}function m(a,b,c){b.addAd(c)&&(b.section=a,t[a]=b)}function n(a,b){r[a]=r[a]||{},AdmanHTML.Utils.mixin(r[a],b),delete r[a].statistics,delete r[a].view,delete r[a].advertisment}function o(){"preroll midroll pauseroll overlay postroll claimroll".split(" ").forEach(function(a){var b=y[a]?q[a]:q[x.PRE+a],c=y[a]?q[x.PRE+a]:q[a],d=q[x.POST+a];q[a]=[].concat(b||[],c||[],d||[]),p(x.PRE+a),p(x.POST+a)})}function p(a){q[a]=[]}var q={},r={},s={},t={},u=0,v=0,w=0,x={PRE:"pre-",POST:"post-"},y={},z=new AdmanHTML.ServiceStorage(a);return e({url:b.url,data:b.data}),{getSection:function(a){return q[a]},getAfterServices:z.getAfterServices,getNextAfterService:z.getNextAfterService,resetServices:z.resetAll,getServices:z.getServices,removeService:z.removeService,getSettings:function(a){return r[a]||{}},getRootSettings:function(){return s},getDebug:function(a){return t[a]}}},AdmanHTML.ServiceAd=function(a,b,c){"use strict";function d(a){return b.ad=a,!0}function e(a){b.inheritedAd=a}function f(a,c){b.inheritedAd.addImmutableProperty(a,c,!0)}function g(a){var b=a?a.filter(function(a){return"serviceRequested"===a.type||"serviceAnswerEmpty"===a.type}):[];b&&b.forEach(function(a){h(a.url,a.type,a)})}function h(a,c){a=decodeURIComponent(a),b.stats.push({name:c,type:c,url:a})}function i(a){m=!0,c&&c(b.inheritedAd,a)}function j(){m=!1}function k(){return!(a.forcePreloadAdditionalData||!b.ad||!b.ad.doAfter)&&(!0===b.ad.doAfter||"true"===b.ad.doAfter)}function l(a){function c(a){AdmanHTML.Utils.loadImg(a.url);var b=d.indexOf(a);~b&&d.splice(b,1)}var d=b.stats.slice(0);b.stats.forEach(function(b){b.type===a&&c(b)}),b.stats=d}b=b||{stats:[]};var m=!1;return{addStatCollection:g,addStat:h,addAd:d,addInheritedAd:e,addImmutableProperty:f,getAd:function(){return b.ad},start:i,reset:j,started:function(){return m},log:l,isAfter:k}},AdmanHTML.ServiceStorage=function(a){"use strict";function b(b,c){var d=b.getAd();n.push(d.id),m[d.id]={service:b},c&&m[c]&&(m[c].children=m[c].children||[],m[c].children.push(d.id)),a.forcePreloadAdditionalData||"true"!==d.doAfter&&!0!==d.doAfter&&!d.doOnEmptyResponseFromId||l.push(b)}function c(a){return m[a]?m[a].service:null}function d(a){var b="string"==typeof a||"number"==typeof a?a:a.getAd().id;delete m[b];var c,d;for(c=0,d=l.length;c<d;c++)if(a=l[c],a.getAd().id===b){l.splice(c,1);break}}function e(a,b){if(!a)return[];var c,d,e=[];for(c in m)m.hasOwnProperty(c)&&(d=m[c].service,d.sectionType!==a||b&&!b(d)||e.push(d));return e}function f(a){n.forEach(function(b,c){a===b?(b.service&&b.service.log("serviceAnswerEmpty"),n.splice(c,1),o.push(a),delete m[b]):b.children&&-1!==b.children.indexOf(a)&&b.children.splice(b.children.indexOf(a),1)})}function g(a){var b=m[a];b&&(b.children=null)}function h(){var a,b,c,d;for(a=0,b=l.length;a<b;a++)if(c=l[a],(d=c.getAd().doOnEmptyResponseFromId)&&-1!==o.indexOf(d)&&!c.isAfter())return l.splice(a,1),c;return null}function i(a){if(!a)return[];var b,c,d,e=[];for(b=0,c=l.length;b<c;b++)d=l[b],d.sectionType===a&&d.isAfter()&&!d.started()&&e.push(d);return e}function j(a){if(!a)return null;var b,c,d,e;for(b=0,c=l.length;b<c;b++)if(d=l[b],d.sectionType===a&&d.isAfter()&&!d.started()){if((e=d.getAd().doOnEmptyResponseFromId)&&-1===o.indexOf(e))continue;return d.getAd().allowRepeat||l.splice(b,1),d}return null}function k(a){var b,c,d;for(b=0,c=l.length;b<c;b++)d=l[b],a&&d.sectionType!==a||d.reset()}var l=[],m={},n=[],o=[];return{addService:b,getService:c,getServices:e,removeService:d,resetAll:k,markEmptyService:f,markNonEmptyService:g,getAfterServices:i,getNextAfterService:j,getNextOnEmptyService:h}},"function"==typeof define&&define.amd&&define(function(){"use strict";return AdmanHTML}),AdmanHTML.VpaidLoader=function(){"use strict";function a(a,b){this.id=Math.round(1e6*Math.random()),this.video=a,this.videoIsElement=AdmanHTML.Utils.isElement(this.video),this._props={},this.autoMuted=!1,this.win=b||window}var b=300;return a.prototype.load=function(a,b){var c=document.createElement("iframe");return this.adframe=c,this.src=a,c.width="100%",c.height="100%",c.scrolling="no",c.marginWidth="0",c.marginHeight="0",c.frameBorder="0",c.src=b,c.id="ad-frame-"+this.id,c.setAttribute("allow","autoplay"),c.onload=function(){this.send({type:"vpaid",method:"load",src:this.src,urlToNavigateOnClick:this.urlToNavigateOnClick})}.bind(this),this.processMessage=this.processMessage.bind(this),this.videoEventHandler=this.videoEventHandler.bind(this),this.videoEvents=["play","pause","volumechange","timeupdate","ended"],this.video.addEventListener("play",this.videoEventHandler),this.video.addEventListener("pause",this.videoEventHandler),this.video.addEventListener("volumechange",this.videoEventHandler),this.video.addEventListener("timeupdate",this.videoEventHandler),this.video.addEventListener("ended",this.videoEventHandler),this.win.addEventListener("message",this.processMessage),c.setAttribute("style","color-scheme: light;"),c},a.prototype.processMessage=function(a){if(a.source===this.adframe.contentWindow)try{var b=JSON.parse(a.data);switch(this.urlToNavigateOnClick&&(b.urlToNavigateOnClick=this.urlToNavigateOnClick),b.type){case"video":this.videoMessageHandler(b);break;case"vpaid":this.vpaidMessageHandler(b)}}catch(a){}},a.prototype.videoMessageHandler=function(a){switch(a.src&&a.src.replace(/https?:/,"")!==this.video.src.replace(/https?:/,"")&&(this.video.src=a.src),a.method){case"load":this.video.load();break;case"play":var c=this.video.play();c.then&&c.then(function(){this.video.muted&&!this.autoMutedTS&&(this.autoMutedTS=(new Date).getTime())}.bind(this),function(){this.autoMuted=!0,this.autoMutedTS=(new Date).getTime(),this.video.muted=!0,this.video.volume=0,this.videoEventHandler({type:"volumechange"}),this.callSet("adVolume",0),this.video.play()}.bind(this));break;case"pause":this.video.pause();break;case"muted":if(!a.value&&this.video.muted&&this.autoMutedTS&&(new Date).getTime()-this.autoMutedTS<b)return;this.mutedByVPAID=a.value,this.video.muted=a.value;break;case"volume":a.value&&this.video.muted&&!this.mutedByVPAID?!this.autoMutedTS||(new Date).getTime()-this.autoMutedTS>b?(this.video.muted=!1,this.video.volume=a.value):this.callSet("adVolume",0):(this.video.volume=a.value,0===a.value&&(this.video.muted=!0));break;case"styles":AdmanHTML.Utils.setStyle(this.video,a.styles);break;case"addEventListener":this.videoEvents=this.videoEvents||[],this.videoEvents.push(a.eventType),this.video.addEventListener(a.eventType,this.videoEventHandler)}},a.prototype.videoEventHandler=function(a){this.send({type:"video",method:"emit",eventType:a.type,currentTime:this.video.currentTime,duration:this.video.duration,volume:this.video.volume,muted:this.video.muted}),this.videoIsElement&&("play"===a.type?this.onVpaidCallback("video:play"):"pause"===a.type&&this.video.currentTime>0&&this.video.currentTime<.99*this.video.duration&&this.onVpaidCallback("video:pause"))},a.prototype.vpaidMessageHandler=function(a){AdmanHTML.Utils.mixin(this._props,a.props),"function"==typeof this.onVpaidCallback&&this.onVpaidCallback(a.eventType,a.props)},a.prototype.call=function(a,b){var c={type:"vpaid",method:a};if(b&&(c.params=b),this.send(c),a in this._props)return this._props[a]},
a.prototype.callGet=function(a){return this._props[a]},a.prototype.callSet=function(a,b){return a="set"+a.charAt(0).toUpperCase()+a.slice(1),this.call(a,[b])},a.prototype.send=function(a){this.adframe&&(a.id=this.id,this.adframe.contentWindow&&this.adframe.contentWindow.postMessage(JSON.stringify(a),"*"))},a.prototype.onVpaidEvent=function(a){this.onVpaidCallback=a},a.prototype.destroy=function(){if(this.adframe&&this.adframe.parentNode&&this.adframe.parentNode.removeChild(this.adframe),this.videoEvents&&this.videoEvents.length)for(var a=0,b=this.videoEvents.length;a<b;a++)this.video.removeEventListener(this.videoEvents[a],this.videoEventHandler);this.video.pause(),this.video.src="",this.autoMuted&&(this.video.muted=!1),this.adframe=null,this.win.removeEventListener("message",this.processMessage),this.win=null},a}(),AdmanHTML.Stats=function(a){"use strict";function b(a){if(l){var b=n[a];b&&f("https://r.mail.ru/d"+b+".gif?rnd="+Math.random())}else m.push(a)}function c(b,c){if(!d()){if(b)try{Object.defineProperty(o,b,{writable:!1,enumerable:!0,value:c||Date.now()-h})}catch(a){}else o.sessionId=AdmanHTML.Utils._genSessionId();h=Date.now(),Object.keys(n).length&&f("https://ad.mail.ru/admanhtml/?app=admanhtml&ver="+a.version+"&metrics="+encodeURIComponent(JSON.stringify(o))+"&slot="+a.slotId)}}function d(){return["media_error_code","vpaid_error_message","skipped","completed"].some(function(a){return o.hasOwnProperty(a)})}function e(b,c){var d=AdmanHTML.Utils.getPageLocation(),e=AdmanHTML.Utils.getHostname(d||""),g=[];if(c)for(var h in c)c.hasOwnProperty(h)&&g.push(h+"="+String(c[h]));var i="";g.length&&(i="&"+g.join("&")),-1===e.indexOf("localhost")&&f("https://ad.mail.ru/admanhtml/?app=admanhtml&ver="+a.version+"&error="+encodeURI(b)+"&slot="+a.slotId+i),a.debugMode&&console&&console.warn&&console.warn("Error: "+b)}function f(a){AdmanHTML.Utils.loadImg(a)}function g(a){if(!k){var c="https://ad.mail.ru/vp/"+j+"?original="+(a.slot||"")+"&version="+a.version;k=!0;var d=AdmanHTML.Utils.getPageLocation();-1===AdmanHTML.Utils.getHostname(d||"").indexOf("localhost")?AdmanHTML.Utils.xhr(c,function(a){if(l=!0,a){if("string"==typeof a)try{n=JSON.parse(a.trim())}catch(a){}else"object"==typeof a&&(n=a);var c=m.slice();m=[],c.forEach(b)}}):(console.log(c),l=!0)}}var h,i="slot",j=3107,k=!1,l=!1,m=[],n={},o={};return{rb:b,logError:e,simple:f,metrics:c,initMode:function(a,b){i=a,"slot"===a&&g(b)},code:{ADMAN_INSTANCE_CREATED:"ADMAN_INSTANCE_CREATED",ADMAN_SUCCESSFULLY_INITIALIZED:"ADMAN_SUCCESSFULLY_INITIALIZED",ERROR_CONVERTING_STRING_TO_JSON:"ERROR_CONVERTING_STRING_TO_JSON",ERROR_PARSING_JSON:"ERROR_PARSING_JSON",ERROR_CONVERTING_STRING_TO_XML:"ERROR_CONVERTING_STRING_TO_XML",ERROR_PARSING_XML:"ERROR_PARSING_XML",UNKNOWN_DATA_FORMAT:"UNKNOWN_DATA_FORMAT",UNKNOWN_ADV_TYPE:"UNKNOWN_ADV_TYPE"}}},AdmanHTML.StyleUtils=function(){"use strict";function a(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function b(b,c,d){var e,f=g[c];if(!f)for(e=0;e<h.length;e++)if(f=""===h[e]?c:a(h[e]+"-"+c),void 0!==b[f]){g[c]=f;break}b[f]=d}function c(a){return parseInt(a)+"px"}function d(a,b){function c(a,b){return a=parseInt(a,16),b=b||1,"rgba("+(a>>16&255)+","+(a>>8&255)+","+(255&a)+","+b+")"}if(Array.isArray(a)){return"linear-gradient("+a.map(function(a){return c(a,b)}).join(", ")+")"}return c(a,b)}function e(a,b,c){var d=a.style;(c||Object.keys(b)).forEach(function(a){b.hasOwnProperty(a)&&f(d,a,b[a],b)})}function f(a,e,f,g){var h,i,j;switch(e){case"fontFace":h="fontFamily",i=f;break;case"hasBackground":f||(h="background",i="none",delete g.backgroundColor);break;case"backgroundColor":h="background",i=d(f,g.backgroundAlpha);break;case"cornerRounding":case"borderCornerRounding":h="borderRadius",i=c(Math.floor(f/2));break;case"headerColor":case"bodyColor":case"hyperlinkColor":case"textColor":h="color",i=d(f);break;case"headerSize":case"bodySize":case"hyperlinkSize":case"textSize":h="fontSize",i=c(f);break;case"headerUnderline":case"bodyUnderline":case"hyperlinkUnderline":case"textUnderline":h="text-decoration",i=f?"underline":"none",j="";break;case"headerUnderlineOnRollOver":h="text-decoration",i=f?"":"none",j=f?"":"important";break;case"headerBold":case"bodyBold":case"hyperlinkBold":case"textBold":h="fontWeight",i=f?"bold":"normal";break;case"headerIndent":case"bodyIndent":case"hyperlinkIndent":h="marginTop",i=c(f);break;case"bodyPaddingRight":h="marginRight",i=c(f);break;case"width":case"height":h=e,i=c(f);break;case"contentPadding":case"contentIndent":case"controlsSafeArea":h="padding",i=c(f);break;case"maxImageWidth":case"maxImageHeight":h="maxImageWidth"===e?"maxWidth":"maxHeight",i=c(f);break;case"borderSize":h="borderWidth",i=c(f);break;case"borderColor":h="borderColor",i=d(f,g.borderAlpha);break;case"paddingLeft":case"paddingTop":h="paddingLeft"===e?"left":"top",i=c(f);break;case"controlsPaddingTop":case"controlsPaddingRight":h="controlsPaddingRight"===e?"right":"top",i=c(f)}h&&i&&(void 0!==j?a.setProperty(h,i,j):b(a,h,i))}var g={},h=["","webkit","Moz","O","ms"];return{applyStyle:e,getLength:c}}(),AdmanHTML.Utils=function(){"use strict";function a(){return O||(O=function(){try{if(window===window.top)return P;for(var a=window;a!==a.parent;){if(a.document.domain!==a.parent.document.domain)return R;a=a.parent}return Q}catch(a){}return R}())}function b(){if(null!==S)return S;var a=window;try{for(;a.parent!==a&&a.document.domain===a.parent.document.domain;)a=a.parent}catch(a){}return S=a,a}function c(){var a=window,c="",d=b();try{c=a.top.location.href}catch(b){if(d&&d.parent===a.top&&(c=d.document.referrer),!c){var e=a.location.ancestorOrigins;e&&e.length&&(c=e[e.length-1])}}return c||(c=(d||window).document.referrer),c}function d(){return V.major?U:T}function e(a){a(d())}function f(a,b){b&&a.addEventListener("load",b,!1);var c=document.getElementsByTagName("head");if(c&&c.length){var d=c[0];d&&d.appendChild(a)}}function g(a,b,c){var d=document.getElementById(b);if(d&&d.parentNode){if(!c)return;d.parentNode.removeChild(d)}d=document.createElement("style"),d.type="text/css",d.id=b,d.innerHTML=a,f(d)}function h(a){var b=document.querySelector("link[href*='"+a+"']");b||(b=document.createElement("link"),b.type="text/css",b.rel="stylesheet",b.href=a,f(b))}function i(a){var b=document.querySelector("script[src*='"+a+"']");b||(b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("charset","utf8"),b.setAttribute("src",a),f(b))}function j(a,b){var c=AdmanHTML.Utils.getPageLocation();if(-1===AdmanHTML.Utils.getHostname(c||"").indexOf("localhost")){var d=new Image;d.onload=function(){b&&b(d)},d.src=a}else console.log(a)}function k(a,b,c,d,e){d=d||"GET";var f=new XMLHttpRequest;return f.open(d,a,!0),f.withCredentials=!e,f.setRequestHeader("Content-Type","text/plain"),f.send(c||null),b&&(f.onreadystatechange=function(){4===f.readyState&&(200===f.status?b(f.response):b())},f.onerror=function(){e?b():k(a,b,c,d,!0)}),f}function l(a,b,c,d,e){void 0===e&&(e=!0);var f=b*c<a*d;e&&(f=!f);var g=f?d/b:c/a,h=Math.floor(a*g),i=Math.floor(b*g);return{x:Math.floor((c-h)/2),y:Math.floor((d-i)/2),width:Math.floor(h),height:Math.floor(i)}}function m(a){return"object"==typeof a&&!!a&&!Array.isArray(a)}function n(a){var b;for(b in a)return!1;return!0}function o(a,b){if(!a)return null;if(b){var c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a}function p(a,b){if(b){var c,d;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d=b[c],m(d)?(a[c]=a[c]||{},a[c]=p(a[c],d)):a[c]=d)}return a}function q(a,b,c){return a=a||0,b=b||0,c=c||1,Math.min(c,Math.max(b,a))}function r(a,b){return a-b}function s(){return Math.floor(Math.random()*Math.pow(2,48)).toString()}function t(a){a=a.split("+").join(" ");for(var b,c={},d=/[?&]?([^=]+)=([^&]*)/g;b=d.exec(a);)c[decodeURIComponent(b[1])]=decodeURIComponent(b[2]);return c}function u(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0)):(c=document.createEventObject(),c.eventType=b),c.eventName=b,document.createEvent?a.dispatchEvent(c):a.fireEvent("on"+c.eventType,c)}function v(a){return a?a.substring(a.indexOf("//")+2,a.indexOf("/?")):""}function w(a){var b=document.createElement("a");return b.href=a,b.hostname}function x(a){return a.replace(/^(www[0-9]?\.)?/,"")}function y(a,b){return!a||!b||(a=x(a),b=x(b),new RegExp("^"+b.replace(/^(\*\.?)/,"([^/]*.)?").replace(/\./g,"\\.")+"$").test(a))}function z(a){var b=a.button,c=a.which;return c||void 0===b?c:1&b?1:2&b?3:4&b?2:0}function A(a){return 1===z(a)}function B(a,b){return b=b||document.body,a!==b&&b.contains(a)}function C(a){return a&&1===a.nodeType}function D(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function E(a){a.preventDefault()}function F(a){var b;if(window.DOMParser)b=(new DOMParser).parseFromString(a,"text/xml");else{if(!window.ActiveXObject)return;b=new window.ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)}return b.documentElement}function G(a){if(a){var b=a.split(":");if(3===b.length){var c=parseInt(b[0],10),d=parseInt(b[1],10),e=b[2].split("."),f=parseInt(e[0],10),g=0;if(2===e.length&&(g=parseInt(e[1],10)),!(isNaN(c)||isNaN(d)||isNaN(f)||isNaN(g)))return 3600*c+60*d+f+g/1e3}}return NaN}function H(a,b){var c,d=a;for(c in b)b.hasOwnProperty(c)&&(d=d.replace("{{"+c+"}}",b[c]));return d}function I(a,b){if(b=b||0,window.Worker&&window.Blob){var c,d=new Blob(['var timeout; onmessage = function(e) {clearTimeout(timeout); if (e.data === "start") {timeout = setTimeout(function() { postMessage({}); }, '+b+");}}"]);try{c=new Worker(window.URL.createObjectURL(d)),c.onmessage=function(){c.terminate(),a()},c.postMessage("start")}catch(c){return setTimeout(a,b)}return c}return setTimeout(a,b)}function J(){function a(a){var b={};try{var c=window[a].getItem("rb_sync_id");c&&"object"!=typeof(b=JSON.parse(c))&&(b={})}catch(a){}return b}var b=[],c=a("localStorage"),d=a("sessionStorage"),e=o(c,d);for(var f in e)e.hasOwnProperty(f)&&b.push(f+"="+encodeURIComponent(e[f]));return b.join("&")}function K(a){return a.match(/(nr-vpaid\.min\.js|nr-vpaid\.js)/)}function L(a,b){a&&a.style&&M(a,b,!0)}function M(a,b,c){c=c||!1;var d=c?function(b,c){a.style.setProperty(b,c,"important")}:function(b,c){a.style.setProperty(b,c)};Object.getOwnPropertyNames(b).forEach(function(a){d(a,b[a])})}function N(){function a(a,b){return function(){return a.apply(b,arguments)}}function b(a){var b=a.toString(16);return 1===b.length?"0"+b:b}function c(a,c,d){for(var e="",f=c;f<=d;f++)e+=b(a[f]);return e}var d="undefined",e=typeof crypto!==d&&crypto.getRandomValues&&a(crypto.getRandomValues,crypto)||typeof msCrypto!==d&&window.msCrypto.getRandomValues&&a(window.msCrypto.getRandomValues,window.msCrypto),f=function(){if(e){var a=new Uint8Array(16);return function(){return e(a),a}}var b=new Array(16);return function(){for(var a,c=0;c<16;c++)0==(3&c)&&(a=4294967296*Math.random()),b[c]=a>>>((3&c)<<3)&255;return b}}(),g=f();return g[6]=15&g[6]|64,g[8]=63&g[8]|128,c(g,0,3)+"-"+c(g,4,5)+"-"+c(g,6,7)+"-"+c(g,8,9)+"-"+c(g,10,15)}var O,P=1,Q=2,R=3,S=null,T=0,U=1,V=function(){var a="undefined",b="Shockwave Flash",c="application/x-shockwave-flash",d={major:0,minor:0,release:0},e=null;if(typeof navigator.plugins!==a&&"object"==typeof navigator.plugins[b])(e=navigator.plugins[b].description)&&typeof navigator.mimeTypes!==a&&navigator.mimeTypes[c]&&navigator.mimeTypes[c].enabledPlugin&&(e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),d.major=parseInt(e.replace(/^(.*)\..*$/,"$1"),10),d.minor=parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),d.release=/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof window.ActiveXObject!==a)try{var f=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash");f&&(e=f.GetVariable("$version"))&&(e=e.split(" ")[1].split(","),d.major=parseInt(e[0],10),d.minor=parseInt(e[1],10),d.release=parseInt(e[2],10))}catch(a){}return d}();return{setStyle:L,isNRVpaid:K,addCss:g,loadCss:h,loadJs:i,loadImg:j,xhr:k,scaleBySide:l,isEmptyObject:n,mixin:o,deepExtend:p,validateMinMax:q,numSorter:r,createIntUID:s,getQueryParams:t,triggerEvent:u,getUserIdQuery:J,getPageLocation:c,getDomain:v,getHostname:w,_genSessionId:N,matchHostname:y,isLeftButtonPressed:A,isElementInDocument:B,isElement:C,getElementViewport:D,preventDefault:E,parseXml:F,convertDuration:G,renderTemplate:H,setTimeout:I,checkFlash:d,checkFlashAsync:e,FLASH_READY:U,FLASH_MISSING:T,getServingType:a,servingTypes:{ON_PAGE:P,S_FRAME:Q,XD_FRAME:R}}}(),AdmanHTML.Viewability=function(){"use strict";function a(a,b,c){return a.forEach(function(a){a.duration=b.focus&&b.percent>=a.threshold?a.duration+c:0}),a}function b(a){a.forEach(function(a){a.duration=0})}function c(a){return new window.IntersectionObserver(function(b){b&&b.length&&void 0!==b[0].intersectionRatio&&a(b[0].intersectionRatio)},{threshold:B})}function d(){return x?!document[x]:v===w.XD_FRAME||(!window.top.document.hasFocus||window.top.document.hasFocus())}function e(){var b=f();if("UNDETERMINED"!==b.state){if(a(C,b,t),p){p.logMRC(C)||o()}return b}}function f(){var a,b,c=d();return u?(a=A,b="DETERMINED"):v!==w.XD_FRAME?(a=g(q).percent,b="DETERMINED"):(a=0,b="UNDETERMINED"),{percent:a,focus:c,state:b}}function g(a,b){try{var c=a.getBoundingClientRect(),d=h(c),e=AdmanHTML.Utils.getElementViewport(a)||window;for(b=b||window.top;e!==b;){var f=e.frameElement.getBoundingClientRect();c=i(c,f),c.left=Math.max(f.left,c.left),c.right=Math.min(f.right,c.right),c.top=Math.max(f.top,c.top),c.bottom=Math.min(f.bottom,c.bottom),c.right<c.left&&(c.right=c.left),c.bottom<c.top&&(c.bottom=c.top),e=e.parent}c=j(c,b);var g=h(c);return c.percent=g/d*100,c}catch(a){return{left:0,right:0,top:0,bottom:0,percent:0}}}function h(a){return(a.right-a.left)*(a.bottom-a.top)}function i(a,b){return{left:a.left+b.left,right:a.right+b.left,top:a.top+b.top,bottom:a.bottom+b.top}}function j(a,b){var c={},d=k(b);return c.left=Math.max(0,a.left),c.right=Math.min(d.width,a.right),c.top=Math.max(0,a.top),c.bottom=Math.min(d.height,a.bottom),c}function k(a){var b={width:1/0,height:1/0};return!isNaN(a.document.body.clientWidth)&&a.document.body.clientWidth>0&&(b.width=a.document.body.clientWidth),!isNaN(a.document.body.clientHeight)&&a.document.body.clientHeight>0&&(b.height=a.document.body.clientHeight),a.document.documentElement&&a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth)&&(b.width=a.document.documentElement.clientWidth),a.document.documentElement&&a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight)&&(b.height=a.document.documentElement.clientHeight),a.innerWidth&&!isNaN(a.innerWidth)&&(b.width=Math.min(b.width,a.innerWidth)),a.innerHeight&&!isNaN(a.innerHeight)&&(b.height=Math.min(b.height,a.innerHeight)),b}function l(a,b,d){if(p=b,z=!d,q=a,u)s=s||c(function(a){A=100*a}),s.observe(a);else if(v===w.XD_FRAME)return y=!1,void p.log("viewabilityUnmeasurable");d||(r=setInterval(e,t)),y=!0,p.log("viewabilityMeasurable"),window.addEventListener("unload",m)}function m(){n("unload")}function n(a){y&&p&&z&&p.logMRC([],a||"complete"),p=null,y=!1,z=!1,q=null,clearInterval(r),b(C),s&&s.disconnect(),window.removeEventListener("unload",m)}function o(){clearInterval(r)}var p,q,r,s,t=250,u=!!window.IntersectionObserver,v=AdmanHTML.Utils.getServingType(),w=AdmanHTML.Utils.servingTypes,x=function(){for(var a=["h","webkitH","mozH","msH","oH"],b=0;b<a.length;b++)if(void 0!==document[a[b]+"idden"])return a[b]+"idden";return""}(),y=!1,z=!1,A=0,B=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],C=[];return B.forEach(function(a){C.push({threshold:Math.round(100*a),duration:0})}),{start:l,pause:o,stop:n,getViewabilityState:f}},AdmanHTML.AdRenderer=function(a,b){"use strict";function c(){t.wrapperEl=t.wrapperEl||a.wrapper,t.mainEl=t.mainEl||document.createElement("div"),t.clickEl=t.clickEl||t.mainEl,AdmanHTML.Utils.isElement(t.mainEl)&&!t.mainEl.parentNode&&(t.wrapperEl.childNodes.length?t.wrapperEl.insertBefore(t.mainEl,t.wrapperEl.childNodes[0]):t.wrapperEl.appendChild(t.mainEl),s=!0),t.clickEl.addEventListener("click",t.onClick),window.addEventListener("resize",n)}function d(a){a()}function e(){a.viewability.stop(),window.removeEventListener("resize",n),t.clickEl&&t.clickEl.removeEventListener("click",t.onClick),clearTimeout(p),AdmanHTML.Utils.isElement(t.mainEl)&&s&&t.mainEl.parentNode&&t.mainEl.parentNode.removeChild(t.mainEl)}function f(){if(!u&&(u=!0,clearTimeout(p),q)){var a=Date.now()-q;r=1e3*v.duration-a}}function g(){u&&(u=!1,h())}function h(){q=Date.now();var b=r||1e3*v.duration;p=setTimeout(function(){e(),a.cb("onCompleted")},b)}function i(){v.urlToNavigateOnClick&&(window.open(v.urlToNavigateOnClick,"_blank"),b.log("click"),a.cb("onClicked"))}function j(c){a.cb("onStarted",[b.sectionType,AdmanHTML.Utils.mixin(b.getAdForApp()||{},c||{})]),b.log("playbackStarted")}function k(c,d){var e=parseInt(c/d*100);a.cb("onTimeRemained",[{remained:d-c,percent:e,duration:d,currentTime:c}]),c=parseInt(c),b.log("thresholdPValue",e),b.log("thresholdValue",c),b.logOVV(c,e)}function l(a,b){"string"!=typeof a&&a?t.mainEl.appendChild(a):t.mainEl.innerHTML=a,AdmanHTML.Utils.mixin(t.mainEl.style,b)}function m(a){t.wrapperEl=a}function n(){t.onResize(t.mainEl.offsetWidth,t.mainEl.offsetHeight)}function o(){}var p,q,r,s,t={},u=!1,v=b.getAd();return t={start:c,pause:f,resume:g,skip:d,dispose:e,onClick:i,onStart:j,registerTimer:h,setView:l,setWrapper:m,onTimeRemained:k,onResize:o}},AdmanHTML.AudioAdRenderer=function(a,b){"use strict";function c(){g.mainEl=a.audioEl||document.createElement("audio"),h.forEach(function(a){g.mainEl.addEventListener(a,e)}),a.audioEl||g.setView(null,{position:"absolute",width:"1px",height:"1px",top:"-10000px",left:"-10000px"}),f=b.getAd().duration,g.mainEl.src=b.getAd().src,g.mainEl.load(),g.mainEl.play(),a.audioEl||g.start()}function d(){g.dispose(),h.forEach(function(a){g.mainEl.removeEventListener(a,e)})}function e(b){var c,d;switch(b.type){case"loadedmetadata":g.onStart();break;case"play":a.cb("onPlayed");break;case"pause":a.cb("onPaused");break;case"timeupdate":c=g.mainEl.duration,d=g.mainEl.currentTime,!isNaN(c)&&f&&Math.abs(f-c)>1&&(c=f,d=Math.min(d,c)),g.onTimeRemained(d,c);break;case"ended":a.cb("onCompleted");break;case"error":a.cb("onError")}}var f,g=new AdmanHTML.AdRenderer(a,b),h=["loadedmetadata","error","pause","play","timeupdate","ended"];return{start:c,skip:g.skip,dispose:d,pause:function(){g.mainEl.pause()},resume:function(){g.mainEl.play()},setVolume:function(a){var c=g.mainEl.muted?0:g.mainEl.volume;g.mainEl.muted=0===a,g.mainEl.volume=a,(0===c&&a>0||c>0&&0===a)&&b.log(a?"volumeOn":"volumeOff")}}},AdmanHTML.CloseBtnRenderer=function(a,b){"use strict";function c(){f.start();var a=b.getSettings(),c=a.controlsStyle||0,d=g[c],k=h[c];k.bg=k.bg||k.width;var l={};for(var m in j)j.hasOwnProperty(m)&&(l[m]=void 0!==a[m]?a[m]:j[m]);if(l.controlsPaddingTop=l.controlsPaddingTop-l.controlsSafeArea,l.controlsPaddingRight=l.controlsPaddingRight-l.controlsSafeArea,f.setView(AdmanHTML.Utils.renderTemplate(i,{img:d,width:k.width,height:k.height,bg:k.bg}),{position:"absolute",cursor:"pointer"}),AdmanHTML.StyleUtils.applyStyle(f.mainEl,l),k.bg!==k.width){var n=k.bg-k.width,o=function(a){"rb-adman_close"===a.target.className&&(a.target.style.backgroundPosition="-"+n+"px 0")},p=function(a){"rb-adman_close"===a.target.className&&(a.target.style.backgroundPosition="0 0")};f.mainEl.addEventListener("mouseover",o),f.mainEl.addEventListener("mouseout",p),e=function(){f.mainEl.removeEventListener("mouseover",o),f.mainEl.removeEventListener("mouseout",p)}}}function d(){e&&e(),f.dispose()}var e,f=new AdmanHTML.AdRenderer(a,b),g=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAASCAMAAAAE/YwaAAABTVBMVEUAAAD4+PiLi4sAAAD////////q6uokJCT4+PiDg4MVFRUAAAD////9/f2AgICwsLC8vLyWlpaTk5MAAADq6urGxsYmJiZra2v29vZ2dnba2trQ0NCmpqbb29unp6c0NDTs7OzPz8+xsbH+/v7///9jY2P///+fn5+ysrLe3t5LS0uzs7PBwcEuLi66urpYWFi3t7cAAAD39/fW1tb8/PzGxsba2tpKSkpUVFR/f39sbGyRkZF2dnaqqqqioqLKyspERET6+vr////l5eX////w8PD////////a2tr////Y2Nj///+Pj4////+Dg4N6enq3t7dkZGSGhoaMjIz///+amppeXl7///9MTExxcXE9PT3///////9CQkL////////////n5+fKysrq6uq9vb2jo6Pk5OScnJyoqKjk5OS9vb2IiIhAQEBeXl7///8RDLJoAAAAbnRSTlNegIEhrIlmZmWAZkky/GeCgYFnBoCAdGbzq4GAgGZmZvHfzaefnJiXkpGKcG5uZmZDQ/fq466sqqeZmJeSd2xnZvnw7Onj2dHMyMfAvLe2tLCwpJGQjH92b25ubFpYUUhA4NrQzsrHvqqolnl5b4/gN4MAAAGhSURBVCjPZdFXbxpBEMDxORYSks1VDrgOpphqwKF34t7j3lt6n+//mOFtkX/Srlaj/8NKAzG2CoJVFns5AVZuhwXtMmP5JgqaeQa8I0UF0i/O01lJkE1zgNyrBTmANWnBGgAs+351PK761cq4UvX9ZYAN0yzYdsEsntqnRdPcoOh8WukgdipeCy11Oj0HaJnFDOLXgp1G68gxWxRFarXJd5R/f0G5OKnVIgBbjjNcQvlHE+WDguNsUSQFweTPJsqIbSMIAglg23U1e30+yQxd192m6MowDCVkIe4pBrkC2I3H4xcf3yN+7sfJLkV3iqLchGi0c6OQO4B9TdPO5tFSXyP7FEWTyeTlJn5APP5HzyjAoapenKTnk0xfVdVDiu7r9esdlM/2UB5e1+v3AGHPG9DHj+gcjDwvTNHj7PYY8eft309oXc5mjwBZfZRB/DboraN1outZip5SqZVEYoWu+Z16oh3oer7bzeujXrc30PUcRc+vFzzTDkILaAe88fBW8NDgvKS+EaglDizReCdoJBgrlyKCUplBjHEQcBZ7OfkPWYpTXkAiSDwAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANBAMAAACAxflPAAAAGFBMVEX///8AAAD///////////////////////8GrCwdAAAACHRSTlPMAKZNgI0NmlQIVC0AAABMSURBVAjXYxAUVmBQFhRgEFNgYGBQE2AQYgACJgEGA6YAhiAGAwYFVhEWcQaQpKOhAwMIMAsDCRgfLC8KlDdgKmAoYjCA6oebBzMfAF6oBtnQTZWMAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAA0CAMAAABRjo0fAAAARVBMVEUAAAAAAAAAAAD///+3t7e3t7cAAAAtLS3FxcUAAAAtLS3z8/Px8fHIyMjCwsJKSkpKSkoAAAAAAAD29vbi4uLi4uL////qCBnnAAAAFnRSTlMAgE2Zx3c4jHxiVJLy0s2VWR8K9eSJJoi7pQAAAS1JREFUWMPs0DkSwzAIQNFoV+R90/2PGg0DTQI2RQoX/hUN84ReT09Pf22JViwu/E58G7F3ZFdWZERqZXaQEamVgdCRY95Hjiwx/2YvW37eZi6L/EEld46pywVOYg9KQ1+Z+iHxJ4EDDEuB9L0DzlaFNpBYKDuxLEFDFRtEqJOhToJ6GepFyJ0kQfWku0DHXLLDcpkPDbRPaazYmKZdBc1tCg4KbZw10NQmXyHfxkkFFQsSOrZooGRAQsckFZQtSgGGrIFGg5KHYdRABISAoAIiwHsEVRBJ6KggktDRQCSRo4FIIkcDkUSOBiKJnDtCn1EadIMtMVAheQ+uDEuNImhwFarUqCYGV8VHPYsGvnFCi+YW3RqQdGsS062RT69uC906YvTqWo6CUTAKqAkAIPxHpRLLbKUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAiCAMAAADRYI/HAAAAOVBMVEUAAAD///+7u7uxsbF9fX2Pj4/W1taJiYn39/eTk5PNzc2tra2CgoLx8fHIyMioqKiioqJ3d3fh4eHCLdXsAAAAAXRSTlMAQObYZgAAAPhJREFUSMfszksOgzAMRdFiYoKdL+x/sTWRDJXyppU66BtF6HLk13+/vbTCpac4AtzxFNYTmH32IoQceVrMIXzcQbpNU7pvOcxoNK2Z4reYcS5gJ/kpZigq1BRHyArYkCOx4aLFB9lwst0IEy6Iv4Jo3ZexvSpGUveiJ4woEe2jsIciJLFIuR5FhBNEKq2mDGOlipAuOcpVSMzSITJ+tpgGhpDCMZhiRohcEOKKGxPiCrMbAHHFDYAs44j3wM7BE8VAI4Bm4ItioClAMyBsyg2hsncoD1jKo5jyxEZBsueAJ3sqZsDBWJ5QXjxSXlBTXmVQo/KiZjUKAAVsE9yzWNzOAAAAAElFTkSuQmCC"],h=[{width:18,height:18,bg:36},{width:13,height:13},{width:26,height:26,bg:52},{width:17,height:17,bg:34}],i='<div class="rb-adman_close" style="background:url({{img}});background-size:{{bg}}px 100%;width:{{width}}px;height:{{height}}px""></div>',j={controlsPaddingTop:3,controlsPaddingRight:0,controlsSafeArea:0};return f.onClick=function(b){b.stopPropagation(),"rb-adman_close"===b.target.className&&a.cb("onClosed")},{start:c,dispose:d,setWrapper:f.setWrapper}},AdmanHTML.DebugAdRenderer=function(a,b){"use strict";function c(){d.mainEl=document.createElement("span"),d.start(),d.setView("&#9874; "+b.section,{position:"absolute",cursor:"pointer",top:"5px",left:"5px",background:"rgba(204,204,204,0.8)",padding:"5px",color:"#333","border-radius":"6px",font:"12px/19px Tahoma",display:"inline-block","z-index":100})}var d=new AdmanHTML.AdRenderer(a,b),e=b.getAd();return d.onClick=function(){window.open(e.urlToNavigateOnClick,"_blank")},{start:c,dispose:d.dispose}},AdmanHTML.DisclaimerRenderer=function(a,b){"use strict";function c(a,b,c,d){var e=document.createElement("style");e.appendChild(document.createTextNode("        @font-face {            font-family: "+a+";            font-style: normal;            font-weight: 400;            unicode-range: "+d+";            src: url('"+b+"') format('"+c+"');        }        ")),document.head.appendChild(e)}function d(){this.isOpened=!1,this.isSmall=!1,this.appendedTo=null,this._advPageUrlPart="https://ads.vk.com/adv_info?",this.actionsWrapperWidth=230,this.closeIconSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS43MzY0MSAwLjI2MzYwNEMxMC4wODc5IDAuNjE1MDc2IDEwLjA4NzkgMS4xODQ5MiA5LjczNjQxIDEuNTM2NEw2LjI3MyA1TDkuNzM2NDEgOC40NjM2MkMxMC4wNTg2IDguNzg1OCAxMC4wODU0IDkuMjkxNDggOS44MTY5NSA5LjY0NDI0TDkuNzM2NDEgOS43MzY0MUM5LjM4NDk0IDEwLjA4NzkgOC44MTUwOSAxMC4wODc5IDguNDYzNjIgOS43MzY0MUw1IDYuMjczTDEuNTM2NCA5LjczNjQxQzEuMTg0OTIgMTAuMDg3OSAwLjYxNTA3NiAxMC4wODc5IDAuMjYzNjA0IDkuNzM2NDFDLTAuMDg3ODY3OSA5LjM4NDk0IC0wLjA4Nzg2NzkgOC44MTUwOSAwLjI2MzYwNCA4LjQ2MzYyTDMuNzI3IDVMMC4yNjM2MDQgMS41MzY0Qy0wLjA1ODU3ODYgMS4yMTQyMSAtMC4wODU0MjcyIDAuNzA4NTM0IDAuMTgzMDU4IDAuMzU1NzY5TDAuMjYzNjA0IDAuMjYzNjA0QzAuNjE1MDc2IC0wLjA4Nzg2OCAxLjE4NDkyIC0wLjA4Nzg2OCAxLjUzNjQgMC4yNjM2MDRMNSAzLjcyN0w4LjQ2MzYyIDAuMjYzNjA0QzguODE1MDkgLTAuMDg3ODY4IDkuMzg0OTQgLTAuMDg3ODY4IDkuNzM2NDEgMC4yNjM2MDRaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjY0Ii8+PC9zdmc+",this.closeIconActiveSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMCAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS43MzY0MSAwLjI2MzYwNEMxMC4wODc5IDAuNjE1MDc2IDEwLjA4NzkgMS4xODQ5MiA5LjczNjQxIDEuNTM2NEw2LjI3MyA1TDkuNzM2NDEgOC40NjM2MkMxMC4wNTg2IDguNzg1OCAxMC4wODU0IDkuMjkxNDggOS44MTY5NSA5LjY0NDI0TDkuNzM2NDEgOS43MzY0MUM5LjM4NDk0IDEwLjA4NzkgOC44MTUwOSAxMC4wODc5IDguNDYzNjIgOS43MzY0MUw1IDYuMjczTDEuNTM2NCA5LjczNjQxQzEuMTg0OTIgMTAuMDg3OSAwLjYxNTA3NiAxMC4wODc5IDAuMjYzNjA0IDkuNzM2NDFDLTAuMDg3ODY3OSA5LjM4NDk0IC0wLjA4Nzg2NzkgOC44MTUwOSAwLjI2MzYwNCA4LjQ2MzYyTDMuNzI3IDVMMC4yNjM2MDQgMS41MzY0Qy0wLjA1ODU3ODYgMS4yMTQyMSAtMC4wODU0MjcyIDAuNzA4NTM0IDAuMTgzMDU4IDAuMzU1NzY5TDAuMjYzNjA0IDAuMjYzNjA0QzAuNjE1MDc2IC0wLjA4Nzg2OCAxLjE4NDkyIC0wLjA4Nzg2OCAxLjUzNjQgMC4yNjM2MDRMNSAzLjcyN0w4LjQ2MzYyIDAuMjYzNjA0QzguODE1MDkgLTAuMDg3ODY4IDkuMzg0OTQgLTAuMDg3ODY4IDkuNzM2NDEgMC4yNjM2MDRaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIxLjAwIi8+PC9zdmc+",this.aboutIconSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNiA2Ljc1QzYgNy4xNjQyMSA2LjMzNTc5IDcuNSA2Ljc1IDcuNUg5LjQzOTM0TDYuMjE5NjcgMTAuNzE5N0M1LjkyNjc4IDExLjAxMjYgNS45MjY3OCAxMS40ODc0IDYuMjE5NjcgMTEuNzgwM0M2LjUxMjU2IDEyLjA3MzIgNi45ODc0NCAxMi4wNzMyIDcuMjgwMzMgMTEuNzgwM0wxMC41IDguNTYwNjZWMTEuMjVDMTAuNSAxMS42NjQyIDEwLjgzNTggMTIgMTEuMjUgMTJDMTEuNjY0MiAxMiAxMiAxMS42NjQyIDEyIDExLjI1VjYuNzVDMTIgNi4zMzU3OSAxMS42NjQyIDYgMTEuMjUgNkg2Ljc1QzYuMzM1NzkgNiA2IDYuMzM1NzkgNiA2Ljc1WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC42NCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkgMTcuNUMxMy42OTQ0IDE3LjUgMTcuNSAxMy42OTQ0IDE3LjUgOUMxNy41IDQuMzA1NTggMTMuNjk0NCAwLjUgOSAwLjVDNC4zMDU1OCAwLjUgMC41IDQuMzA1NTggMC41IDlDMC41IDEzLjY5NDQgNC4zMDU1OCAxNy41IDkgMTcuNVpNMTYgOUMxNiAxMi44NjYgMTIuODY2IDE2IDkgMTZDNS4xMzQwMSAxNiAyIDEyLjg2NiAyIDlDMiA1LjEzNDAxIDUuMTM0MDEgMiA5IDJDMTIuODY2IDIgMTYgNS4xMzQwMSAxNiA5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC42NCIvPjwvc3ZnPgo=",this.aboutIconActiveSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNiA2Ljc1QzYgNy4xNjQyMSA2LjMzNTc5IDcuNSA2Ljc1IDcuNUg5LjQzOTM0TDYuMjE5NjcgMTAuNzE5N0M1LjkyNjc4IDExLjAxMjYgNS45MjY3OCAxMS40ODc0IDYuMjE5NjcgMTEuNzgwM0M2LjUxMjU2IDEyLjA3MzIgNi45ODc0NCAxMi4wNzMyIDcuMjgwMzMgMTEuNzgwM0wxMC41IDguNTYwNjZWMTEuMjVDMTAuNSAxMS42NjQyIDEwLjgzNTggMTIgMTEuMjUgMTJDMTEuNjY0MiAxMiAxMiAxMS42NjQyIDEyIDExLjI1VjYuNzVDMTIgNi4zMzU3OSAxMS42NjQyIDYgMTEuMjUgNkg2Ljc1QzYuMzM1NzkgNiA2IDYuMzM1NzkgNiA2Ljc1WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMS4wMCIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTkgMTcuNUMxMy42OTQ0IDE3LjUgMTcuNSAxMy42OTQ0IDE3LjUgOUMxNy41IDQuMzA1NTggMTMuNjk0NCAwLjUgOSAwLjVDNC4zMDU1OCAwLjUgMC41IDQuMzA1NTggMC41IDlDMC41IDEzLjY5NDQgNC4zMDU1OCAxNy41IDkgMTcuNVpNMTYgOUMxNiAxMi44NjYgMTIuODY2IDE2IDkgMTZDNS4xMzQwMSAxNiAyIDEyLjg2NiAyIDlDMiA1LjEzNDAxIDUuMTM0MDEgMiA5IDJDMTIuODY2IDIgMTYgNS4xMzQwMSAxNiA5WiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMS4wMCIvPjwvc3ZnPgo=",
this.copyIconSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNiAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNy4yIDJDNS45MTUxMyAyIDUuMDQxNjkgMi4wMDExNyA0LjM2NjU2IDIuMDU2MzNDMy43MDg5MyAyLjExMDA2IDMuMzcyNjMgMi4yMDc0NSAzLjEzODAzIDIuMzI2OThDMi41NzM1NCAyLjYxNDYgMi4xMTQ2IDMuMDczNTQgMS44MjY5OCAzLjYzODAzQzEuNzA3NDUgMy44NzI2MyAxLjYxMDA2IDQuMjA4OTMgMS41NTYzMyA0Ljg2NjU2QzEuNTAxMTcgNS41NDE2OSAxLjUgNi40MTUxMyAxLjUgNy43VjEwLjNDMS41IDEwLjg4NDggMS41MDExNyAxMS4yMzMyIDEuNTIyMjcgMTEuNDkxNEMxLjUzMTI4IDExLjYwMTcgMS41NDIzIDExLjY2NzMgMS41NSAxMS43MDI4VjExLjhDMS41NSAxMi41NjExIDEuNTUgMTMuMDYzNiAxLjYxODM4IDEzLjQ0MThDMS40MTMzMiAxMy40MDk2IDEuMjQ0MjkgMTMuMzU5NiAxLjA5MjAyIDEzLjI4MkMwLjcxNTY5NSAxMy4wOTAzIDAuNDA5NzM0IDEyLjc4NDMgMC4yMTc5ODcgMTIuNDA4QzAgMTEuOTgwMiAwIDExLjQyMDEgMCAxMC4zVjcuN0MwIDUuMTc5NzYgMCAzLjkxOTY1IDAuNDkwNDcxIDIuOTU3MDRDMC45MjE5MDEgMi4xMTAzMSAxLjYxMDMxIDEuNDIxOSAyLjQ1NzA0IDAuOTkwNDcxQzMuNDE5NjUgMC41IDQuNjc5NzYgMC41IDcuMiAwLjVIOS4yQzEwLjMyMDEgMC41IDEwLjg4MDIgMC41IDExLjMwOCAwLjcxNzk4N0MxMS42ODQzIDAuOTA5NzM0IDExLjk5MDMgMS4yMTU2OSAxMi4xODIgMS41OTIwMkMxMi4yNTE5IDEuNzI5MTUgMTIuMjk5NCAxLjg3OTg2IDEyLjMzMTYgMi4wNTgyNEMxMS45NjA1IDIgMTEuNDcxNCAyIDEwLjc1IDJINy4yWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC42NCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMy4xIDYuN0MzLjEgNS41Nzk5IDMuMSA1LjAxOTg0IDMuMzE3OTkgNC41OTIwMkMzLjUwOTczIDQuMjE1NjkgMy44MTU2OSAzLjkwOTczIDQuMTkyMDIgMy43MTc5OUM0LjYxOTg0IDMuNSA1LjE3OTg5IDMuNSA2LjMgMy41SDEyLjNDMTMuNDIwMSAzLjUgMTMuOTgwMiAzLjUgMTQuNDA4IDMuNzE3OTlDMTQuNzg0MyAzLjkwOTczIDE1LjA5MDMgNC4yMTU2OSAxNS4yODIgNC41OTIwMkMxNS41IDUuMDE5ODQgMTUuNSA1LjU3OTkgMTUuNSA2LjdWMTQuM0MxNS41IDE1LjQyMDEgMTUuNSAxNS45ODAyIDE1LjI4MiAxNi40MDhDMTUuMDkwMyAxNi43ODQzIDE0Ljc4NDMgMTcuMDkwMyAxNC40MDggMTcuMjgyQzEzLjk4MDIgMTcuNSAxMy40MjAxIDE3LjUgMTIuMyAxNy41SDYuM0M1LjE3OTkgMTcuNSA0LjYxOTg0IDE3LjUgNC4xOTIwMiAxNy4yODJDMy44MTU2OSAxNy4wOTAzIDMuNTA5NzMgMTYuNzg0MyAzLjMxNzk5IDE2LjQwOEMzLjEgMTUuOTgwMiAzLjEgMTUuNDIwMSAzLjEgMTQuM1Y2LjdaTTYuMyA1SDEyLjNDMTIuODg0OCA1IDEzLjIzMzIgNS4wMDExNyAxMy40OTE0IDUuMDIyMjdDMTMuNjQ5MSA1LjAzNTE0IDEzLjcxNTMgNS4wNTIxNCAxMy43MzMxIDUuMDU3NjVDMTMuODIyNCA1LjEwNDY5IDEzLjg5NTMgNS4xNzc2NSAxMy45NDI0IDUuMjY2OTNDMTMuOTQ3OSA1LjI4NDY4IDEzLjk2NDkgNS4zNTA5NCAxMy45Nzc3IDUuNTA4NTVDMTMuOTk4OCA1Ljc2NjgxIDE0IDYuMTE1MiAxNCA2LjdWMTQuM0MxNCAxNC44ODQ4IDEzLjk5ODggMTUuMjMzMiAxMy45Nzc3IDE1LjQ5MTRDMTMuOTY0OSAxNS42NDkxIDEzLjk0NzkgMTUuNzE1MyAxMy45NDI0IDE1LjczMzFDMTMuODk1MyAxNS44MjI0IDEzLjgyMjQgMTUuODk1MyAxMy43MzMxIDE1Ljk0MjRDMTMuNzE1MyAxNS45NDc5IDEzLjY0OTEgMTUuOTY0OSAxMy40OTE0IDE1Ljk3NzdDMTMuMjMzMiAxNS45OTg4IDEyLjg4NDggMTYgMTIuMyAxNkg2LjNDNS43MTUyIDE2IDUuMzY2ODEgMTUuOTk4OCA1LjEwODU1IDE1Ljk3NzdDNC45NTA5NCAxNS45NjQ5IDQuODg0NjkgMTUuOTQ3OSA0Ljg2NjkzIDE1Ljk0MjRDNC43Nzc2NSAxNS44OTUzIDQuNzA0NjkgMTUuODIyNCA0LjY1NzY1IDE1LjczMzFDNC42NTIxNCAxNS43MTUzIDQuNjM1MTQgMTUuNjQ5MSA0LjYyMjI3IDE1LjQ5MTRDNC42MDExNyAxNS4yMzMyIDQuNiAxNC44ODQ4IDQuNiAxNC4zVjYuN0M0LjYgNi4xMTUyIDQuNjAxMTcgNS43NjY4MSA0LjYyMjI3IDUuNTA4NTVDNC42MzUxNCA1LjM1MDkzIDQuNjUyMTQgNS4yODQ2OCA0LjY1NzY1IDUuMjY2OTNDNC43MDQ2OSA1LjE3NzY1IDQuNzc3NjUgNS4xMDQ2OSA0Ljg2NjkzIDUuMDU3NjVDNC44ODQ2OCA1LjA1MjE0IDQuOTUwOTQgNS4wMzUxNCA1LjEwODU1IDUuMDIyMjdDNS4zNjY4MSA1LjAwMTE3IDUuNzE1MiA1IDYuMyA1Wk0xMy43MzgzIDUuMDU5NDVMMTMuNzM1MiA1LjA1ODMzQzEzLjczNzQgNS4wNTkwNCAxMy43MzgzIDUuMDU5NDMgMTMuNzM4MyA1LjA1OTQ1Wk0xMy45NDA1IDUuMjYxNzVDMTMuOTQwNiA1LjI2MTY5IDEzLjk0MSA1LjI2MjY0IDEzLjk0MTcgNS4yNjQ3OEwxMy45NDA1IDUuMjYxNzVaTTEzLjk0MDUgMTUuNzM4M0wxMy45NDE3IDE1LjczNTJDMTMuOTQxIDE1LjczNzMgMTMuOTQwNiAxNS43MzgzIDEzLjk0MDUgMTUuNzM4M1pNMTMuNzM4MiAxNS45NDA1QzEzLjczODMgMTUuOTQwNiAxMy43Mzc0IDE1Ljk0MDkgMTMuNzM1MyAxNS45NDE3TDEzLjczODIgMTUuOTQwNVpNNC44NjE3NSAxNS45NDA1TDQuODY0NzggMTUuOTQxN0M0Ljg2MjY1IDE1Ljk0MSA0Ljg2MTY5IDE1Ljk0MDYgNC44NjE3NSAxNS45NDA1Wk00LjY1OTQ1IDE1LjczODNDNC42NTk0MyAxNS43MzgzIDQuNjU5MDQgMTUuNzM3NCA0LjY1ODMzIDE1LjczNTJMNC42NTk0NSAxNS43MzgzWk00LjY1OTQ1IDUuMjYxNzVMNC42NTgzMyA1LjI2NDc4QzQuNjU5MDQgNS4yNjI2NCA0LjY1OTQzIDUuMjYxNjkgNC42NTk0NSA1LjI2MTc1Wk00Ljg2MjE0IDUuMDU5MjdDNC44NjIxMiA1LjA1OTI2IDQuODYxODUgNS4wNTkzOCA0Ljg2MjE0IDUuMDU5MjdMNC44NjQ3OCA1LjA1ODMzQzQuODYzNDcgNS4wNTg3NyA0Ljg2MjYgNS4wNTkwOCA0Ljg2MjE0IDUuMDU5MjdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjY0Ii8+PC9zdmc+",this.copyIconActiveSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxNiAxOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNy4yIDJDNS45MTUxMyAyIDUuMDQxNjkgMi4wMDExNyA0LjM2NjU2IDIuMDU2MzNDMy43MDg5MyAyLjExMDA2IDMuMzcyNjMgMi4yMDc0NSAzLjEzODAzIDIuMzI2OThDMi41NzM1NCAyLjYxNDYgMi4xMTQ2IDMuMDczNTQgMS44MjY5OCAzLjYzODAzQzEuNzA3NDUgMy44NzI2MyAxLjYxMDA2IDQuMjA4OTMgMS41NTYzMyA0Ljg2NjU2QzEuNTAxMTcgNS41NDE2OSAxLjUgNi40MTUxMyAxLjUgNy43VjEwLjNDMS41IDEwLjg4NDggMS41MDExNyAxMS4yMzMyIDEuNTIyMjcgMTEuNDkxNEMxLjUzMTI4IDExLjYwMTcgMS41NDIzIDExLjY2NzMgMS41NSAxMS43MDI4VjExLjhDMS41NSAxMi41NjExIDEuNTUgMTMuMDYzNiAxLjYxODM4IDEzLjQ0MThDMS40MTMzMiAxMy40MDk2IDEuMjQ0MjkgMTMuMzU5NiAxLjA5MjAyIDEzLjI4MkMwLjcxNTY5NSAxMy4wOTAzIDAuNDA5NzM0IDEyLjc4NDMgMC4yMTc5ODcgMTIuNDA4QzAgMTEuOTgwMiAwIDExLjQyMDEgMCAxMC4zVjcuN0MwIDUuMTc5NzYgMCAzLjkxOTY1IDAuNDkwNDcxIDIuOTU3MDRDMC45MjE5MDEgMi4xMTAzMSAxLjYxMDMxIDEuNDIxOSAyLjQ1NzA0IDAuOTkwNDcxQzMuNDE5NjUgMC41IDQuNjc5NzYgMC41IDcuMiAwLjVIOS4yQzEwLjMyMDEgMC41IDEwLjg4MDIgMC41IDExLjMwOCAwLjcxNzk4N0MxMS42ODQzIDAuOTA5NzM0IDExLjk5MDMgMS4yMTU2OSAxMi4xODIgMS41OTIwMkMxMi4yNTE5IDEuNzI5MTUgMTIuMjk5NCAxLjg3OTg2IDEyLjMzMTYgMi4wNTgyNEMxMS45NjA1IDIgMTEuNDcxNCAyIDEwLjc1IDJINy4yWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMS4wMCIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMy4xIDYuN0MzLjEgNS41Nzk5IDMuMSA1LjAxOTg0IDMuMzE3OTkgNC41OTIwMkMzLjUwOTczIDQuMjE1NjkgMy44MTU2OSAzLjkwOTczIDQuMTkyMDIgMy43MTc5OUM0LjYxOTg0IDMuNSA1LjE3OTg5IDMuNSA2LjMgMy41SDEyLjNDMTMuNDIwMSAzLjUgMTMuOTgwMiAzLjUgMTQuNDA4IDMuNzE3OTlDMTQuNzg0MyAzLjkwOTczIDE1LjA5MDMgNC4yMTU2OSAxNS4yODIgNC41OTIwMkMxNS41IDUuMDE5ODQgMTUuNSA1LjU3OTkgMTUuNSA2LjdWMTQuM0MxNS41IDE1LjQyMDEgMTUuNSAxNS45ODAyIDE1LjI4MiAxNi40MDhDMTUuMDkwMyAxNi43ODQzIDE0Ljc4NDMgMTcuMDkwMyAxNC40MDggMTcuMjgyQzEzLjk4MDIgMTcuNSAxMy40MjAxIDE3LjUgMTIuMyAxNy41SDYuM0M1LjE3OTkgMTcuNSA0LjYxOTg0IDE3LjUgNC4xOTIwMiAxNy4yODJDMy44MTU2OSAxNy4wOTAzIDMuNTA5NzMgMTYuNzg0MyAzLjMxNzk5IDE2LjQwOEMzLjEgMTUuOTgwMiAzLjEgMTUuNDIwMSAzLjEgMTQuM1Y2LjdaTTYuMyA1SDEyLjNDMTIuODg0OCA1IDEzLjIzMzIgNS4wMDExNyAxMy40OTE0IDUuMDIyMjdDMTMuNjQ5MSA1LjAzNTE0IDEzLjcxNTMgNS4wNTIxNCAxMy43MzMxIDUuMDU3NjVDMTMuODIyNCA1LjEwNDY5IDEzLjg5NTMgNS4xNzc2NSAxMy45NDI0IDUuMjY2OTNDMTMuOTQ3OSA1LjI4NDY4IDEzLjk2NDkgNS4zNTA5NCAxMy45Nzc3IDUuNTA4NTVDMTMuOTk4OCA1Ljc2NjgxIDE0IDYuMTE1MiAxNCA2LjdWMTQuM0MxNCAxNC44ODQ4IDEzLjk5ODggMTUuMjMzMiAxMy45Nzc3IDE1LjQ5MTRDMTMuOTY0OSAxNS42NDkxIDEzLjk0NzkgMTUuNzE1MyAxMy45NDI0IDE1LjczMzFDMTMuODk1MyAxNS44MjI0IDEzLjgyMjQgMTUuODk1MyAxMy43MzMxIDE1Ljk0MjRDMTMuNzE1MyAxNS45NDc5IDEzLjY0OTEgMTUuOTY0OSAxMy40OTE0IDE1Ljk3NzdDMTMuMjMzMiAxNS45OTg4IDEyLjg4NDggMTYgMTIuMyAxNkg2LjNDNS43MTUyIDE2IDUuMzY2ODEgMTUuOTk4OCA1LjEwODU1IDE1Ljk3NzdDNC45NTA5NCAxNS45NjQ5IDQuODg0NjkgMTUuOTQ3OSA0Ljg2NjkzIDE1Ljk0MjRDNC43Nzc2NSAxNS44OTUzIDQuNzA0NjkgMTUuODIyNCA0LjY1NzY1IDE1LjczMzFDNC42NTIxNCAxNS43MTUzIDQuNjM1MTQgMTUuNjQ5MSA0LjYyMjI3IDE1LjQ5MTRDNC42MDExNyAxNS4yMzMyIDQuNiAxNC44ODQ4IDQuNiAxNC4zVjYuN0M0LjYgNi4xMTUyIDQuNjAxMTcgNS43NjY4MSA0LjYyMjI3IDUuNTA4NTVDNC42MzUxNCA1LjM1MDkzIDQuNjUyMTQgNS4yODQ2OCA0LjY1NzY1IDUuMjY2OTNDNC43MDQ2OSA1LjE3NzY1IDQuNzc3NjUgNS4xMDQ2OSA0Ljg2NjkzIDUuMDU3NjVDNC44ODQ2OCA1LjA1MjE0IDQuOTUwOTQgNS4wMzUxNCA1LjEwODU1IDUuMDIyMjdDNS4zNjY4MSA1LjAwMTE3IDUuNzE1MiA1IDYuMyA1Wk0xMy43MzgzIDUuMDU5NDVMMTMuNzM1MiA1LjA1ODMzQzEzLjczNzQgNS4wNTkwNCAxMy43MzgzIDUuMDU5NDMgMTMuNzM4MyA1LjA1OTQ1Wk0xMy45NDA1IDUuMjYxNzVDMTMuOTQwNiA1LjI2MTY5IDEzLjk0MSA1LjI2MjY0IDEzLjk0MTcgNS4yNjQ3OEwxMy45NDA1IDUuMjYxNzVaTTEzLjk0MDUgMTUuNzM4M0wxMy45NDE3IDE1LjczNTJDMTMuOTQxIDE1LjczNzMgMTMuOTQwNiAxNS43MzgzIDEzLjk0MDUgMTUuNzM4M1pNMTMuNzM4MiAxNS45NDA1QzEzLjczODMgMTUuOTQwNiAxMy43Mzc0IDE1Ljk0MDkgMTMuNzM1MyAxNS45NDE3TDEzLjczODIgMTUuOTQwNVpNNC44NjE3NSAxNS45NDA1TDQuODY0NzggMTUuOTQxN0M0Ljg2MjY1IDE1Ljk0MSA0Ljg2MTY5IDE1Ljk0MDYgNC44NjE3NSAxNS45NDA1Wk00LjY1OTQ1IDE1LjczODNDNC42NTk0MyAxNS43MzgzIDQuNjU5MDQgMTUuNzM3NCA0LjY1ODMzIDE1LjczNTJMNC42NTk0NSAxNS43MzgzWk00LjY1OTQ1IDUuMjYxNzVMNC42NTgzMyA1LjI2NDc4QzQuNjU5MDQgNS4yNjI2NCA0LjY1OTQzIDUuMjYxNjkgNC42NTk0NSA1LjI2MTc1Wk00Ljg2MjE0IDUuMDU5MjdDNC44NjIxMiA1LjA1OTI2IDQuODYxODUgNS4wNTkzOCA0Ljg2MjE0IDUuMDU5MjdMNC44NjQ3OCA1LjA1ODMzQzQuODYzNDcgNS4wNTg3NyA0Ljg2MjYgNS4wNTkwOCA0Ljg2MjE0IDUuMDU5MjdaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIxLjAwIi8+PC9zdmc+",this.adchoiceIconSrc="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMTIuNUMxMC4wMzc2IDEyLjUgMTIuNSAxMC4wMzc2IDEyLjUgN0MxMi41IDMuOTYyNDMgMTAuMDM3NiAxLjUgNyAxLjVDMy45NjI0MyAxLjUgMS41IDMuOTYyNDMgMS41IDdDMS41IDEwLjAzNzYgMy45NjI0MyAxMi41IDcgMTIuNVpNMTQgN0MxNCAxMC44NjYgMTAuODY2IDE0IDcgMTRDMy4xMzQwMSAxNCAwIDEwLjg2NiAwIDdDMCAzLjEzNDAxIDMuMTM0MDEgMCA3IDBDMTAuODY2IDAgMTQgMy4xMzQwMSAxNCA3WiIgZmlsbD0id2hpdGUiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMTFDNi41ODU3OSAxMSA2LjI1IDEwLjY2NDIgNi4yNSAxMC4yNVY2Ljc1QzYuMjUgNi4zMzU3OSA2LjU4NTc5IDYgNyA2QzcuNDE0MjEgNiA3Ljc1IDYuMzM1NzkgNy43NSA2Ljc1VjEwLjI1QzcuNzUgMTAuNjY0MiA3LjQxNDIxIDExIDcgMTFaIiBmaWxsPSJ3aGl0ZSIvPjxwYXRoIGQ9Ik02LjEwMDAyIDMuOUM2LjEwMDAyIDMuNDAyOTUgNi41MDI5NyAzIDcuMDAwMDIgM0M3LjQ5NzA4IDMgNy45MDAwMiAzLjQwMjk1IDcuOTAwMDIgMy45QzcuOTAwMDIgNC4zOTcwNiA3LjQ5NzA4IDQuOCA3LjAwMDAyIDQuOEM2LjUwMjk3IDQuOCA2LjEwMDAyIDQuMzk3MDYgNi4xMDAwMiAzLjlaIiBmaWxsPSJ3aGl0ZSIvPjwvc3ZnPgo=",this.adActionsEl=document.createElement("div"),this.adActionsEl.className="rb-adman-ad-actions",this.disclaimerWrapperEl=document.createElement("div"),this.disclaimerWrapperEl.className="disclaimer-wrapper",this.disclaimerEl=document.createElement("span"),this.disclaimerEl.className="disclaimer-text",this.remainTimeEl=document.createElement("span"),this.remainTimeEl.className="remain-time",this.adChoiceEl=document.createElement("span"),this.adChoiceEl.className="ad-choice",this.actionsWrapperEl=document.createElement("div"),this.actionsWrapperEl.className="actions-wrapper",this.actionsHeaderEl=document.createElement("div"),this.actionsHeaderEl.className="actions-header",this.actionsHeaderText=document.createElement("span"),this.actionsHeaderText.className="actions-header-text",this.actionsHeaderButton=document.createElement("span"),this.actionsHeaderButton.className="actions-header-close",this.actionsAboutEl=document.createElement("div"),this.actionsAboutEl.className="actions-about",this.actionsAboutPictureEl=document.createElement("span"),this.actionsAboutPictureEl.className="actions-about-picture",this.actionsAboutTextEl=document.createElement("span"),this.actionsAboutTextEl.className="actions-about-text",this.actionsCopyEl=document.createElement("div"),this.actionsCopyEl.className="actions-copy",this.actionsCopyPictureEl=document.createElement("div"),this.actionsCopyPictureEl.className="actions-copy-picture",this.actionsCopyTextEl=document.createElement("div"),this.actionsCopyTextEl.className="actions-copy-text"}function e(a,b,c){return[b,a].reduce(function(a,b){return b&&Object.keys(c).forEach(function(c){a[c]!==b[c]&&(a[c]=b[c]?b[c]:a[c]),"object"==typeof b.members&&(a.members=b.members)}),a},Object.assign({},c))}function f(a){return!!Array.isArray(a.members)&&(a.members.forEach(function(a){if(-1===["adchoice","disclaimer","timer"].indexOf(a))return!1}),"string"==typeof a.positionX&&(-1!==["left","right"].indexOf(a.positionX)&&("string"==typeof a.positionY&&(-1!==["top","bottom"].indexOf(a.positionY)&&("string"==typeof a.offsetX&&("string"==typeof a.offsetY&&(!("string"!=typeof a.disclaimerText||!a.disclaimerText.length)&&(!("string"!=typeof a.headerText||!a.headerText.length)&&(!("string"!=typeof a.aboutText||!a.aboutText.length)&&!("string"!=typeof a.copyText||!a.copyText.length))))))))))}function g(){k.start();var c=b.getSettings(),d=b.getAd(),g={originalBannerId:d.bannerID,bannerId:d.cipherBannerID?d.cipherBannerID:null,bannerOrdId:d.bannerID},h=e(d?d.adActionsConfig:null,c?c.adActionsConfig:null,l);m.build(f(h)?h:l,g),m.init(),m.addListeners(),m.appendTo(a.wrapper),j=function(){m.destroy()}}function h(a,b){var c=Math.floor(b-a);c||(c="00"),m.updateRemainTime(c)}function i(){j&&j(),k.dispose()}if(!a.disclaimer)return{render:Function.prototype,onTimeRemained:Function.prototype,dispose:Function.prototype};var j,k=new AdmanHTML.AdRenderer(a,b),l={members:["disclaimer","timer","adchoice"],positionX:"left",positionY:"top",offsetX:"12px",offsetY:"12px",disclaimerText:"Реклама",headerText:"Рекламное объявление",aboutText:"О рекламодателе",copyText:"Скопировать ID объявления"};Object.freeze(l),[{name:"Roboto",description:"cyrillic-ext",url:"https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2",format:"woff2",unicodeRange:"U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F"},{name:"Roboto",description:"cyrillic",url:"https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2",format:"woff2",unicodeRange:"U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116"},{name:"Roboto",description:"latin-ext",url:"https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2",format:"woff2",unicodeRange:"U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF"},{name:"Roboto",description:"latin",url:"https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2",format:"woff2",unicodeRange:"U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD"}].forEach(function(a){c(a.name,a.url,a.format,a.unicodeRange)}),d.prototype.preBuild=function(){this.actionsHeaderEl.appendChild(this.actionsHeaderText),this.actionsHeaderEl.appendChild(this.actionsHeaderButton),this.actionsAboutEl.appendChild(this.actionsAboutPictureEl),this.actionsAboutEl.appendChild(this.actionsAboutTextEl),this.actionsCopyEl.appendChild(this.actionsCopyPictureEl),this.actionsCopyEl.appendChild(this.actionsCopyTextEl),this.actionsWrapperEl.appendChild(this.actionsHeaderEl),this.actionsWrapperEl.appendChild(this.actionsAboutEl),this.actionsWrapperEl.appendChild(this.actionsCopyEl),this.adActionsEl.appendChild(this.disclaimerWrapperEl),this.adActionsEl.appendChild(this.actionsWrapperEl)},d.prototype.build=function(a,b){this.config=a,this.data=b,this.config.members.forEach(function(a){switch(a){case"disclaimer":this.disclaimerWrapperEl.appendChild(this.disclaimerEl);break;case"timer":this.disclaimerWrapperEl.appendChild(this.remainTimeEl);break;case"adchoice":this.disclaimerWrapperEl.appendChild(this.adChoiceEl)}}.bind(this))},d.prototype.init=function(){this._fillData(),this._setInitialStyles(),this._setSpecificStyles()},d.prototype._setSpecificStyles=function(){var a={};"left"===this.config.positionX&&(a.left=this.config.offsetX),"right"===this.config.positionX&&(a.right=this.config.offsetX),"top"===this.config.positionY&&(a.top=this.config.offsetY),"bottom"===this.config.positionY&&(a.bottom=this.config.offsetY),this._setStyles(this.adActionsEl,a)},d.prototype._fillData=function(){this.disclaimerEl.innerText=this.config.disclaimerText,this.actionsHeaderText.innerText=this.config.headerText,this.actionsAboutTextEl.innerText=this.config.aboutText,this.actionsCopyTextEl.innerText=this.config.copyText},d.prototype._setInitialStyles=function(){this._setStyles(this.disclaimerWrapperEl,{display:"flex","flex-direction":"row","align-items":"center",gap:"8px"}),this._setStyles(this.adChoiceEl,{"background-image":'url("'+this.adchoiceIconSrc+'")',"background-repeat":"no-repeat",width:"14px",height:"14px","background-position":"center"}),this._setStyles(this.actionsHeaderButton,{"background-image":'url("'+this.closeIconSrc+'")',"background-repeat":"no-repeat",width:"10px","background-position":"center"}),this._setStyles(this.actionsAboutPictureEl,{"background-image":'url("'+this.aboutIconSrc+'")',"background-repeat":"no-repeat",width:"17px",height:"17px","background-position":"center"}),this._setStyles(this.actionsCopyPictureEl,{"background-image":'url("'+this.copyIconSrc+'")',"background-repeat":"no-repeat",width:"17px",height:"17px","background-position":"center"}),this._setStyles(this.actionsCopyTextEl,{"margin-left":"8px"}),this._setStyles(this.actionsAboutTextEl,{"margin-left":"8px"}),this._setStyles(this.actionsHeaderEl,{width:"100%",display:"flex"}),this._setStyles(this.actionsAboutEl,{width:"100%",display:"flex",color:"rgba(255, 255, 255, 0.72)","border-radius":"8px","margin-top":"8px"}),this._setStyles(this.actionsCopyEl,{width:"100%",display:"flex",color:"rgba(255, 255, 255, 0.72)","border-radius":"8px","margin-top":"8px"}),this._setStyles(this.actionsHeaderEl,{width:"100%",display:"flex","flex-direction":"row","justify-content":"space-between"}),this._setStyles(this.actionsWrapperEl,{"flex-direction":"column","align-items":"flex-start",display:"none",width:this.actionsWrapperWidth+"px"}),this._setStyles(this.adActionsEl,{"border-radius":"8px",background:"rgba(17,17,17,.8)",color:"white",cursor:"pointer",display:"flex","flex-direction":"row","align-items":"center",padding:"10px 12px 10px 16px",gap:"8px",position:"absolute","font-family":"Roboto","font-style":"normal","font-weight":"400","font-size":"14px","line-height":"18px"}),this._setStyles(this.adChoiceEl,{width:"14px",height:"14px"})},d.prototype._setStyles=function(a,b){AdmanHTML.Utils.setStyle(a,b)},d.prototype.updateRemainTime=function(a){var b=Math.trunc(a/60),c=a-60*b;b=b.toString(),c=c.toString(),1===c.length&&(c="0"+c),this.remainTimeEl.innerText=b+":"+c},d.prototype.addListeners=function(){this.actionsAboutEl.addEventListener("mouseover",this._setHoverActionsAboutListener.bind(this,!0)),this.actionsAboutEl.addEventListener("mouseout",this._setHoverActionsAboutListener.bind(this,!1)),this.actionsAboutEl.addEventListener("click",this._redirToAboutAdvPageListener.bind(this)),this.actionsCopyEl.addEventListener("mouseover",this._setHoverActionsCopyListener.bind(this,!0)),this.actionsCopyEl.addEventListener("mouseout",this._setHoverActionsCopyListener.bind(this,!1)),this.actionsCopyEl.addEventListener("click",this._copyBannerOrdIdToClipboardListener.bind(this)),this.actionsHeaderButton.addEventListener("mouseover",this._setHoverActionsHeaderButton.bind(this,!0)),this.actionsHeaderButton.addEventListener("mouseout",this._setHoverActionsHeaderButton.bind(this,!1)),this.adActionsEl.addEventListener("mouseover",this._setAdActionsHoverListener.bind(this,!0)),this.adActionsEl.addEventListener("mouseout",this._setAdActionsHoverListener.bind(this,!1)),this.adActionsEl.addEventListener("click",this._clickListener.bind(this)),this.actionsHeaderButton.addEventListener("click",this._actionsHeaderButtonListener.bind(this))},d.prototype._redirToAboutAdvPageListener=function(a){a.stopPropagation();var b=this.data.bannerId?this.data.bannerId:btoa(this.data.originalBannerId);window.open(this._advPageUrlPart+"id="+b,"_blank")},d.prototype._copyToClipboard=function(a){var b=document.createElement("textarea");document.body.appendChild(b),b.value=a,b.select(),document.execCommand("copy"),document.body.removeChild(b)},d.prototype._copyBannerOrdIdToClipboardListener=function(a){a.stopPropagation(),this._copyToClipboard(this.data.bannerOrdId)},d.prototype._setAdActionsHoverListener=function(a){a?AdmanHTML.Utils.setStyle(this.adActionsEl,{background:"rgba(17,17,17,.72)"}):AdmanHTML.Utils.setStyle(this.adActionsEl,{background:"rgba(17,17,17,.8)"})},d.prototype._actionsHeaderButtonListener=function(a){a.stopPropagation(),this._setStyles(this.actionsWrapperEl,{display:"none"}),this._setStyles(this.disclaimerWrapperEl,{display:"flex"}),this.isSmall&&this._setStyles(this.adActionsEl,{left:"left"===this.config.positionX?this.config.offsetX:"unset",right:"right"===this.config.positionX?this.config.offsetX:"unset",bottom:"bottom"===this.config.positionY?this.config.offsetY:"unset",top:"top"===this.config.positionY?this.config.offsetY:"unset","font-size":"14px",padding:"10px 12px 10px 16px"}),this.isOpened=!1},d.prototype._clickListener=function(a){a.stopPropagation(),this.isOpened||(this._setStyles(this.actionsWrapperEl,{display:"flex"}),this._setStyles(this.disclaimerWrapperEl,{display:"none"}),this.isSmall&&(this._setStyles(this.adActionsEl,{left:"2px",right:"2px"}),"top"===this.config.positionY?this._setStyles(this.adActionsEl,{top:this.config.offsetY}):this._setStyles(this.adActionsEl,{bottom:this.config.offsetY}),this._setStyles(this.adActionsEl,{"font-size":"12px",padding:"4px 6px 4px 9px"})),this.isOpened=!0)},d.prototype._setHoverActionsCopyListener=function(a){a?(this._setStyles(this.actionsCopyPictureEl,{"background-image":'url("'+this.copyIconActiveSrc+'")'}),this._setStyles(this.actionsCopyEl,{color:"rgba(255, 255, 255, 0.8)"})):(this._setStyles(this.actionsCopyPictureEl,{"background-image":'url("'+this.copyIconSrc+'")'}),this._setStyles(this.actionsCopyEl,{color:"rgba(255, 255, 255, 0.72)"}))},d.prototype._setHoverActionsAboutListener=function(a){a?(this._setStyles(this.actionsAboutPictureEl,{"background-image":'url("'+this.aboutIconActiveSrc+'")'}),this._setStyles(this.actionsAboutEl,{color:"rgba(255, 255, 255, 0.8)"})):(this._setStyles(this.actionsAboutPictureEl,{"background-image":'url("'+this.aboutIconSrc+'")'}),this._setStyles(this.actionsAboutEl,{color:"rgba(255, 255, 255, 0.72)"}))},d.prototype._setHoverActionsHeaderButton=function(a){a?this._setStyles(this.actionsHeaderButton,{"background-image":'url("'+this.closeIconActiveSrc+'")'}):this._setStyles(this.actionsHeaderButton,{"background-image":'url("'+this.closeIconSrc+'")'})},d.prototype.appendTo=function(a){if(a){try{var b=window.getComputedStyle(a).width,c=this.actionsWrapperWidth+parseInt(this.adActionsEl.style.paddingLeft)+parseInt(this.adActionsEl.style.paddingRight);(b?parseInt(b):c+1)<=c&&(this.isSmall=!0)}catch(a){console.warn("Failed detect small wrapper size",a)}this.appendedTo=a,a.appendChild(this.adActionsEl)}},d.prototype.getEl=function(){return this.adActionsEl},d.prototype.destroy=function(){this.removeListeners(),this.removeFromDOM()},d.prototype.removeFromDOM=function(){this.adActionsEl.remove()},d.prototype.removeListeners=function(){this.actionsAboutEl.removeEventListener("mouseover",this._setHoverActionsAboutListener.bind(this,!0)),this.actionsAboutEl.removeEventListener("mouseout",this._setHoverActionsAboutListener.bind(this,!1)),this.actionsCopyEl.removeEventListener("mouseover",this._setHoverActionsCopyListener.bind(this,!0)),this.actionsCopyEl.removeEventListener("mouseout",this._setHoverActionsCopyListener.bind(this,!1)),this.actionsHeaderButton.removeEventListener("mouseover",this._setHoverActionsHeaderButton.bind(this,!0)),this.actionsHeaderButton.removeEventListener("mouseout",this._setHoverActionsHeaderButton.bind(this,!1)),this.adActionsEl.removeEventListener("mouseover",this._setAdActionsHoverListener.bind(this,!0)),this.adActionsEl.removeEventListener("mouseout",this._setAdActionsHoverListener.bind(this,!1)),this.adActionsEl.removeEventListener("click",this._clickListener.bind(this)),this.actionsHeaderButton.removeEventListener("click",this._actionsHeaderButtonListener.bind(this))};var m=new d;return m.preBuild(),{render:g,onTimeRemained:h,dispose:i}},AdmanHTML.EmptyAdRenderer=function(a,b){"use strict";function c(){b.log("sectionEmpty"),setTimeout(function(){a.cb("onCompleted")})}return{start:c}},AdmanHTML.HtmlAdRenderer=function(a,b){"use strict";function c(){o.start(),s=b.getAd(),m=s.duration,l=k(),l.width="100%",l.height="100%",l.setAttribute("style","display:block;width:100%;height:100%"),o.setView(l,{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"transparent"}),AdmanHTML.Utils.isElement(a.videoEl)&&a.videoEl.parentNode===o.mainEl.parentNode&&o.mainEl.parentNode.insertBefore(o.mainEl,a.videoEl.nextSibling),l.contentWindow||l.contentDocument?d():l.onload=function(a){d()},p.render()}function d(){r=l.contentWindow?l.contentWindow.document:l.contentDocument,r.open(),r.write(s.src),r.close(),q=AdmanHTML.Utils.getElementViewport(a.wrapper),q.addEventListener("message",i),a.viewability.start(o.mainEl,b),g(),o.onStart()}function e(){t||(t=!0,u+=Date.now()-v,clearInterval(n),a.cb("onPaused"))}function f(){t&&(t=!1,g(),a.cb("onPlayed"))}function g(){v=Date.now(),n=setInterval(h,500)}function h(){u+=Date.now()-v,v=Date.now(),o.onTimeRemained(u/1e3,m),p.onTimeRemained(u/1e3,m),u>=1e3*m&&a.cb("onCompleted")}function i(c){if(c.source===l.contentWindow)try{switch(JSON.parse(c.data).type){case"trg:click":b.log("click"),a.cb("onClicked")}}catch(a){}}function j(){clearInterval(n),q.removeEventListener("message",i),o.dispose(),p.dispose()}function k(){var a=document.createElement("iframe");return a.scrolling="no",a.marginWidth="0",a.marginHeight="0",a.frameBorder="0",a.id="ad-frame-"+Math.round(1e5*Math.random()),a}var l,m,n,o=new AdmanHTML.AdRenderer(a,b),p=new AdmanHTML.DisclaimerRenderer(a,b),q=null,r=null,s=null,t=!1,u=0,v=0;return o.onClick=function(){},{start:c,pause:e,resume:f,skip:o.skip,dispose:j}},AdmanHTML.ImgAdRenderer=function(a,b){"use strict";function c(){e.start(),e.registerTimer(),AdmanHTML.Utils.addCss(i,h);var a=b.getAd();e.setView(AdmanHTML.Utils.renderTemplate(j,a),{position:"absolute",display:"inline-block",width:"100%","max-width":a.width+"px",left:"50%",bottom:0,transform:"translate(-50%,0)","box-sizing":"border-box",overflow:"hidden","text-align":"center"});var c=b.getSettings(),d=e.mainEl.querySelector(".rb-adman_age_wrapper");if(c&&c.advertisment&&c.advertisment.image){var k=c.advertisment.image;AdmanHTML.StyleUtils.applyStyle(e.mainEl,k,"fontFace contentIndent hasBackground backgroundColor backgroundAlpha cornerRounding".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_image_wrapper"),k,"borderSize borderColor borderAlpha borderCornerRounding".split(" "));var l=c.advertisment.image.ageRestrictions;a.ageRestrictions&&l&&(AdmanHTML.StyleUtils.applyStyle(d,l),AdmanHTML.StyleUtils.applyStyle(d.querySelector(".rb-adman_age_content"),l,["textUnderline"]))}a.ageRestrictions||d.parentNode.removeChild(d),f.setWrapper(e.mainEl),f.start(),e.onStart(),g.render()}function d(){e.dispose(),f.dispose(),g.dispose()}var e=new AdmanHTML.AdRenderer(a,b),f=new AdmanHTML.CloseBtnRenderer(a,b),g=new AdmanHTML.DisclaimerRenderer(a,b),h="rb-adman-img-style",i=".rb-adman_image_overlay {display:inline-block; overflow:hidden;vertical-align:middle;cursor:pointer;color:#fff}.rb-adman_image_overlay .rb-adman_image_wrapper {display:block;border:0px solid transparent;overflow:hidden;}.rb-adman_image_overlay .rb-adman_image_wrapper img {vertical-align:top;}.rb-adman_image_overlay .rb-adman_age_wrapper {display:block;position:absolute;top:0px;left:3px;border:0px solid transparent;margin-right:1px;text-decoration:none!important}",j='<div class="rb-adman_image_overlay"><div class="rb-adman_image_wrapper"><img src="{{src}}" width="100%" height="auto"></div><span class="rb-adman_age_wrapper"><span class="rb-adman_age_content">{{ageRestrictions}}</span></span></div>';return{start:c,pause:e.pause,resume:e.resume,skip:e.skip,dispose:d}},AdmanHTML.ResearchAdRenderer=function(a,b){"use strict";function c(a,b){var c=[];return a.forEach(function(a){a.name===b&&c.push(a)}),c}function d(a,b,c){return b<=a&&(!c||c>=a)}function e(){!p&&o&&(p=!0,b.log("playbackPaused"))}function f(){p&&o&&(p=!1,b.log("playbackResumed"))}function g(){o=!1,p=!1,n.stop()}function h(a){var c=!a;c!==q&&(q=c,b.log(c?"volumeOff":"volumeOn"))}function i(){o&&(s&&k(s,s),l&&t.forEach(function(a){a.completed||(a.completed=!0,!a.viewable&&AdmanHTML.Utils.loadImg(a.url))}),g())}function j(a){b.log(a?"fullscreenOn":"fullscreenOff")}function k(c,e){if(!isNaN(c)){o||(o=!0,n.start(a.playerEl,b,!0),b.log("playbackStarted")),c=Math.round(c);var f=null!==r?c-r:null;if(r=c,b.log("thresholdValue",c),!isNaN(e)&&isFinite(e)&&e>0&&(e=Math.round(e),s=e,b.log("thresholdPValue",Math.floor(c/e*100))),f<0&&b.log("rewind"),u.forEach(function(a){if(d(c,a.start,a.end)){var b=Math.floor((c-a.start)/a.rate);b>0&&a.last!==b&&(a.last=b,AdmanHTML.Utils.loadImg(a.url.replace("[CONTENTPLAYHEAD]",c)))}else a.last=null}),!1!==l&&0!==f){var g,h=f<0||f>1;t.forEach(function(a){if(d(c,a.start,a.end)&&!a.completed){g=g||n.getViewabilityState(),l="DETERMINED"===g.state;var b=g.percent>a.percent&&g.focus;a.duration=a.duration||0,a.lastViewable&&b&&!h?a.duration+=f:a.duration=0,a.lastViewable=b,a.duration>=a.value&&(a.completed=!0,a.viewable&&AdmanHTML.Utils.loadImg(a.url))}else a.duration=0,a.lastViewable=!1})}}}var l,m=b.getExtendedAdForApp().statistics,n=new AdmanHTML.Viewability,o=!1,p=!1,q=!1,r=null,s=null,t=c(m,"mrcValue"),u=c(m,"timerValue");return{pause:e,resume:f,setVolume:h,setPosition:k,setComplete:i,setFullscreen:j}},AdmanHTML.StatisticsAdRenderer=function(a,b){"use strict";function c(){b.log("playbackStarted"),AdmanHTML.Utils.setTimeout(function(){a.cb("onCompleted")})}return{start:c}},AdmanHTML.SwfAdRenderer=function(a,b){"use strict";function c(){e.start(),AdmanHTML.Utils.checkFlashAsync(function(c){c===AdmanHTML.Utils.FLASH_READY?(e.registerTimer(),e.setView(d(b.getAd().src,{width:"100%",height:"100%"},{}),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"black"}),e.onStart()):a.cb("onError")})}function d(a,b,c){var d,e,f=b||{},g=c||{};f.type="application/x-shockwave-flash",window.ActiveXObject?(f.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",g.movie=a):f.data=a,e="<object";for(d in f)f.hasOwnProperty(d)&&(e+=" "+d+'="'+f[d]+'"');e+=">";for(d in g)g.hasOwnProperty(d)&&(e+='<param name="'+d+'" value="'+g[d]+'" />');return e+="</object>"}var e=new AdmanHTML.AdRenderer(a,b);return{start:c,skip:e.skip,dispose:e.dispose,createSwfObject:d,super:e}},AdmanHTML.TextAdRenderer=function(a,b){"use strict";function c(){e.start(),e.registerTimer(),AdmanHTML.Utils.addCss(i,h);var a=AdmanHTML.Utils.mixin({header:"",body:"",hyperlinkText:""},b.getAd());e.setView(AdmanHTML.Utils.renderTemplate(j,a),{position:"absolute",margin:"0 auto",left:0,right:0,bottom:0,"box-sizing":"border-box",overflow:"hidden"});var c=b.getSettings();if(c&&c.advertisment&&c.advertisment.text){var d=c.advertisment.text;AdmanHTML.StyleUtils.applyStyle(e.mainEl,d,"fontFace width height contentPadding hasBackground backgroundColor backgroundAlpha cornerRounding".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_header"),d,"headerColor headerSize headerUnderline headerBold headerIndent".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_header_text"),d,["headerUnderlineOnRollOver"]),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_body"),d,"bodyColor bodySize bodyUnderline bodyLeading bodyIndent bodyPaddingRight".split(" ")),AdmanHTML.StyleUtils.applyStyle(e.mainEl.querySelector(".rb-adman_link"),d,"hyperlinkColor hyperlinkSize hyperlinkUnderline hyperlinkIndent".split(" "));var k=c.advertisment.text.ageRestrictions,l=e.mainEl.querySelector(".rb-adman_age_wrapper");a.ageRestrictions?k&&(AdmanHTML.StyleUtils.applyStyle(l,k),AdmanHTML.StyleUtils.applyStyle(l.querySelector(".rb-adman_age_content"),k,["textUnderline"])):l.parentNode.removeChild(l);var m=e.mainEl.querySelector(".rb-adman_image_wrapper span");if(d.noImage)m.parentNode.removeChild(m);else if(d.contentPadding&&(m.style.marginRight=AdmanHTML.StyleUtils.getLength(d.contentPadding)),d.maxImageHeight||d.maxImageWidth){var n=a.width/a.height;m.style.width=AdmanHTML.StyleUtils.getLength(Math.round(d.maxImageWidth||d.maxImageHeight*n)),m.style.height=AdmanHTML.StyleUtils.getLength(Math.round(d.maxImageHeight||d.maxImageWidth/n))}}f.setWrapper(e.mainEl),f.start(),g.render(),e.onStart()}function d(){e.dispose(),f.dispose(),g.dispose()}
var e=new AdmanHTML.AdRenderer(a,b),f=new AdmanHTML.CloseBtnRenderer(a,b),g=new AdmanHTML.DisclaimerRenderer(a,b),h="rb-adman-text-style",i=".rb-adman_text_overlay {display:block; overflow:hidden;height:100%;cursor:pointer;color:#fff}.rb-adman_text_overlay .rb-adman_image_wrapper {display:block;float:left;position:relative;height:100%;vertical-align:middle}.rb-adman_text_overlay .rb-adman_image_wrapper span {display:inline-block;vertical-align:middle;background-size:contain;background-position:center}.rb-adman_text_overlay .rb-adman_text_wrapper {display:block;overflow:hidden;height:100%;vertical-align:top;line-height:1.2}.rb-adman_text_overlay .rb-adman_header {display:block;white-space:nowrap;margin-right:20px;overflow:hidden;text-overflow:ellipsis}.rb-adman_text_overlay .rb-adman_age_wrapper {display:inline-block; vertical-align:middle;border:0px solid transparent;margin-right:1px;text-decoration:none!important}.rb-adman_text_overlay .rb-adman_header_text {color:inherit;text-decoration:none;letter-spacing:normal;line-height:1.5;vertical-align:middle}.rb-adman_text_overlay .rb-adman_header_text:hover {color:inherit;text-decoration:underline}.rb-adman_text_overlay .rb-adman_body {padding:2px 0}.rb-adman_text_overlay .rb-adman_body, .rb-adman_link {display:block;text-decoration:none;padding-top:2px}",j='<div class="rb-adman_text_overlay"><div class="rb-adman_image_wrapper"><div style="display:table;height:100%;"><div style="display:table-cell;height:100%;vertical-align:middle"><span style="background-image: url({{src}});width:{{width}}px;height:{{height}}px"></span></div></div></div><div class="rb-adman_text_wrapper"><span class="rb-adman_header"><span class="rb-adman_age_wrapper"><span class="rb-adman_age_content">{{ageRestrictions}}</span></span><span class="rb-adman_header_text">{{header}}</span></span><span class="rb-adman_body">{{body}}</span><span class="rb-adman_link">{{hyperlinkText}}</span></div></div>';return{start:c,pause:e.pause,resume:e.resume,skip:e.skip,dispose:d}},AdmanHTML.VideoAdRenderer=function(a,b){"use strict";function c(){i.mainEl=a.videoEl,i.clickEl=a.clickEl||i.mainEl,k.forEach(function(a){i.mainEl.addEventListener(a,e)}),i.mainEl.parentNode?m={src:i.mainEl.src,time:i.mainEl.currentTime,muted:i.mainEl.muted}:i.setView(null,{position:"absolute",width:"100%",height:"100%",top:0}),i.mainEl.controls=a.browser.mobile,i.mainEl.src=b.getAd().src,i.mainEl.load(),g(0),h=i.mainEl.play(),h&&h.then&&h.then(f,function(){i.mainEl.muted=!0,h=i.mainEl.play(),h.then(f,function(){})}),i.start(),j.render()}function d(){j.dispose(),i.dispose(),k.forEach(function(a){i.mainEl.removeEventListener(a,e)}),m.src?(i.mainEl.src=m.src,i.mainEl.load(),i.mainEl.play(),g(m.time)):(i.mainEl.src="",i.mainEl.removeAttribute&&i.mainEl.removeAttribute("src"))}function e(b){switch(b.type){case"loadedmetadata":a.stats.metrics("ready"),a.stats.metrics("creative_type","video"),j.onTimeRemained(i.mainEl.currentTime,i.mainEl.duration);break;case"playing":h||f();break;case"play":a.cb("onPlayed");break;case"pause":a.cb("onPaused");break;case"timeupdate":i.onTimeRemained(i.mainEl.currentTime,i.mainEl.duration),j.onTimeRemained(i.mainEl.currentTime,i.mainEl.duration);break;case"ended":a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",a.cb("onCompleted"),a.stats.metrics("completed");break;case"error":a.stats.metrics("media_error_code",b.target.error.code),a.cb("onError")}}function f(){if(!l){l=!0;var c=AdmanHTML.Utils.isElement(i.mainEl)?i.mainEl:i.wrapperEl;a.viewability.start(c,b),i.onStart({muted:i.mainEl.muted})}}function g(a){if(i.mainEl)try{i.mainEl.currentTime=a}catch(a){}}var h,i=new AdmanHTML.AdRenderer(a,b),j=new AdmanHTML.DisclaimerRenderer(a,b),k=["loadedmetadata","error","pause","play","playing","timeupdate","ended"],l=!1,m={};return{start:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="play",c(),a.stats.metrics("playing")},skip:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",a.stats.metrics("skipped"),i.skip.apply(a,arguments)},dispose:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",d()},pause:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",i.mainEl.pause()},resume:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="play",i.mainEl.play()},setVolume:function(a){var c=i.mainEl.muted?0:i.mainEl.volume;a>0&&i.mainEl.muted&&(i.mainEl.muted=!1),0===a&&(i.mainEl.muted=!0),i.mainEl.volume=a,(0===c&&a>0||c>0&&0===a)&&b.log(a?"volumeOn":"volumeOff")}}},AdmanHTML.VpaidJsAdRenderer=function(a,b){"use strict";function c(){var a;if(!i)return w.duration;try{a=i.callGet("adDuration"),void 0===a&&(a=w.duration)}catch(b){a=w.duration}return a}function d(){if(u.start(),v.render(),AdmanHTML.Utils.isElement(a.videoEl)){var c=AdmanHTML.Utils.getElementViewport;c(a.videoEl)===c(u.wrapperEl)&&(a.videoEl.parentNode?(k=a.videoEl.parentNode,l=a.videoEl.nextSibling):j=!0,u.wrapperEl.insertBefore(a.videoEl,u.wrapperEl.childNodes[0]),AdmanHTML.Utils.mixin(a.videoEl.style,{position:"absolute",width:"100%",height:"100%",top:0,display:"block"}))}var d=b.getSettings();d&&(d.loadTimeout&&(x=d.loadTimeout),d.startTimeout&&(y=d.startTimeout)),a.cb("onStarted",[b.sectionType,b.getAdForApp()||{}]),f(x,"EXTERNAL_JS_ADVERTISMENT_TIMEOUT:LoadInterface"),i.urlToNavigateOnClick=b.getAd().urlToNavigateOnClick,u.setView(i.load(w.src,a.config.vpaidHtmlInterface),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"transparent"})}function e(){j&&a.videoEl.parentNode?a.videoEl.parentNode.removeChild(a.videoEl):k&&k.insertBefore(a.videoEl,l&&l.parentNode?l:null),g(),i.destroy(),v.dispose(),u.dispose()}function f(a,b){g(),r=b,n=setTimeout(h,a)}function g(){clearTimeout(n)}function h(){q=!0,g(),b.log("error");var c="";r&&(c=r+":"+w.bannerID,a.stats.logError(c)),a.cb("onError",{force:!0,message:c})}var i,j,k,l,m,n,o,p,q,r,s,t,u=new AdmanHTML.AdRenderer(a,b),v=new AdmanHTML.DisclaimerRenderer(a,b),w=b.getAd(),x=500,y=1e3;u.onResize=function(a,b){i&&i.call("resizeAd",[a,b,"normal"])},u.onClick=function(){};var z=function(d,e){if(!q){var h,j;switch(d){case"loaded":f(x,"EXTERNAL_JS_ADVERTISMENT_TIMEOUT:LoadJs");break;case"vpaidloaded":g();break;case"inited":i.call("handshakeVersion",["2.0"])?(f(y,"EXTERNAL_JS_ADVERTISMENT_TIMEOUT:InitAd"),i.call("initAd",[u.mainEl.offsetWidth,u.mainEl.offsetHeight,"normal",w.bitrate,{AdParameters:w.params}])):a.cb("onError");break;case"AdStarted":g(),p=i.callGet("adVolume"),void 0===o||i.autoMuted||i.callSet("adVolume",o),b.log("playbackStarted"),a.viewability.start(u.mainEl,b),a.cb("onVPAIDStarted"),a.stats.metrics("playing");break;case"AdLoaded":f(y,"EXTERNAL_JS_ADVERTISMENT_TIMEOUT:StartAd"),i.call("startAd"),a.stats.metrics("ready"),a.stats.metrics("creative_type","vpaid");break;case"AdRemainingTimeChange":h=c(),j=i.callGet("adRemainingTime"),h>0&&j>=0?(u.onTimeRemained(h-j,h),v.onTimeRemained(h-j,h)):a.cb("onDurationChanged",[{remained:j,duration:h}]);break;case"AdVolumeChange":var k=i.callGet("adVolume");(0===p&&k>0||p>0&&0===k)&&b.log(k?"volumeOn":"volumeOff"),p=k;break;case"AdVideoComplete":a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",h=c(),u.onTimeRemained(h,h);break;case"AdStopped":case"AdSkipped":s||(s=!0,setTimeout(function(){m?m():a.cb("onCompleted")})),a.stats.metrics("AdStopped"===d?"completed":"skipped");break;case"AdClickThru":e.url&&e.playerHandles&&window.open(e.url,"_blank"),b.log("click"),a.cb("onClicked");break;case"AdError":a.stats.logError("EXTERNAL_JS_ADVERTISMENT_ERROR:"+(e&&e.message||"")),a.stats.metrics("vpaid_error_message",e&&e.message||"vpaid script err"),a.cb("onError");break;case"AdPaused":t||(t=!0,a.cb("onPaused"));break;case"AdPlaying":t&&(t=!1,a.cb("onPlayed"));break;case"AdUserClose":b.log("closedByUser");break;case"video:pause":t||i&&i.call("pauseAd");break;case"video:play":t&&i&&i.call("resumeAd")}}},A=a.wrapper.ownerDocument,B=A.defaultView||A.parentWindow;return i=new AdmanHTML.VpaidLoader(a.videoEl,B),i.onVpaidEvent(z),{start:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="play",d()},dispose:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",e()},pause:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",i&&i.call("pauseAd")},resume:function(){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="play",i&&i.call("resumeAd")},setVolume:function(a){i&&i.callSet("adVolume",a),o=a},skip:function(b){a.playStatus||(a.playStatus={}),a.playStatus.prevStatus=a.playStatus.curStatus,a.playStatus.curStatus="pause",m=b;try{i&&i.call("skipAd")}catch(a){}a.stats.metrics("skipped")}}},AdmanHTML.VpaidSwfAdRenderer=function(a,b){"use strict";function c(){var a;if(!i)return r.duration;try{a=i.callGet("adDuration")||r.duration}catch(b){a=r.duration}return a}function d(){q.start();var c=b.getSettings();c&&(c.loadTimeout&&(t=c.loadTimeout),c.startTimeout&&(u=c.startTimeout)),AdmanHTML.Utils.checkFlashAsync(function(c){if(c===AdmanHTML.Utils.FLASH_READY){a.cb("onStarted",[b.sectionType,b.getAdForApp()||{}]),f(t);var d="vpaidSwfUrl="+encodeURIComponent(r.src)+"&proxyMethodName="+s;q.setView(o.createSwfObject(a.config.vpaidJsInterface,{width:"100%",height:"100%"},{flashvars:d,allowScriptAccess:"always",wmode:"opaque"}),{position:"absolute",top:0,left:0,right:0,bottom:0,"background-color":"black"})}else a.cb("onError")}),p.render()}function e(){g(),q.dispose(),p.dispose(),window[s]=null}function f(a){g(),k=setTimeout(h,a)}function g(){clearTimeout(k)}function h(){n=!0,g(),b.log("error"),a.cb("onError")}var i,j,k,l,m,n,o=new AdmanHTML.SwfAdRenderer(a,b),p=new AdmanHTML.DisclaimerRenderer(a,b),q=o.super,r=b.getAd(),s="vpaidProxyMethod"+Date.now(),t=500,u=1e3;return q.onResize=function(a,b){i&&i.call("resizeAd",[a,b,"normal"])},q.onClick=function(){},window[s]=function(d,e){if(!n){var h;switch(d){case"loaded":f(t);break;case"vpaidloaded":g();break;case"inited":i=q.mainEl.getElementsByTagName("object")[0];i.call("handshakeVersion",["2.0"])?(f(u),i.call("initAd",[q.mainEl.offsetWidth,q.mainEl.offsetHeight,"normal",r.bitrate,r.params,""])):a.cb("onError");break;case"AdStarted":g(),m=i.callGet("adVolume"),void 0!==l&&i.callSet("adVolume",l),b.log("playbackStarted"),a.viewability.start(q.mainEl,b),a.cb("onVPAIDStarted");break;case"AdLoaded":f(u),i.call("startAd");break;case"AdRemainingTimeChange":h=c(),q.onTimeRemained(h-i.callGet("adRemainingTime"),h),p.onTimeRemained(h-i.callGet("adRemainingTime"),h);break;case"AdVolumeChange":var k=i.callGet("adVolume");(0===m&&k>0||m>0&&0===k)&&b.log(k?"volumeOn":"volumeOff"),m=k;break;case"AdVideoComplete":h=c(),q.onTimeRemained(h,h);break;case"AdStopped":case"AdSkipped":setTimeout(function(){j?j():a.cb("onCompleted")});break;case"AdClickThru":b.log("click"),a.cb("onClicked");break;case"AdError":a.stats.logError("EXTERNAL_SWF_ADVERTISMENT_ERROR:"+(e&&e.message||"")),a.cb("onError");break;case"AdPaused":a.cb("onPaused");break;case"AdPlaying":a.cb("onPlayed");break;case"AdUserClose":b.log("closedByUser")}}},{start:d,dispose:e,pause:function(){i&&i.call("pauseAd")},resume:function(){i&&i.call("resumeAd")},setVolume:function(a){i&&i.callSet("adVolume",a),l=a},skip:function(a){j=a;try{i&&i.call("skipAd")}catch(a){}}}};
if(window.admanAsyncLoader){setTimeout(admanAsyncLoader)}else{window.admanAsyncInit&&setTimeout(admanAsyncInit)}